/*! For license information please see moli_7744914d58bc18e9d062.min.mjs.LICENSE.txt */
(()=>{var __webpack_modules__={366:(e,t,r)=>{"use strict";var i=r(13),n=r(240),a=r(265);function o(e,t,r){t.split&&(t=t.split("."));for(var i,n,a=0,o=t.length,s=e;a<o&&"__proto__"!==(n=t[a++])&&"constructor"!==n&&"prototype"!==n;)s=s[n]=a===o?r:typeof(i=s[n])==typeof t?i:0*t[a]!=0||~(""+t[a]).indexOf(".")?{}:[]}var s=r(782),d=r(120),c=r(999),l=r(181),u=r(7),p=r(912),g=r(808),{AD_RENDER_FAILED:f,AD_RENDER_SUCCEEDED:m}=c.EVENTS;function v(e){var{reason:t,message:r,bid:i,id:a}=e,o={reason:t,message:r};i&&(o.bid=i),a&&(o.adId=a),(0,n.H)(r),s.j8(f,o)}function h(e){var{doc:t,bid:r,id:i}=e,n={doc:t};r&&(n.bid=r),i&&(n.adId=i),s.j8(m,n)}var b=c.EVENTS.BID_WON,y=c.EVENTS.STALE_RENDER,_=new WeakSet,w={"Prebid Request":function(e,t,r){if(null!=r){if(r.status!==c.BID_STATUS.RENDERED||((0,n.yN)("Ad id ".concat(r.adId," has been rendered before")),s.j8(y,r),!(0,a.Z)(g.vc.getConfig("auctionOptions"),"suppressStaleRender"))){try{!function(e,t){var{adId:r,ad:i,adUrl:a,width:o,height:s,renderer:d,cpm:c,originalCpm:l}=e;(0,p.Pd)(d)?(0,p._U)(d,e):r&&(S(e),t({message:"Prebid Response",ad:(0,n.ew)(i,l||c),adUrl:(0,n.ew)(a,l||c),adId:r,width:o,height:s}))}(r,e)}catch(e){return void v({reason:c.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:t.adId,bid:r})}l.K.addWinningBid(r),s.j8(b,r)}}else v({reason:c.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:"Cannot find ad for cross-origin render request: '".concat(t.adId,"'"),id:t.adId})},"Prebid Event":function(e,t,r){if(null!=r)if(r.status===c.BID_STATUS.RENDERED)switch(t.event){case c.EVENTS.AD_RENDER_FAILED:v({bid:r,id:t.adId,reason:t.info.reason,message:t.info.message});break;case c.EVENTS.AD_RENDER_SUCCEEDED:h({doc:null,bid:r,id:t.adId});break;default:(0,n.H)("Received x-origin event request for unsupported event: '".concat(t.event,"' (adId: '").concat(t.adId,"')"))}else(0,n.yN)("Received x-origin event request without corresponding render request for ad '".concat(t.adId,"'"));else(0,n.H)("Cannot find ad '".concat(t.adId,"' for x-origin event request"))}};function I(e){var t=e.message?"message":"data",r={};try{r=JSON.parse(e[t])}catch(e){return}if(r&&r.adId&&r.message){var i=(0,u.sE)(l.K.getBidsReceived(),(function(e){return e.adId===r.adId}));w.hasOwnProperty(r.message)&&w[r.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,n.H)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),r,i)}}function S(e){var{adId:t,adUnitCode:r,width:i,height:a}=e;["div","iframe"].forEach((e=>{var o=function(e){var i=function(e,t){return(0,n.T9)()?function(e){var t=(0,u.sE)(window.googletag.pubads().getSlots(),(t=>(0,u.sE)(t.getTargetingKeys(),(r=>(0,u.q9)(t.getTargeting(r),e)))));return t?t.getSlotElementId():null}(e):(0,n.X4)()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,r),a=document.getElementById(i);return a&&a.querySelector(e)}(e+':not([style*="display: none"])');if(o){var s=o.style;s.width=i?i+"px":"100%",s.height=a+"px"}else(0,n.yN)("Unable to locate matching page element for adUnitCode ".concat(r,".  Can't resize it to ad's dimensions.  Please review setup."))}))}Object.assign(w,{"Prebid Native":function(e,t,r){if(null!=r)switch(_.has(r)||(_.add(r),l.K.addWinningBid(r),s.j8(b,r)),t.action){case"assetRequest":e((0,d.eK)(t,r));break;case"allAssetRequest":e((0,d.JL)(t,r));break;case"resizeNativeHeight":r.height=t.height,r.width=t.width,S(r);break;default:(0,d.e6)(t,r)}else(0,n.H)("Cannot find ad for x-origin event request: '".concat(t.adId,"'"))}});var E=r(980),A=r(449),O=r(955),k=r(844),T=[],C=1;g.vc.getConfig("ttlBuffer",(e=>{"number"==typeof e.ttlBuffer?C=e.ttlBuffer:(0,n.H)("Invalid value for ttlBuffer",e.ttlBuffer)}));var P="targetingControls.allowTargetingKeys",x="targetingControls.addTargetingKeys",R='Only one of "'.concat(P,'" or "').concat(x,'" can be set'),D=Object.keys(c.TARGETING_KEYS).map((e=>c.TARGETING_KEYS[e])),j={isActualBid:e=>e.getStatusCode()===c.STATUS.GOOD,isBidNotExpired:e=>e.responseTimestamp+1e3*(e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:C))>(0,n.AB)(),isUnusedBid:e=>e&&(e.status&&!(0,u.q9)([c.BID_STATUS.RENDERED],e.status)||!e.status)};function N(e){return!Object.values(j).some((t=>!t(e)))}var U=(0,O.z3)("sync",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!i){var a=[],o=g.vc.getConfig("sendBidsControl.dealPrioritization"),s=(0,n.vM)(e,"adUnitCode");return Object.keys(s).forEach((e=>{var i=[],d=(0,n.vM)(s[e],"bidderCode");Object.keys(d).forEach((e=>i.push(d[e].reduce(t)))),r>0?(i=o?i.sort(B(!0)):i.sort(((e,t)=>t.cpm-e.cpm)),a.push(...i.slice(0,r))):a.push(...i)})),a}return e}));function B(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,r){return void 0!==t.adserverTargeting.hb_deal&&void 0===r.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==r.adserverTargeting.hb_deal?1:e?r.cpm-t.cpm:r.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var M=function(e){var t={},r={};function i(e,t){return e.adserverTargeting&&t&&((0,n.kJ)(t)&&(0,u.q9)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function o(e,t){if(!0===g.vc.getConfig("targetingControls.alwaysIncludeDeals")){var r=D.concat(d.xc);return U(t,n.ZH).map((t=>{if(t.dealId&&i(t,e))return{[t.adUnitCode]:S(t,r.filter((e=>void 0!==t.adserverTargeting[e])))}})).filter((e=>e))}return[]}function s(e,t){var r=Object.assign({},c.TARGETING_KEYS,c.NATIVE_KEYS),i=Object.keys(r),a={};(0,n.PN)("allowTargetingKeys - allowed keys [ ".concat(t.map((e=>r[e])).join(", ")," ]")),e.map((e=>{var n=Object.keys(e)[0],o=e[n].filter((e=>{var n=Object.keys(e)[0],o=0===i.filter((e=>0===n.indexOf(r[e]))).length||(0,u.sE)(t,(e=>{var t=r[e];return 0===n.indexOf(t)}));return a[n]=!o,o}));e[n]=o}));var o=Object.keys(a).filter((e=>a[e]));return(0,n.PN)("allowTargetingKeys - removed keys [ ".concat(o.join(", ")," ]")),e.filter((e=>e[Object.keys(e)[0]].length>0))}function l(e,t){var r=(0,n.I8)(e);return Object.keys(r).map((e=>({adUnitCode:e,adserverTargeting:r[e]}))).sort(B()).reduce((function(e,i,a,o){var s,d=(s=i.adserverTargeting,Object.keys(s).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(s[t]),"%26")}),""));a+1===o.length&&(d=d.slice(0,-3));var c=i.adUnitCode,l=d.length;return l<=t?(t-=l,(0,n.PN)("AdUnit '".concat(c,"' auction keys comprised of ").concat(l," characters.  Deducted from running threshold; new limit is ").concat(t),r[c]),e[c]=r[c]):(0,n.yN)("The following keys for adUnitCode '".concat(c,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(l,", the current allotted amount was ").concat(t,".\n"),r[c]),a+1===o.length&&0===Object.keys(e).length&&(0,n.H)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function p(e){var t=e.map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].join(",")}))).reduce(((e,t)=>Object.assign(t,e)),{})}))).reduce((function(e,t){var r=Object.keys(t)[0];return e[r]=Object.assign({},e[r],t[r]),e}),{});return t}function f(t){return"string"==typeof t?[t]:(0,n.kJ)(t)?t:e.getAdUnitCodes()||[]}function m(){var t=e.getBidsReceived();if(g.vc.getConfig("useBidCache")){var i=g.vc.getConfig("bidCacheFilterFunction");"function"==typeof i&&(t=t.filter((e=>r[e.adUnitCode]===e.auctionId||!!i(e))))}else t=t.filter((e=>r[e.adUnitCode]===e.auctionId));return t=t.filter((e=>(0,a.Z)(e,"video.context")!==A.Oh)).filter(N),U(t,n.K$)}function v(e,r){var i=t.getWinningBids(e,r),n=h();return i=i.map((e=>({[e.adUnitCode]:Object.keys(e.adserverTargeting).filter((t=>void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===n.indexOf(t))).reduce(((t,r)=>{var i=[e.adserverTargeting[r]],n={[r.substring(0,20)]:i};if(r===c.TARGETING_KEYS.DEAL){var a={["".concat(r,"_").concat(e.bidderCode).substring(0,20)]:i};return[...t,n,a]}return[...t,n]}),[])}))),i}function h(){return e.getStandardBidderAdServerTargeting().map((e=>e.key)).concat(D).filter(n.tT)}function b(e,t,r,i){return Object.keys(t.adserverTargeting).filter(y()).forEach((r=>{e.length&&e.filter(function(e){return function(r){return r.adUnitCode===t.adUnitCode&&r.adserverTargeting[e]}}(r)).forEach(function(e){return function(r){(0,n.kJ)(r.adserverTargeting[e])||(r.adserverTargeting[e]=[r.adserverTargeting[e]]),r.adserverTargeting[e]=r.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(n.tT),delete t.adserverTargeting[e]}}(r))})),e.push(t),e}function y(){var e=h();return e=e.concat(d.xc),function(t){return-1===e.indexOf(t)}}function _(e){return{[e.adUnitCode]:Object.keys(e.adserverTargeting).filter(y()).map((t=>({[t.substring(0,20)]:[e.adserverTargeting[t]]})))}}function w(e,t){return t.filter((t=>(0,u.q9)(e,t.adUnitCode))).map((e=>Object.assign({},e))).reduce(b,[]).map(_).filter((e=>e))}function I(e,t){var r=D.concat(d.xc),a=g.vc.getConfig("sendBidsControl.bidLimit"),o=U(t,n.ZH,a),s=g.vc.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),l=s?s.map((e=>c.TARGETING_KEYS[e])):r;return o.map((t=>{if(i(t,e))return{[t.adUnitCode]:S(t,r.filter((e=>void 0!==t.adserverTargeting[e]&&-1!==l.indexOf(e))))}})).filter((e=>e))}function S(e,t){return t.map((t=>({["".concat(t,"_").concat(e.bidderCode).substring(0,20)]:[e.adserverTargeting[t]]})))}function E(t){function r(e){return(0,a.Z)(e,c.JSON_MAPPING.ADSERVER_TARGETING)}function i(e){var t=r(e);return Object.keys(t).map((function(e){return(0,n.d8)(t[e])&&(t[e]=t[e].split(",").map((e=>e.trim()))),(0,n.kJ)(t[e])||(t[e]=[t[e]]),{[e]:t[e]}}))}return e.getAdUnits().filter((e=>(0,u.q9)(t,e.code)&&r(e))).map((e=>({[e.code]:i(e)})))}return t.setLatestAuctionForAdUnit=function(e,t){r[e]=t},t.resetPresetTargeting=function(t,r){if((0,n.T9)()){var i=f(t),a=e.getAdUnits().filter((e=>(0,u.q9)(i,e.code))),o=T.reduce(((e,t)=>(e[t]=null,e)),{});window.googletag.pubads().getSlots().forEach((e=>{var t=(0,n.LQ)(r)&&r(e);a.forEach((r=>{(r.code===e.getAdUnitPath()||r.code===e.getSlotElementId()||(0,n.LQ)(t)&&t(r.code))&&e.updateTargetingFromMap(o)}))}))}},t.resetPresetTargetingAST=function(e){f(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var r=Object.keys(t.keywords),i={};r.forEach((e=>{(0,u.q9)(T,e.toLowerCase())||(i[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:i})}}))},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m(),r=f(e),i=v(r,t).concat(w(r,t)).concat(g.vc.getConfig("enableSendAllBids")?I(r,t):o(r,t)).concat(E(r));i.map((e=>{Object.keys(e).map((t=>{e[t].map((e=>{-1===T.indexOf(Object.keys(e)[0])&&(T=Object.keys(e).concat(T))}))}))}));var a=Object.keys(Object.assign({},c.DEFAULT_TARGETING_KEYS,c.NATIVE_KEYS)),d=g.vc.getConfig(P),u=g.vc.getConfig(x);if(null!=u&&null!=d)throw new Error(R);d=null!=u?a.concat(u):d||a,Array.isArray(d)&&d.length>0&&(i=s(i,d)),i=p(i);var h=g.vc.getConfig("targetingControls.auctionKeyMaxChars");return h&&((0,n.PN)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(h," characters.  Running checks on auction keys...")),i=l(i,h)),r.forEach((e=>{i[e]||(i[e]={})})),i},g.vc.getConfig("targetingControls",(function(e){null!=(0,a.Z)(e,P)&&null!=(0,a.Z)(e,x)&&(0,n.H)(R)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((r=>{Object.keys(e).filter(t?t(r):(0,n.zV)(r)).forEach((t=>{Object.keys(e[t]).forEach((r=>{var i=e[t][r];"string"==typeof i&&-1!==i.indexOf(",")&&(i=i.split(",")),e[t][r]=i})),(0,n.ji)("Attempting to set targeting-map for slot: ".concat(r.getSlotElementId()," with targeting-map:"),e[t]),r.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m(),r=f(e);return t.filter((e=>(0,u.q9)(r,e.adUnitCode))).filter((e=>!0===k.S.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0)).map((e=>e.adUnitCode)).filter(n.tT).map((e=>t.filter((t=>t.adUnitCode===e?t:null)).reduce(n.ZH)))},t.setTargetingForAst=function(e){var r=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){(0,n.H)("unable to reset targeting for AST"+e)}Object.keys(r).forEach((e=>Object.keys(r[e]).forEach((t=>{if((0,n.ji)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(r[e][t])),(0,n.d8)(r[e][t])||(0,n.kJ)(r[e][t])){var i={};t.search(/pt[0-9]/)<0?i[t.toUpperCase()]=r[e][t]:i[t]=r[e][t],window.apntag.setKeywords(e,i,{overrideKeyValue:!0})}}))))},t.isApntagDefined=function(){if(window.apntag&&(0,n.LQ)(window.apntag.setKeywords))return!0},t}(l.K),q=r(979),z=r(680),L=r(935),V="__pbjs_debugging__";function F(){return(0,i.R)().installedModules.includes("debugging")}function H(e){return new L.Z((t=>{(0,z.B)(e,"debugging",t)}))}function Z(){var{alreadyInstalled:e=F,script:t=H}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null;return function(){return null==r&&(r=new L.Z(((r,a)=>{setTimeout((()=>{if(e())r();else{var o="https://cdn.jsdelivr.net/npm/prebid.js@7.45.0/dist/debugging-standalone.js";(0,n.ji)('Debugging module not installed, loading it from "'.concat(o,'"...')),(0,i.R)()._installDebugging=!0,t(o).then((()=>{(0,i.R)()._installDebugging({DEBUG_KEY:V,hook:O.z3,config:g.vc,createBid:q.m,logger:(0,n.qp)("DEBUG:")})})).then(r,a)}}))}))),r}}var G=function(){var{load:e=Z(),hook:t=(0,O.v5)("requestBids")}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null,i=!1;function n(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return(r||L.Z.resolve()).then((()=>e.apply(this,i)))}function a(){i||(r=e(),t.before(n,99),i=!0)}function o(){t.getHooks({hook:n}).remove(),i=!1}function s(){r=null,o()}return{enable:a,disable:o,reset:s}}();G.reset,g.vc.getConfig("debugging",(function(e){var{debugging:t}=e;null!=t&&t.enabled?G.enable():G.disable()}));var K=r(419),W=r(559),J=r(554),X=r(946),Y=r(462),Q=(0,W.eA)(),$=(0,n.HP)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;if(!Q.cookiesAreEnabled())return e;var t,r,i=e.split(".");if(2===i.length)return e;var a=-2,o="_rdc".concat(Date.now()),s="writeable";do{t=i.slice(a).join(".");var d=new Date((0,n.AB)()+1e4).toUTCString();Q.setCookie(o,s,d,"Lax",t,void 0);var c=Q.getCookie(o,void 0);c===s?(r=!1,Q.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(a+=-1,r=Math.abs(a)<=i.length)}while(r);return t})),ee=["architecture","bitness","model","platformVersion","fullVersionList"],te=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,r=(0,n.xb)(t)?null:Object.freeze(ie(1,t));return function(){return r}}(),re=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,r={},i=new WeakMap;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee;if(!i.has(e)){var a=Array.from(e);a.sort(),i.set(e,a.join("|"))}var o=i.get(e);if(!r.hasOwnProperty(o))try{r[o]=t.getHighEntropyValues(e).then((e=>(0,n.xb)(e)?null:Object.freeze(ie(2,e)))).catch((()=>null))}catch(e){r[o]=L.Z.resolve(null)}return r[o]}}();function ie(e,t){function r(e,t){var r={brand:e};return(0,n.d8)(t)&&!(0,n.jH)(t)&&(r.version=t.split(".")),r}var i={source:e};return t.platform&&(i.platform=r(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(i.browsers=(t.fullVersionList||t.brands).map((e=>{var{brand:t,version:i}=e;return r(t,i)}))),t.hasOwnProperty("mobile")&&(i.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((e=>{var r=t[e];(0,n.d8)(r)&&(i[e]=r)})),i}var ne=["dooh","app","site"];function ae(e){return function(t){return ne.reduce(((r,i)=>(oe(t,i)&&(null!=r?((0,n.yN)("".concat(e," specifies both '").concat(r,"' and '").concat(i,"'; dropping the latter.")),delete t[i]):r=i),r)),null),t}}function oe(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}var se={getRefererInfo:Y.nH,findRootDomain:$,getWindowTop:n.Zy,getWindowSelf:n.e7,getHighEntropySUA:re,getLowEntropySUA:te},de=ae("FPD"),ce=(0,O.z3)("sync",(e=>{return L.Z.all([e,(t=g.vc.getConfig("firstPartyData.uaHints"),Array.isArray(t)&&0!==t.length?se.getHighEntropySUA(t):L.Z.resolve(se.getLowEntropySUA())).catch((()=>null))]).then((e=>{var[t,r]=e,i=se.getRefererInfo();for(var a of(function(e){["app","site","device"].forEach((t=>{var r=g.vc.getConfig(t);null!=r&&(e[t]=(0,n.Ee)({},r,e[t]))}))}(t),Object.entries(pe).forEach((e=>{var[r,a]=e,o=a(t,i);o&&Object.keys(o).length>0&&(t[r]=(0,n.Ee)({},o,t[r]))})),r&&o(t,"device.sua",Object.assign({},r,t.device.sua)),t=de(t),ne))if(oe(t,a)){t[a]=(0,n.Ee)({},ge(0,i),t[a]);break}return t}));var t}));function le(e){try{return e(se.getWindowTop())}catch(t){return e(se.getWindowSelf())}}function ue(e){return(0,n.iG)(e,Object.keys(e))}var pe={site(e,t){if(!ne.filter((e=>"site"!==e)).some(oe.bind(null,e)))return ue({page:t.page,ref:t.ref})},device:()=>le((e=>({w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:(0,n.oV)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()}))),regs(){var e={};le((e=>e.navigator.globalPrivacyControl))&&o(e,"ext.gpc",1);var t=g.vc.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function ge(e,t){var r,i,n,a=(0,Y.hh)(t.page,{noLeadingWww:!0});return ue({domain:a,keywords:null===(r=le((e=>e.document.querySelector("meta[name='keywords']"))))||void 0===r||null===(i=r.content)||void 0===i||null===(n=i.replace)||void 0===n?void 0:n.call(i,/\s/g,""),publisher:ue({domain:se.findRootDomain(a)})})}var fe=(0,i.R)(),{triggerUserSyncs:me}=E.k_,{ADD_AD_UNITS:ve,BID_WON:he,REQUEST_BIDS:be,SET_TARGETING:ye,STALE_RENDER:_e}=c.EVENTS,{PREVENT_WRITING_ON_MAIN_DOCUMENT:we,NO_AD:Ie,EXCEPTION:Se,CANNOT_FIND_AD:Ee,MISSING_DOC_OR_ADID:Ae}=c.AD_RENDER_FAILED_REASON,Oe={bidWon:function(e){var t=l.K.getBidsRequested().map((e=>e.bids.map((e=>e.adUnitCode)))).reduce(n.xH).filter(n.tT);if((0,n.r3)(t,e))return!0;(0,n.H)('The "'+e+'" placement is not defined.')}};function ke(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function Te(e,t){var r=[];return(0,n.kJ)(e)&&(t?e.length===t:e.length>0)&&(e.every((e=>(0,n.HC)(e,2)))?r=e:(0,n.HC)(e,2)&&r.push(e)),r}function Ce(e){var t=(0,n.I8)(e),r=t.mediaTypes.banner,i=Te(r.sizes);return i.length>0?(r.sizes=i,t.sizes=i):((0,n.H)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function Pe(e){var t=(0,n.I8)(e),r=t.mediaTypes.video;if(r.playerSize){var i="number"==typeof r.playerSize[0]?2:1,a=Te(r.playerSize,i);a.length>0?(2===i&&(0,n.PN)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),r.playerSize=a,t.sizes=a):((0,n.H)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function xe(e){var t=(0,n.I8)(e),r=t.mediaTypes.native;if(r.ortb){var i=Object.keys(c.NATIVE_KEYS).filter((e=>c.NATIVE_KEYS[e].includes("hb_native_"))),a=Object.keys(r).filter((e=>i.includes(e)));a.length>0&&((0,n.H)("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(a," keys from request.")),a.forEach((e=>delete t.mediaTypes.native[e])))}return r.image&&r.image.sizes&&!Array.isArray(r.image.sizes)&&((0,n.H)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),r.image&&r.image.aspect_ratios&&!Array.isArray(r.image.aspect_ratios)&&((0,n.H)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),r.icon&&r.icon.sizes&&!Array.isArray(r.icon.sizes)&&((0,n.H)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function Re(e,t){var r=(0,a.Z)(e,"mediaTypes.".concat(t,".pos"));if(!(0,n.hj)(r)||isNaN(r)||!isFinite(r)){var i="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");(0,n.yN)(i),s.j8(c.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:i}),delete e.mediaTypes[t].pos}return e}function De(e){var t=t=>"adUnit.code '".concat(e.code,"' ").concat(t),r=e.mediaTypes,i=e.bids;return null==i||(0,n.kJ)(i)?null==i&&null==e.ortb2Imp?((0,n.H)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):r&&0!==Object.keys(r).length?(null==e.ortb2Imp||null!=i&&0!==i.length||(e.bids=[{bidder:null}],(0,n.ji)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,n.H)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,n.H)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){var e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){var t=G,r=null;try{r=e.getItem(V)}catch(e){}null!==r&&t.enable()}}(),fe.bidderSettings=fe.bidderSettings||{},fe.libLoaded=!0,fe.version="v7.45.0",(0,n.PN)("Prebid.js v7.45.0 loaded"),fe.installedModules=fe.installedModules||[],fe.adUnits=fe.adUnits||[],fe.triggerUserSyncs=me;var je={validateAdUnit:De,validateBannerMediaType:Ce,validateSizes:Te};Object.assign(je,{validateNativeMediaType:xe}),Object.assign(je,{validateVideoMediaType:Pe});var Ne,Ue=(0,O.z3)("sync",(function(e){var t=[];return e.forEach((e=>{if(null!=(e=De(e))){var r,i,n,a=e.mediaTypes;a.banner&&(r=Ce(e),a.banner.hasOwnProperty("pos")&&(r=Re(r,"banner"))),a.video&&(i=Pe(r||e),a.video.hasOwnProperty("pos")&&(i=Re(i,"video"))),a.native&&(n=xe(i||r||e));var o=Object.assign({},r,i,n);t.push(o)}})),t}),"checkAdUnitSetup");function Be(e){var t=l.K[e]().filter(n.ak.call(n.IK,this,l.K.getAdUnitCodes())),r=l.K.getLastAuctionId();return t.map((e=>e.adUnitCode)).filter(n.tT).map((e=>t.filter((t=>t.auctionId===r&&t.adUnitCode===e)))).filter((e=>e&&e[0]&&e[0].adUnitCode)).map((e=>({[e[0].adUnitCode]:{bids:e}}))).reduce(((e,t)=>Object.assign(e,t)),{})}function Me(e,t,r){var i=t.querySelector(r);e.parentNode&&e.parentNode===i||(0,n.jC)(e,t,r)}fe.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,n.PN)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=fe.getAdserverTargetingForAdUnitCode(e);return(0,n.Ob)(t)}(0,n.ji)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},fe.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=l.K.getAllBidsForAdUnitCode(e).filter(N);return t.length?t.reduce(n.ZH):{}}(0,n.ji)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},fe.getAdserverTargetingForAdUnitCode=function(e){return fe.getAdserverTargeting(e)[e]},fe.getAdserverTargeting=function(e){return(0,n.PN)("Invoking pbjs.getAdserverTargeting",arguments),M.getAllTargeting(e)},fe.getConsentMetadata=function(){return(0,n.PN)("Invoking pbjs.getConsentMetadata"),{gdpr:J.rp.getConsentMeta(),usp:J.nX.getConsentMeta(),gpp:J.TJ.getConsentMeta(),coppa:!!g.vc.getConfig("coppa")}},fe.getNoBids=function(){return(0,n.PN)("Invoking pbjs.getNoBids",arguments),Be("getNoBids")},fe.getNoBidsForAdUnitCode=function(e){return{bids:l.K.getNoBids().filter((t=>t.adUnitCode===e))}},fe.getBidResponses=function(){return(0,n.PN)("Invoking pbjs.getBidResponses",arguments),Be("getBidsReceived")},fe.getBidResponsesForAdUnitCode=function(e){return{bids:l.K.getBidsReceived().filter((t=>t.adUnitCode===e))}},fe.setTargetingForGPTAsync=function(e,t){if((0,n.PN)("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,n.T9)()){var r=M.getAllTargeting(e);M.resetPresetTargeting(e,t),M.setTargetingForGPT(r,t),Object.keys(r).forEach((e=>{Object.keys(r[e]).forEach((t=>{"hb_adid"===t&&l.K.setStatusForBids(r[e][t],c.BID_STATUS.BID_TARGETING_SET)}))})),s.j8(ye,r)}else(0,n.H)("window.googletag is not defined on the page")},fe.setTargetingForAst=function(e){(0,n.PN)("Invoking pbjs.setTargetingForAn",arguments),M.isApntagDefined()?(M.setTargetingForAst(e),s.j8(ye,M.getAllTargeting())):(0,n.H)("window.apntag is not defined on the page")},fe.renderAd=(0,O.z3)("async",(function(e,t,r){if((0,n.PN)("Invoking pbjs.renderAd",arguments),(0,n.ji)("Calling renderAd with adId :"+t),t)try{var i=l.K.findBidByAdId(t);if(!i){var o="Error trying to write ad. Cannot find ad by given id : ".concat(t);return void v({reason:Ee,message:o,id:t})}if(i.status===c.BID_STATUS.RENDERED&&((0,n.yN)("Ad id ".concat(i.adId," has been rendered before")),s.j8(_e,i),(0,a.Z)(g.vc.getConfig("auctionOptions"),"suppressStaleRender")))return;if(i.ad=(0,n.ew)(i.ad,i.originalCpm||i.cpm),i.adUrl=(0,n.ew)(i.adUrl,i.originalCpm||i.cpm),r&&r.clickThrough){var{clickThrough:d}=r;i.ad=(0,n.x_)(i.ad,d),i.adUrl=(0,n.x_)(i.adUrl,d)}l.K.addWinningBid(i),s.j8(he,i);var{height:u,width:f,ad:m,mediaType:b,adUrl:y,renderer:_}=i,w=i.adUnitCode,I=fe.adUnits.filter((e=>e.code===w)),S=fe.videoModule;if(I.video&&S)return void S.renderBid(I.video.divId,i);if(!e){var E="Error trying to write ad Id :".concat(t," to the page. Missing document");return void v({reason:Ae,message:E,id:t})}var A=document.createComment("Creative ".concat(i.creativeId," served by ").concat(i.bidder," Prebid.js Header Bidding"));if((0,n.jC)(A,e,"html"),(0,p.Pd)(_))(0,p._U)(_,i,e),Me(A,e,"html"),h({doc:e,bid:i,id:t});else if(e===document&&!(0,n.yL)()||"video"===b){var O="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");v({reason:we,message:O,bid:i,id:t})}else if(m)e.write(m),e.close(),ke(e,f,u),Me(A,e,"html"),(0,n.R_)(i),h({doc:e,bid:i,id:t});else if(y){var k=(0,n.$u)();k.height=u,k.width=f,k.style.display="inline",k.style.overflow="hidden",k.src=y,(0,n.jC)(k,e,"body"),ke(e,f,u),Me(A,e,"html"),(0,n.R_)(i),h({doc:e,bid:i,id:t})}else{var T="Error trying to write ad. No ad for bid response id: ".concat(t);v({reason:Ie,message:T,bid:i,id:t})}}catch(e){var C="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);v({reason:Se,message:C,id:t})}else{var P="Error trying to write ad Id :".concat(t," to the page. Missing adId");v({reason:Ae,message:P,id:t})}})),fe.removeAdUnit=function(e){(0,n.PN)("Invoking pbjs.removeAdUnit",arguments),e?((0,n.kJ)(e)?e:[e]).forEach((e=>{for(var t=fe.adUnits.length-1;t>=0;t--)fe.adUnits[t].code===e&&fe.adUnits.splice(t,1)})):fe.adUnits=[]},fe.requestBids=(Ne=(0,O.z3)("async",(function(){var{bidsBackHandler:e,timeout:t,adUnits:r,adUnitCodes:i,labels:a,auctionId:o,ttlBuffer:d,ortb2:c,metrics:l,defer:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.j8(be);var f=t||g.vc.getConfig("bidderTimeout");(0,n.PN)("Invoking pbjs.requestBids",arguments),i&&i.length?r=r.filter((e=>(0,u.q9)(i,e.code))):i=r&&r.map((e=>e.code));var m={global:(0,n.Ee)({},g.vc.getAnyConfig("ortb2")||{},c||{}),bidder:Object.fromEntries(Object.entries(g.vc.getBidderConfig()).map((e=>{var[t,r]=e;return[t,r.ortb2]})).filter((e=>{var[t,r]=e;return null!=r})))};return ce(L.Z.resolve(m.global)).then((t=>(m.global=t,qe({bidsBackHandler:e,timeout:f,adUnits:r,adUnitCodes:i,labels:a,auctionId:o,ttlBuffer:d,ortb2Fragments:m,metrics:l,defer:p}))))}),"requestBids"),(0,O.IF)(Ne,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adUnits||fe.adUnits;return e.adUnits=(0,n.kJ)(t)?t.slice():[t],e.metrics=(0,X.V6)(),e.metrics.checkpoint("requestBids"),e.defer=(0,L.P)({promiseFactory:e=>new Promise(e)}),Ne.call(this,e),e.defer.promise})));var qe=(0,O.z3)("async",(function(){var{bidsBackHandler:e,timeout:t,adUnits:r,ttlBuffer:i,adUnitCodes:a,labels:s,auctionId:d,ortb2Fragments:c,metrics:p,defer:f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=(0,J.uV)(g.vc.getConfig("s2sConfig")||[]);function v(t,r,i){if("function"==typeof e)try{e(t,r,i)}catch(e){(0,n.H)("Error executing bidsBackHandler",null,e)}f.resolve({bids:t,timedOut:r,auctionId:i})}if((r=(0,X.Bf)(p).measureTime("requestBids.validate",(()=>Ue(r)))).forEach((e=>{var t,r,a=Object.keys(e.mediaTypes||{banner:"banner"}),s=e.bids.map((e=>e.bidder)),d=J.ZP.bidderRegistry,c=s.filter((e=>!m.has(e))),l=(null===(t=e.ortb2Imp)||void 0===t||null===(r=t.ext)||void 0===r?void 0:r.tid)||(0,n.DO)();e.transactionId=l,null==i||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=i),o(e,"ortb2Imp.ext.tid",l),c.forEach((t=>{var r=d[t],i=r&&r.getSpec&&r.getSpec(),o=i&&i.supportedMediaTypes||["banner"];a.some((e=>(0,u.q9)(o,e)))?K.f.incrementBidderRequestsCounter(e.code,t):((0,n.yN)((0,n.or)(e,t)),e.bids=e.bids.filter((e=>e.bidder!==t)))})),K.f.incrementRequestsCounter(e.code)})),r&&0!==r.length){var h=l.K.createAuction({adUnits:r,adUnitCodes:a,callback:v,cbTimeout:t,labels:s,auctionId:d,ortb2Fragments:c,metrics:p}),b=r.length;b>15&&(0,n.PN)("Current auction ".concat(h.getAuctionId()," contains ").concat(b," adUnits."),r),a.forEach((e=>M.setLatestAuctionForAdUnit(e,h.getAuctionId()))),h.callBids()}else(0,n.ji)("No adUnits configured. No bids requested."),v()}),"startAuction");fe.requestBids.before((function(e,t){function r(e){for(var t;t=e.shift();)t()}r(W.Ld),r(ze),e.call(this,t)}),49),fe.addAdUnits=function(e){(0,n.PN)("Invoking pbjs.addAdUnits",arguments),fe.adUnits.push.apply(fe.adUnits,(0,n.kJ)(e)?e:[e]),s.j8(ve)},fe.onEvent=function(e,t,r){(0,n.PN)("Invoking pbjs.onEvent",arguments),(0,n.LQ)(t)?!r||Oe[e].call(null,r)?s.on(e,t,r):(0,n.H)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,n.H)('The event handler provided is not a function and was not set on event "'+e+'".')},fe.offEvent=function(e,t,r){(0,n.PN)("Invoking pbjs.offEvent",arguments),r&&!Oe[e].call(null,r)||s.S1(e,t,r)},fe.getEvents=function(){return(0,n.PN)("Invoking pbjs.getEvents"),s.vw()},fe.registerBidAdapter=function(e,t){(0,n.PN)("Invoking pbjs.registerBidAdapter",arguments);try{J.ZP.registerBidAdapter(e(),t)}catch(e){(0,n.H)("Error registering bidder adapter : "+e.message)}},fe.registerAnalyticsAdapter=function(e){(0,n.PN)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{J.ZP.registerAnalyticsAdapter(e)}catch(e){(0,n.H)("Error registering analytics adapter : "+e.message)}},fe.createBid=function(e){return(0,n.PN)("Invoking pbjs.createBid",arguments),(0,q.m)(e)};var ze=[],Le=(0,O.z3)("async",(function(e){e&&!(0,n.xb)(e)?((0,n.PN)("Invoking pbjs.enableAnalytics for: ",e),J.ZP.enableAnalytics(e)):(0,n.H)("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function Ve(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,n.H)("Error processing command :","prebid.js",e)}}))}fe.enableAnalytics=function(e){ze.push(Le.bind(this,e))},fe.aliasBidder=function(e,t,r){(0,n.PN)("Invoking pbjs.aliasBidder",arguments),e&&t?J.ZP.aliasBidAdapter(e,t,r):(0,n.H)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},fe.aliasRegistry=J.ZP.aliasRegistry,g.vc.getConfig("aliasRegistry",(e=>{"private"===e.aliasRegistry&&delete fe.aliasRegistry})),fe.getAllWinningBids=function(){return l.K.getAllWinningBids()},fe.getAllPrebidWinningBids=function(){return l.K.getBidsReceived().filter((e=>e.status===c.BID_STATUS.BID_TARGETING_SET))},fe.getHighestCpmBids=function(e){return M.getWinningBids(e)},fe.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=l.K.getBidsReceived().filter((t=>t.adId===e.adId&&t.adUnitCode===e.adUnitCode)):e.adUnitCode?t=M.getWinningBids(e.adUnitCode):e.adId?t=l.K.getBidsReceived().filter((t=>t.adId===e.adId)):(0,n.yN)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=c.BID_STATUS.RENDERED)},fe.getConfig=g.vc.getAnyConfig,fe.readConfig=g.vc.readAnyConfig,fe.mergeConfig=g.vc.mergeConfig,fe.mergeBidderConfig=g.vc.mergeBidderConfig,fe.setConfig=g.vc.setConfig,fe.setBidderConfig=g.vc.setBidderConfig,fe.que.push((()=>{window.addEventListener("message",I,!1)})),fe.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,n.H)("Error processing command :",e.message,e.stack)}else(0,n.H)("Commands written into pbjs.cmd.push must be wrapped in a function")},fe.que.push=fe.cmd.push,fe.processQueue=function(){O.z3.ready(),Ve(fe.que),Ve(fe.cmd)};const Fe=fe;var He,Ze,Ge,Ke,We,Je,Xe,Ye=["request","imp","bidResponse","response"],[Qe,$e,et,tt]=Ye,[rt,it]=["default","pbs"],nt=new Set(Ye),{registerOrtbProcessor:at,getProcessors:ot}=(He={},{registerOrtbProcessor(e){var{type:t,name:r,fn:i,priority:n=0,dialects:a=[rt]}=e;if(!nt.has(t))throw new Error("ORTB processor type must be one of: ".concat(Ye.join(", ")));a.forEach((e=>{He.hasOwnProperty(e)||(He[e]={}),He[e].hasOwnProperty(t)||(He[e][t]={}),He[e][t][r]={priority:n,fn:i}}))},getProcessors:e=>He[e]||{}}),st=!1,dt={iab:function(e){var{onSuccess:t,onError:r,onEvent:i}=e;function a(e,a){(0,n.PN)("Received a response from CMP",e),a?(i(e),!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||ut(e,{onSuccess:t,onError:r})):r("CMP unable to register callback function.  Please check CMP setup.")}var o={},{cmpFrame:s,cmpFunction:d}=function(){for(var e,t,r=window;;){try{if("function"==typeof r.__tcfapi){t=r.__tcfapi,e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpFrame:e,cmpFunction:t}}();if(!s)return r("TCF2 CMP not found.");"function"==typeof d?((0,n.PN)("Detected CMP API is directly accessible, calling it now..."),d("addEventListener",2,a)):((0,n.PN)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),function(e,t,r){var i="__tcfapi",n="".concat(i,"Call");window.__tcfapi=function(e,r,i,a){var s=Math.random()+"",d={[n]:{command:e,version:r,parameter:a,callId:s}};o[s]=i,t.postMessage(d,"*")},window.addEventListener("message",(function(e){var t="".concat(i,"Return"),r="string"==typeof e.data&&(0,u.q9)(e.data,t)?JSON.parse(e.data):e.data;if(r[t]&&r[t].callId){var n=r[t];o.hasOwnProperty(n.callId)&&o[n.callId](n.returnValue,n.success)}}),!1),window.__tcfapi("addEventListener",2,r)}(0,s,a))},static:function(e){var{onSuccess:t,onError:r}=e;ut(We,{onSuccess:t,onError:r})}};function ct(e){var t,r,i=!1,n=null,a=!1;function o(e){null!=n&&clearTimeout(n),i||null==e||(0===e?t():n=setTimeout(t,e))}function s(t,r,n){if(o(null),i=!0,J.rp.setConsentData(t),"function"==typeof e){for(var a=arguments.length,s=new Array(a>3?a-3:0),d=3;d<a;d++)s[d-3]=arguments[d];e(r,n,...s)}}if((0,u.q9)(Object.keys(dt),Ze)){var d={onSuccess:e=>s(e,!1),onError:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];s(null,!0,e,...r)},onEvent:function(e){r=e,a||(a=!0,null!=Je&&o(Je))}};t=()=>{var e=e=>{s(e,!1,"".concat(a?"Timeout waiting for user action on CMP":"CMP did not load",", continuing auction..."))};ut(r,{onSuccess:e,onError:()=>e(pt(void 0))})},dt[Ze](d),null!=Je&&a||o(Ge)}else s(null,!1,"CMP framework (".concat(Ze,") is not a supported framework.  Aborting consentManagement module and resuming auction."))}var lt=(0,X.g3)("gdpr",(function(e,t){var r;r=function(r,i){if(i){var a=n.yN;r&&(a=n.H,i="".concat(i," Canceling auction as per consentManagement config."));for(var o=arguments.length,s=new Array(o>2?o-2:0),d=2;d<o;d++)s[d-2]=arguments[d];a(i,...s)}r?(e.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():(0,n.H)("Error executing bidsBackHandler")):e.call(this,t)},Xe?((0,n.PN)("User consent information already known.  Pulling internally stored information..."),r(!1)):ct(r)}));function ut(e,t){var r,i,{onSuccess:a,onError:o}=t;r=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Ke,i=e&&e.tcString,"boolean"==typeof r&&(!0!==r||i&&(0,n.d8)(i))?a(pt(e)):o("CMP returned unexpected value during lookup process.",e)}function pt(e){return Xe={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Ke},e&&e.addtlConsent&&(0,n.d8)(e.addtlConsent)&&(Xe.addtlConsent=e.addtlConsent),Xe.apiVersion=2,Xe}g.vc.getConfig("consentManagement",(e=>function(e){var t;(e=e&&(e.gdpr||e.usp||e.gpp?e.gdpr:e))&&"object"==typeof e?((0,n.d8)(e.cmpApi)?Ze=e.cmpApi:(Ze="iab",(0,n.PN)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,n.hj)(e.timeout)?Ge=e.timeout:(Ge=1e4,(0,n.PN)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),Je=(0,n.hj)(e.actionTimeout)?e.actionTimeout:null,Ke=!0===e.defaultGdprScope,(0,n.PN)("consentManagement module has been activated..."),"static"===Ze&&((0,n.PO)(e.consentData)?(null!=(null===(t=We=e.consentData)||void 0===t?void 0:t.getTCData)&&(We=We.getTCData),Ge=0):(0,n.H)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),st||(0,i.R)().requestBids.before(lt,50),st=!0,J.rp.enable(),ct()):(0,n.yN)("consentManagement (gdpr) config not defined, exiting consent manager")}(e.consentManagement))),ce.before((function(e,t){return e(t.then((e=>{var t=J.rp.getConsentData();return t&&("boolean"==typeof t.gdprApplies&&o(e,"regs.ext.gdpr",t.gdprApplies?1:0),o(e,"user.ext.consent",t.consentString)),e})))})),at({type:Qe,name:"gdprAddtlConsent",fn:function(e,t){var r,i=null===(r=t.gdprConsent)||void 0===r?void 0:r.addtlConsent;i&&"string"==typeof i&&o(e,"user.ext.ConsentedProvidersSettings.consented_providers",i)}}),(0,i.z)("consentManagement");var gt=r(142),ft=r(905),mt=r(556),vt=r(807);function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(r),!0).forEach((function(t){(0,gt.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yt,_t,wt,It,St={purpose1:{id:1,name:"storage"},purpose2:{id:2,name:"basicAds"},purpose7:{id:7,name:"measurement"}},Et=[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}],At=[],Ot=[],kt=[],Tt=!1,Ct=!1,Pt=[vt.UL,vt.y2,vt._U,vt.XG];function xt(e,t,r){if(t){var i=g.vc.getConfig("gvlMapping");if(i&&i[t])return i[t];if(e===vt.ic)return mt.$P;var{gvlid:a,modules:o}=mt.qh.get(t);if(null==a&&Object.keys(o).length>0)for(var s of Pt)if(o.hasOwnProperty(s)){a=o[s],s===e||r||(0,n.yN)("Multiple GVL IDs found for module '".concat(t,"'; using the ").concat(s," module's ID (").concat(a,") instead of the ").concat(e,"'s ID (").concat(o[e],")"));break}return null==a&&r&&(a=r()),a||null}return null}function Rt(e,t,r){return null==e&&J.rp.enabled?((0,n.yN)("Attempting operation that requires purpose ".concat(t," consent while consent data is not available").concat(r?" (module: ".concat(r,")"):"",". Assuming no consent was given.")),!0):e&&e.gdprApplies}function Dt(e,t,r,i){var n=St[Object.keys(St).filter((t=>St[t].name===e.purpose))[0]].id;if((e.vendorExceptions||[]).includes(r))return!0;var o=!(i===mt.$P||(e.softVendorExceptions||[]).includes(r)),s=(0,a.Z)(t,"vendorData.purpose.consents.".concat(n)),d=!o||(0,a.Z)(t,"vendorData.vendor.consents.".concat(i)),c=(0,a.Z)(t,"vendorData.purpose.legitimateInterests.".concat(n)),l=!1===e.enforcePurpose||!0===s,u=!1===e.enforceVendor||!0===d;return 2===n?l&&u||!0===c:l&&u}function jt(e,t,r,i){var{validate:a=Dt}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(i=Object.assign({},{hasEnforcementHook:!0}),(0,n.wn)())if(t!==vt.ic||Ct){var o,s=J.rp.getConsentData();if(Rt(s,1,r)){var d=g.vc.getCurrentBidder();o=d&&d!==r&&J.ZP.aliasRegistry[d]===r?xt(t,d):xt(t,r);var c=r||d,l=a(yt,s,c,o);l?i.valid=!0:(c&&(0,n.yN)("TCF2 denied device access for ".concat(c)),i.valid=!1,At.push(c))}else i.valid=!0}else i.valid=!0;else(0,n.yN)("Device access is disabled by Publisher"),i.valid=!1;e.call(this,t,r,i)}function Nt(e){for(var t=J.rp.getConsentData(),r=g.vc.getCurrentBidder(),i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(Rt(t,1,r)){var s=xt(vt.UL,r),d=Dt(yt,t,r,s);d?e.call(this,...a):((0,n.yN)("User sync not allowed for ".concat(r)),At.push(r))}else e.call(this,...a)}function Ut(e,t,r){if(Rt(r,1,"User ID")){var i=t.map((e=>{var t=e.submodule.name,i=xt(vt.y2,t);if(Dt(yt,r,t,i))return e;(0,n.yN)("User denied permission to fetch user id for ".concat(t," User id module")),At.push(t)})).filter((e=>e));e.call(this,i,bt(bt({},r),{},{hasValidated:!0}))}else e.call(this,t,r)}function Bt(e,t){for(var r=J.rp.getConsentData(),i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];Rt(r,2)?(t.forEach((e=>{e.bids=e.bids.filter((e=>{var t=e.bidder,i=xt(vt.UL,t);if((0,u.q9)(Ot,t))return!1;var a=!!Dt(_t,r,t,i);return a||((0,n.yN)("TCF2 blocked auction for ".concat(t)),Ot.push(t)),a}))})),e.call(this,t,...a)):e.call(this,t,...a)}function Mt(e,t){var r=J.rp.getConsentData();Rt(r,7,"Analytics")?((0,n.kJ)(t)||(t=[t]),t=t.filter((e=>{var t=e.provider,i=xt(vt._U,t,(()=>function(e,t){var r,i=J.ZP.getAnalyticsAdapter(e);return(r=>{if("function"!=typeof r)return r;try{return r.call(i.adapter,t)}catch(t){(0,n.H)("Error invoking ".concat(e," adapter.gvlid()"),t)}})(null==i||null===(r=i.adapter)||void 0===r?void 0:r.gvlid)}(t,e))),a=!!Dt(wt,r,t,i);return a||(kt.push(t),(0,n.yN)("TCF2 blocked analytics adapter ".concat(e.provider))),a})),e.call(this,t)):e.call(this,t)}s.on(c.EVENTS.AUCTION_END,(function(){var e=function(e){return e.filter(((t,r)=>null!==t&&e.indexOf(t)===r))},t={storageBlocked:e(At),biddersBlocked:e(Ot),analyticsBlocked:e(kt)};s.j8(c.EVENTS.TCF2_ENFORCEMENT,t)}));var qt=e=>e.purpose===St.purpose1.name,zt=e=>e.purpose===St.purpose2.name,Lt=e=>e.purpose===St.purpose7.name;g.vc.getConfig("consentManagement",(e=>function(e){var t=(0,a.Z)(e,"gdpr.rules");t?It=t:((0,n.yN)("TCF2: enforcing P1 and P2 by default"),It=Et),Ct=!!(0,a.Z)(e,"strictStorageEnforcement"),yt=(0,u.sE)(It,qt),_t=(0,u.sE)(It,zt),wt=(0,u.sE)(It,Lt),yt||(yt=Et[0]),_t||(_t=Et[1]),Tt||(yt&&(Tt=!0,W.S6.before(jt,49),ft.Ks.before(Nt,48),(0,O.v5)("validateGdprEnforcement").before(Ut,47)),_t&&(0,O.v5)("makeBidRequests").before(Bt),wt&&(0,O.v5)("enableAnalyticsCb").before(Mt))}(e.consentManagement))),(0,i.z)("gdprEnforcement");var Vt,Ft=r(447),Ht="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$",Zt=[],Gt={},Kt=!1,Wt=!0,Jt="USD",Xt=!1,Yt={},Qt={},$t=(()=>{var e;function t(){e=(0,L.P)()}return t(),{done:()=>e.resolve(),reset:t,promise:()=>e.promise}})();function er(e){Vt?((0,n.yN)(e),(0,n.yN)("Currency failed loading rates, falling back to currency.defaultRates")):(0,n.H)(e)}function tr(e){Gt={},Xt=!0,(0,n.PN)("Installing addBidResponse decorator for currency module",arguments),(0,i.R)().convertCurrency=(e,t,r)=>parseFloat(e)*ar(t,r),(0,O.v5)("addBidResponse").before(ir,100),Wt?(Wt=!1,(0,Ft.h)(e,{success:function(e){try{Yt=JSON.parse(e),(0,n.PN)("currencyRates set to "+JSON.stringify(Yt)),Gt={},Kt=!0,nr(),$t.done()}catch(t){er("Failed to parse currencyRates response: "+e)}},error:function(){er(...arguments),$t.done()}})):$t.done()}function rr(){(0,n.PN)("Uninstalling addBidResponse decorator for currency module",arguments),(0,O.v5)("addBidResponse").getHooks({hook:ir}).remove(),delete(0,i.R)().convertCurrency,Jt="USD",Gt={},Xt=!1,Kt=!1,Wt=!0,Yt={},Qt={}}g.vc.getConfig("currency",(e=>function(e){var t=Ht;if("object"==typeof e.rates&&(Yt.conversions=e.rates,Kt=!0,Wt=!1),"object"==typeof e.defaultRates&&(Vt=e.defaultRates,Yt.conversions=Vt,Kt=!0),"string"==typeof e.adServerCurrency){(0,n.PN)("enabling currency support",arguments),Jt=e.adServerCurrency,e.conversionRateFile&&((0,n.PN)("currency using override conversionRateFile:",e.conversionRateFile),t=e.conversionRateFile);var r=t.indexOf("$$TODAY$$");if(-1!==r){var i=new Date,a="".concat(i.getMonth()+1),o="".concat(i.getDate());a.length<2&&(a="0".concat(a)),o.length<2&&(o="0".concat(o));var s="".concat(i.getFullYear()).concat(a).concat(o);t="".concat(t.substring(0,r)).concat(s).concat(t.substring(r+9,t.length))}tr(t)}else(0,n.PN)("disabling currency support"),rr();"object"==typeof e.bidderCurrencyDefault&&(Qt=e.bidderCurrencyDefault)}(e.currency)));var ir=(0,X.A)("currency",(function(e,t,r,i){if(!r)return e.call(this,t,r,i);var a=r.bidderCode||r.bidder;if(Qt[a]){var o=Qt[a];r.currency&&o!==r.currency?(0,n.yN)("Currency default '".concat(a,": ").concat(o,"' ignored. adapter specified '").concat(r.currency,"'")):r.currency=o}if(r.currency||((0,n.yN)('Currency not specified on bid.  Defaulted to "USD"'),r.currency="USD"),r.getCpmInNewCurrency=function(e){return(parseFloat(this.cpm)*ar(this.currency,e)).toFixed(3)},r.currency===Jt)return e.call(this,t,r,i);Zt.push(function(e,t,r){return function(){var i=r[1];if(void 0!==i&&"currency"in i&&"cpm"in i){var a=i.currency;try{var o=ar(a);1!==o&&(i.cpm=(parseFloat(i.cpm)*o).toFixed(4),i.currency=Jt)}catch(e){(0,n.yN)("Returning NO_BID, getCurrencyConversion threw error: ",e),r[1]=r[2](c.REJECTION_REASON.CANNOT_CONVERT_CURRENCY)}}return e.apply(t,r)}}(e,this,[t,r,i])),!Xt||Kt?nr():e.untimed.bail($t.promise())}));function nr(){for(;Zt.length>0;)Zt.shift()()}function ar(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt,i=null,a="".concat(e,"->").concat(r);if(a in Gt)i=Gt[a],(0,n.ji)("Using conversionCache value "+i+" for "+a);else if(!1===Xt){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");i=1}else if(e===r)i=1;else if(e in Yt.conversions){if(!(r in(t=Yt.conversions[e])))throw new Error("Specified adServerCurrency in config '"+r+"' not found in the currency rates file");i=t[r],(0,n.PN)("getCurrencyConversion using direct "+e+" to "+r+" conversionRate "+i)}else if(r in Yt.conversions){if(!(e in(t=Yt.conversions[r])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");i=or(1/t[e],4),(0,n.PN)("getCurrencyConversion using reciprocal "+e+" to "+r+" conversionRate "+i)}else{var o=Object.keys(Yt.conversions)[0];if(!(e in Yt.conversions[o]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var s=1/Yt.conversions[o][e];if(!(r in Yt.conversions[o]))throw new Error("Specified adServerCurrency in config '"+r+"' not found in the currency rates file");var d=Yt.conversions[o][r];i=or(s*d,4),(0,n.PN)("getCurrencyConversion using intermediate "+e+" thru "+o+" to "+r+" conversionRate "+i)}return a in Gt||((0,n.ji)("Adding conversionCache value "+i+" for "+a),Gt[a]=i),i}function or(e,t){for(var r=1,i=0;i<t;i++)r+="0";return Math.round(e*r)/r}function sr(e,t,r){if(t===r)return e;var n=e;if("function"==typeof(0,i.R)().convertCurrency)try{n=(0,i.R)().convertCurrency(e,t,r)}catch(e){}return n}at({type:Qe,name:"currency",fn:function(e,t,r){Xt&&(e.cur=e.cur||[r.currency||Jt])}}),(0,i.z)("currency");var dr=r(160),cr=["modelGroups"];function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach((function(t){(0,gt.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pr,gr="Price Floors",fr=(0,Ft.O)(1e4),mr=["gptSlot","adUnitCode","size","domain","mediaType"],vr=!1,hr=!1,br={},yr=[],_r={};function wr(e,t){return Math.ceil((parseFloat(e)*Math.pow(10,t)).toFixed(1))/Math.pow(10,t)}function Ir(e,t){var{index:r=l.K.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(null==e?void 0:e.adUnitCode)||r.getAdUnit(t).code}var Sr={size:(e,t)=>(0,n.s)(t.size)||"*",mediaType:(e,t)=>t.mediaType||"banner",gptSlot:(e,t)=>function(e){var{index:t=l.K.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getAdUnit({transactionId:e});return"gam"===(0,a.Z)(r,"ortb2Imp.ext.data.adserver.name")&&r.ortb2Imp.ext.data.adserver.adslot}((e||t).transactionId)||(0,n.ky)(Ir(e,t)).gptSlot,domain:function(){return null==pr&&(pr=(0,n.en)((0,Y.nH)().topmostLocation,{noDecodeWholeURL:!0}).hostname),pr},adUnitCode:(e,t)=>Ir(e,t)};function Er(e,t,r){return e.reduce(((e,i)=>{var n=Sr[i](t,r)||"*";return e.push("*"===n?["*"]:[n.toLowerCase(),"*"]),e}),[])}function Ar(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Er((0,a.Z)(e,"schema.fields")||[],t,r);if(!i.length)return{matchingFloor:e.default};var n=i.map((e=>e[0])).join("-"),s=(0,a.Z)(e,"matchingInputs.".concat(n));if(s)return ur({},s);var d=Or(i,(0,a.Z)(e,"schema.delimiter")||"|"),c=(0,u.sE)(d,(t=>e.values.hasOwnProperty(t))),l={floorMin:e.floorMin||0,floorRuleValue:isNaN(e.values[c])?e.default:e.values[c],matchingData:d[0],matchingRule:c};return"number"==typeof(0,a.Z)(t,"ortb2Imp.ext.prebid.floorMin")&&(l.floorMin=t.ortb2Imp.ext.prebid.floorMin),l.matchingFloor=Math.max(l.floorMin,l.floorRuleValue),o(e,"matchingInputs.".concat(n),ur({},l)),l}function Or(e,t){return e.reduce(((e,r)=>{var i=[];return e.map((e=>{r.map((r=>{i.push(e+t+r)}))})),i})).sort(((e,t)=>e.split("*").length-t.split("*").length))}function kr(e,t,r){return parseFloat((0,dr.O)(e,ur(ur({},t),{},{cpm:e}),r))}function Tr(e,t){var r=Math.pow(10,10);return e*r/(t*r)*(e*r)/r}var Cr={banner:e=>(0,a.Z)(e,"mediaTypes.banner.sizes")||[],video:e=>(0,a.Z)(e,"mediaTypes.video.playerSize")||[],native:e=>(0,a.Z)(e,"mediaTypes.native.image.sizes")?[(0,a.Z)(e,"mediaTypes.native.image.sizes")]:[]};function Pr(e,t){var r=Object.keys(e.mediaTypes||{});return"*"===t.mediaType&&1===r.length&&(t.mediaType=r[0]),"*"===t.size&&-1!==r.indexOf(t.mediaType)&&Cr[t.mediaType]&&1===Cr[t.mediaType](e).length&&(t.size=Cr[t.mediaType](e)[0]),t}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},t=this,r=_r[t.auctionId];if(!r||r.skipped)return{};e=Pr(t,e);var a=Ar(r.data,ur({},t),{mediaType:e.mediaType,size:e.size}),o=e.currency||r.data.currency;if(a.matchingFloor&&o!==r.data.currency)try{a.matchingFloor=(0,i.R)().convertCurrency(a.matchingFloor,r.data.currency,o)}catch(e){(0,n.yN)("".concat(gr,": Unable to get currency conversion for getFloor for bidder ").concat(t.bidder,". You must have currency module enabled with defaultRates in your currency config")),o=r.data.currency}if(r.enforcement.bidAdjustment&&a.matchingFloor){var s=k.S.get(t.bidder,"inverseBidAdjustment");if(s)a.matchingFloor=s(a.matchingFloor,t);else{var d=kr(a.matchingFloor,null,t);a.matchingFloor=d?Tr(a.matchingFloor,d):a.matchingFloor}}return a.matchingFloor?{floor:wr(a.matchingFloor,4),currency:o}:{}}function Rr(e,t){var r=(0,n.I8)(e);return r.schema.delimiter=e.schema.delimiter||"|",r.values=function(e,t){var r=e.schema.fields,i=e.schema.delimiter,n=t&&-1===r.indexOf("adUnitCode")&&r.unshift("adUnitCode");return Object.keys(e.values).reduce(((r,a)=>(r[(n?"".concat(t).concat(i).concat(a):a).toLowerCase()]=e.values[a],r)),{})}(r,t),r.currency=r.currency||"USD",r}function Dr(e,t){var r=(0,n.I8)(br);if(2===(0,a.Z)(r,"data.floorsSchemaVersion")){var i=r.data,{modelGroups:o}=i,s=function(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(i,cr);r.data=Object.assign(s,function(e,t){for(var r=Math.floor(Math.random()*t+1),i=0;i<e.length;i++)if((r-=e[i].modelWeight)<=0)return e[i]}(o,s.modelWeightSum))}var d=0===Object.keys((0,a.Z)(r,"data.values")||{}).length;if(r.data=d?function(e){return e.reduce(((e,t)=>{if(Br(t.floors))if(e.values){var r=Rr(t.floors,t.code).values;Object.assign(e.values,r)}else(e=Rr(t.floors,t.code)).location="adUnit";else null!=t.floors&&(0,n.yN)("adUnit '".concat(t.code,"' provides an invalid `floor` definition, it will be ignored for floor calculations"),t);return e}),{})}(e):Rr(r.data),0===Object.keys((0,a.Z)(r,"data.values")||{}).length)r.skipped=!0;else{var c=(0,n.rD)("pbjs_skipRate")||r.skipRate,l=100*Math.random()<parseFloat(c);r.skipped=l}return r.hasOwnProperty("floorMin")&&(r.data.floorMin=r.floorMin),function(e,t,r){e.forEach((e=>{e.bids.forEach((e=>{t.skipped?delete e.getFloor:e.getFloor=xr,e.auctionId=r,e.floorData={skipped:t.skipped,skipRate:t.skipRate,floorMin:t.floorMin,modelVersion:(0,a.Z)(t,"data.modelVersion"),modelWeight:(0,a.Z)(t,"data.modelWeight"),modelTimestamp:(0,a.Z)(t,"data.modelTimestamp"),location:(0,a.Z)(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:br.fetchStatus}}))}))}(e,r,t),r}function jr(e){e.hasExited||(yr=yr.filter((t=>t.timer!==e.timer)),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,n.DO)(),_r[e.reqBidsConfigObj.auctionId]=Dr(e.reqBidsConfigObj.adUnits||(0,i.R)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function Nr(e){return t=(0,a.Z)(e,"schema.fields"),!!(Array.isArray(t)&&t.length>0&&t.every((e=>-1!==mr.indexOf(e)))||((0,n.H)("".concat(gr,": Fields recieved do not match allowed fields")),0))&&(r=e,i=e.schema.fields.length,o=e.schema.delimiter||"|","object"==typeof r.values&&(r.values=Object.keys(r.values).reduce(((e,t)=>(function(e,t,r,i){return"string"==typeof e&&e.split(i).length===r&&"number"==typeof t}(t,r.values[t],i,o)&&(e[t]=r.values[t]),e)),{}),Object.keys(r.values).length>0));var t,r,i,o}var Ur={1:e=>Nr(e),2:e=>!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((t=>!("number"!=typeof t.modelWeight||!Nr(t)||(e.modelWeightSum+=t.modelWeight,0)))))};function Br(e){return"object"==typeof e&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof Ur[e.floorsSchemaVersion]?((0,n.H)("".concat(gr,": Unknown floorsSchemaVersion: "),e.floorsSchemaVersion),!1):Ur[e.floorsSchemaVersion](e))}function Mr(e,t){if(e&&"object"==typeof e&&Br(e))return(0,n.PN)("".concat(gr,": A ").concat(t," set the auction floor data set to "),e),ur(ur({},e),{},{location:t});(0,n.H)("".concat(gr,": The floors data did not contain correct values"),e)}var qr=(0,X.g3)("priceFloors",(function(e,t){var r={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};br.auctionDelay>0&&vr?(r.timer=setTimeout((()=>{(0,n.yN)("".concat(gr,": Fetch attempt did not return in time for auction")),br.fetchStatus="timeout",jr(r)}),br.auctionDelay),yr.push(r)):jr(r)}));function zr(){yr.forEach((e=>{clearTimeout(e.timer),jr(e)})),yr=[]}function Lr(e){var t;vr=!1,br.fetchStatus="success";try{t=JSON.parse(e)}catch(r){t=e}var r=Mr(t,"fetch");r&&(br.data=r,br.skipRate=(0,n.hj)(r.skipRate)?r.skipRate:br.skipRate,br.floorProvider=r.floorProvider||br.floorProvider),zr()}function Vr(e){vr=!1,br.fetchStatus="error",(0,n.H)("".concat(gr,": Fetch errored with: "),e),zr()}var Fr=(0,X.A)("priceFloors",(function(e,t,r,o){var s=_r[r.auctionId];if(!s||!r||s.skipped)return e.call(this,t,r,o);var d,u=l.K.index.getBidRequest(r),p=Ar(s.data,u,ur(ur({},r),{},{size:[r.width,r.height]}));if(!p.matchingFloor)return(0,n.yN)("".concat(gr,": unable to determine a matching price floor for bidResponse"),r),e.call(this,t,r,o);var g=s.data.currency.toUpperCase(),f=r.currency||"USD";if(g===f.toUpperCase())d=r.cpm;else if(r.originalCurrency&&g===r.originalCurrency.toUpperCase())d=r.originalCpm;else try{d=(0,i.R)().convertCurrency(r.cpm,f.toUpperCase(),g)}catch(i){return(0,n.H)("".concat(gr,": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(r)),e.call(this,t,r,o)}if(function(e,t,r,i){r.floorData={floorValue:t.matchingFloor,floorRule:t.matchingRule,floorRuleValue:t.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:i,enforcements:ur({},e.enforcement),matchedFields:{}},e.data.schema.fields.forEach(((i,n)=>{var a=t.matchingData.split(e.data.schema.delimiter)[n];r.floorData.matchedFields[i]=a}))}(s,p,r,d=kr(d,r,u)),function(e,t,r){var i=!1!==(0,a.Z)(e,"enforcement.enforceJS"),n=!0===(0,a.Z)(e,"enforcement.floorDeals")||!r.dealId,o=r.floorData.cpmAfterAdjustments<t.matchingFloor;return i&&o&&n}(s,p,r)){var m,v=o(c.REJECTION_REASON.FLOOR_NOT_MET);return(0,n.yN)("".concat(gr,": ").concat(v.bidderCode,"'s Bid Response for ").concat(t," was rejected due to floor not met (adjusted cpm: ").concat(null==r||null===(m=r.floorData)||void 0===m?void 0:m.cpmAfterAdjustments,", floor: ").concat(null==p?void 0:p.matchingFloor,")"),r),e.call(this,t,v,o)}return e.call(this,t,r,o)}));g.vc.getConfig("floors",(e=>function(e){var t;br=(0,n.ei)(e,["floorMin","enabled",e=>!1!==e,"auctionDelay",e=>e||0,"floorProvider",t=>(0,a.Z)(e,"data.floorProvider",t),"endpoint",e=>e||{},"skipRate",()=>isNaN((0,a.Z)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate,"enforcement",e=>(0,n.ei)(e||{},["enforceJS",e=>!1!==e,"enforcePBS",e=>!0===e,"floorDeals",e=>!0===e,"bidAdjustment",e=>!1!==e]),"additionalSchemaFields",e=>{return"object"==typeof e&&Object.keys(e).length>0?(t=e,void Object.keys(t).forEach((e=>{-1===mr.indexOf(e)&&"function"==typeof t[e]&&(mr.push(e),Sr[e]=t[e])}))):void 0;var t},"data",e=>e&&Mr(e,"setConfig")||br.data]),br.enabled?((t=br.endpoint).url&&!vr?"GET"!==(t.method||"GET")?(0,n.H)("".concat(gr,": 'GET' is the only request method supported at this time!")):(fr(t.url,{success:Lr,error:Vr},null,{method:"GET"}),vr=!0):vr&&(0,n.yN)("".concat(gr,": A fetch is already occuring. Skipping.")),hr||(s.on(c.EVENTS.AUCTION_END,(e=>{setTimeout((()=>delete _r[e.auctionId]),3e3)})),(0,i.R)().requestBids.before(qr,50),(0,O.v5)("addBidResponse").before(Fr,(0,n.eB)()?4:50),hr=!0)):((0,n.PN)("".concat(gr,": Turning off module")),br={},_r={},(0,O.v5)("addBidResponse").getHooks({hook:Fr}).remove(),(0,i.R)().requestBids.getHooks({hook:qr}).remove(),hr=!1)}(e.floors))),at({type:$e,name:"bidfloor",fn:function(e,t,r){if("function"==typeof t.getFloor){var i,a;try{({currency:i,floor:a}=t.getFloor({currency:r.currency||g.vc.getConfig("currency.adServerCurrency")||"USD",mediaType:r.mediaType||"*",size:"*"}))}catch(e){return void(0,n.yN)("Cannot compute floor for bid",t)}a=parseFloat(a),null==i||null==a||isNaN(a)||Object.assign(e,{bidfloor:a,bidfloorcur:i})}}}),at({type:$e,name:"extPrebidFloors",fn:function(e,t,r){if(null!=e.bidfloor){var i,n,a,s,d,c,l,u,p,g,{floorMinCur:f,floorMin:m}=r.reqContext.floorMin||{};null==f&&(f=e.bidfloorcur);var v=(null===(i=e.ext)||void 0===i||null===(n=i.prebid)||void 0===n||null===(a=n.floors)||void 0===a?void 0:a.floorMinCur)||(null===(s=e.ext)||void 0===s||null===(d=s.prebid)||void 0===d?void 0:d.floorMinCur)||f,h=(null===(c=e.ext)||void 0===c||null===(l=c.prebid)||void 0===l||null===(u=l.floors)||void 0===u?void 0:u.floorMin)||(null===(p=e.ext)||void 0===p||null===(g=p.prebid)||void 0===g?void 0:g.floorMin),b=sr(e.bidfloor,e.bidfloorcur,f),y=!(!h||!v)&&sr(h,v,f),_=y&&y<b?y:b;o(e,"ext.prebid.floors.floorMin",_),(null==m||m>_)&&(m=_),r.reqContext.floorMin={floorMin:m,floorMinCur:f}}},dialects:[it],priority:-1}),at({type:Qe,name:"extPrebidFloors",fn:function(e,t,r){var i,a,s;hr&&o(e,"ext.prebid.floors.enabled",(null===(i=e.ext)||void 0===i||null===(a=i.prebid)||void 0===a||null===(s=a.floors)||void 0===s?void 0:s.enabled)||!1),null!=r&&r.floorMin&&(0,n.Ee)(e,{ext:{prebid:{floors:r.floorMin}}})},dialects:[it]}),(0,i.z)("priceFloors");var Hr=void 0,Zr={},Gr=!1,Kr=e=>{var{customGptSlotMatching:t}=Zr;if((0,n.T9)()){var r=e.reduce(((e,t)=>(e[t.code]=t,e)),{});window.googletag.pubads().getSlots().forEach((e=>{var i=(0,u.sE)(Object.keys(r),t?t(e):(0,n.zV)(e));if(i){var a=r[i];a.ortb2Imp=a.ortb2Imp||{},a.ortb2Imp.ext=a.ortb2Imp.ext||{},a.ortb2Imp.ext.data=a.ortb2Imp.ext.data||{};var o=a.ortb2Imp.ext.data;o.adserver=o.adserver||{},o.adserver.name="gam",o.adserver.adslot=Wr(e.getAdUnitPath())}}))}},Wr=e=>(g.vc.getConfig("gptPreAuction")||{}).mcmEnabled?e.replace(/(^\/\d*),\d*\//,"$1/"):e,Jr=(e,t)=>{var r=e.ortb2Imp.ext.data;if(r.pbadslot)return r.pbadslot;if((0,n.T9)()){var i=window.googletag.pubads().getSlots().filter((e=>e.getAdUnitPath()===t));if(0!==i.length)return 1===i.length?t:"".concat(t,"#").concat(e.code)}},Xr=e=>{var t=e.ortb2Imp.ext.data,{customPbAdSlot:r}=Zr;if(!t.pbadslot)if(r)t.pbadslot=r(e.code,(0,a.Z)(t,"adserver.adslot"));else{try{var i=document.getElementById(e.code);if(i.dataset.adslotid)return void(t.pbadslot=i.dataset.adslotid)}catch(e){}if(!(0,a.Z)(t,"adserver.adslot"))return t.pbadslot=e.code,!0;t.pbadslot=t.adserver.adslot}},Yr=function(e,t){Kr(t);var{useDefaultPreAuction:r,customPreAuction:i}=Zr;t.forEach((e=>{e.ortb2Imp=e.ortb2Imp||{},e.ortb2Imp.ext=e.ortb2Imp.ext||{},e.ortb2Imp.ext.data=e.ortb2Imp.ext.data||{};var t=e.ortb2Imp.ext;if(i||r){var n,o=(0,a.Z)(t,"data.adserver.adslot");i?n=i(e,o):r&&(n=Jr(e,o)),n&&(t.gpid=t.data.pbadslot=n)}else{var s=Xr(e);t.gpid||s||(t.gpid=t.data.pbadslot)}}));for(var n=arguments.length,o=new Array(n>2?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];return e.call(Hr,t,...o)},Qr=e=>{(Zr=(0,n.ei)(e,["enabled",e=>!1!==e,"customGptSlotMatching",e=>"function"==typeof e&&e,"customPbAdSlot",e=>"function"==typeof e&&e,"customPreAuction",e=>"function"==typeof e&&e,"useDefaultPreAuction",e=>!0===e])).enabled?Gr||((0,O.v5)("makeBidRequests").before(Yr),Gr=!0):((0,n.PN)("".concat("GPT Pre-Auction",": Turning off module")),Zr={},(0,O.v5)("makeBidRequests").getHooks({hook:Yr}).remove(),Gr=!1)};g.vc.getConfig("gptPreAuction",(e=>Qr(e.gptPreAuction))),Qr({}),(0,i.z)("gptPreAuction");var $r=[],ei=(0,X.g3)("fpd",(function(e,t){(function(){var{global:e={},bidder:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=g.vc.getConfig("firstPartyData")||{},i=L.Z.resolve({global:e,bidder:t});return $r.sort(((e,t)=>(e.queue||1)-(t.queue||1))).forEach((e=>{i=i.then((t=>{var{global:i,bidder:a}=t;return L.Z.resolve(e.processFpd(r,{global:i,bidder:a})).catch((t=>((0,n.H)("Error in FPD module ".concat(e.name),t),{}))).then((e=>({global:e.global||i,bidder:e.bidder||a})))}))})),i})(t.ortb2Fragments).then((r=>{Object.assign(t.ortb2Fragments,r),e.call(this,t)}))}));(0,O.bA)("firstPartyData",(function(e){$r.push(e)})),(0,O.v5)("startAuction").before(ei,10),(0,i.z)("fpdModule"),(0,i.z)("enrichmentFpdModule");var ti=r(54),ri=r(143),ii="appnexus",ni=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],ai=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],oi=["age","externalUid","external_uid","segments","gender","dnt","language"],si=["geo","device_id"],di=["enabled","dongle","member_id","debug_timeout"],ci={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},li={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},ui={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},pi=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,gi=(0,W.df)({bidderCode:ii}),fi={code:ii,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"defymedia",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618}],supportedMediaTypes:[A.Mk,A.pX,A.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,t){var r,i,o=(e=(0,d.lY)(e)).map(hi),s=(0,u.sE)(e,yi),c={};!0===g.vc.getConfig("coppa")&&(c={coppa:!0}),s&&Object.keys(s.params.user).filter((e=>(0,u.q9)(oi,e))).forEach((e=>{var t=(0,n.G2)(e);if("segments"===e&&(0,n.kJ)(s.params.user[e])){var r=[];s.params.user[e].forEach((e=>{(0,n.hj)(e)?r.push({id:e}):(0,n.PO)(e)&&r.push(e)})),c[t]=r}else"segments"!==e&&(c[t]=s.params.user[e])}));var l,p=(0,u.sE)(e,wi);p&&p.params&&p.params.app&&(l={},Object.keys(p.params.app).filter((e=>(0,u.q9)(si,e))).forEach((e=>l[e]=p.params.app[e])));var f,m=(0,u.sE)(e,Ii);m&&m.params&&p.params.app&&p.params.app.id&&(f={appid:m.params.app.id});var v={},h={},b=gi.getCookie("apn_prebid_debug")||null;if(b)try{v=JSON.parse(b)}catch(e){(0,n.H)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(ci).forEach((e=>{var t=(0,n.rD)(e);(0,n.d8)(t)&&""!==t&&(v[ci[e]]=t,v.enabled=!0)})),v=(0,n.uh)({member_id:"number",debug_timeout:"number"},v);var y=(0,u.sE)(e,Si);y&&y.debug&&(v=y.debug)}v&&v.enabled&&Object.keys(v).filter((e=>(0,u.q9)(di,e))).forEach((e=>{h[e]=v[e]}));var _=(0,u.sE)(e,_i),w=_?parseInt(_.params.member,10):0,I=e[0].schain,S=(0,u.sE)(e,Ai),E={tags:[...o],user:c,sdk:{source:"pbjs",version:"7.45.0"},schain:I};S&&(E.iab_support={omidpn:"Appnexus",omidpv:"7.45.0"}),w>0&&(E.member_id=w),p&&(E.device=l),m&&(E.app=f);var A,O,k=(0,n.I8)(t&&t.ortb2),T=(A=k,O=[],["site.keywords","site.content.keywords","user.keywords","app.keywords","app.content.keywords"].forEach((e=>{var t=(0,a.Z)(A,e);(0,n.d8)(t)&&O.push(t)})),O).map((e=>Pi(e))),C=(0,n.I8)(g.vc.getConfig("appnexusAuctionKeywords"))||{};Object.keys(C).forEach((e=>{((0,n.d8)(C[e])||(0,n.hj)(C[e]))&&(C[e]=[C[e]])}));var P=(0,n.Ee)({},C,...T),x=(0,n.Bq)(P);if(x.length>0&&(x.forEach(vi),E.keywords=x),g.vc.getConfig("adpod.brandCategoryExclusion")&&(E.brand_category_uniqueness=!0),h.enabled&&(E.debug=h,(0,n.PN)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(h,null,4))),t&&t.gdprConsent&&(E.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){var R=t.gdprConsent.addtlConsent,D=R.substring(R.indexOf("~")+1);E.gdpr_consent.addtl_consent=D.split(".").map((e=>parseInt(e,10)))}if(t&&t.uspConsent&&(E.us_privacy=t.uspConsent),null!=t&&t.gppConsent?E.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:null!=t&&null!==(r=t.ortb2)&&void 0!==r&&null!==(i=r.regs)&&void 0!==i&&i.gpp&&(E.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){var j={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((e=>encodeURIComponent(e))).join(",")},N=t.refererInfo.canonicalUrl;(0,n.d8)(N)&&""!==N&&(j.rd_can=N),E.referrer_detection=j}if((0,u.sE)(e,Ei)&&e.filter(Ei).forEach((e=>{var t=function(e,t){var{durationRangeSec:r,requireExactDuration:i}=t.mediaTypes.video,a=function(e){var{adPodDurationSec:t,durationRangeSec:r,requireExactDuration:i}=e,a=(0,n.XV)(r),o=Math.floor(t/a);return i?Math.max(o,r.length):o}(t.mediaTypes.video),o=(0,n.d5)(r),s=e.filter((e=>e.uuid===t.bidId)),d=(0,n.hl)(...s,a);if(i){var c=Math.ceil(a/r.length),l=(0,n.yo)(d,c);r.forEach(((e,t)=>{l[t].map((t=>{Oi(t,"minduration",e),Oi(t,"maxduration",e)}))}))}else d.map((e=>Oi(e,"maxduration",o)));return d}(o,e),r=E.tags.filter((t=>t.uuid!==e.bidId));E.tags=[...r,...t]})),e[0].userId){var U=[];e[0].userIdAsEids.forEach((e=>{!e||!e.uids||e.uids.length<1||e.uids.forEach((t=>{var r={source:e.source,id:t.id};"adserver.org"==e.source?r.rti_partner="TDID":"uidapi.com"==e.source&&(r.rti_partner="UID2"),U.push(r)}))})),U.length&&(E.eids=U)}o[0].publisher_id&&(E.publisher_id=o[0].publisher_id);var B=function(e,t){var r=[],i={withCredentials:!0},a="https://ib.adnxs.com/ut/v3/prebid";if((0,ri.h)(null==t?void 0:t.gdprConsent)||(a="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==(0,n.rD)("apn_test").toUpperCase()&&!0!==g.vc.getConfig("apn_test")||(i.customHeaders={"X-Is-Test":1}),e.tags.length>15){var o=(0,n.I8)(e);(0,n.yo)(e.tags,15).forEach((e=>{o.tags=e;var n=JSON.stringify(o);r.push({method:"POST",url:a,data:n,bidderRequest:t,options:i})}))}else{var s=JSON.stringify(e);r={method:"POST",url:a,data:s,bidderRequest:t,options:i}}return r}(E,t);return B},interpretResponse:function(e,t){var{bidderRequest:r}=t;e=e.body;var i=[];if(!e||e.error){var o="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(o+=": ".concat(e.error)),(0,n.H)(o),i}if(e.tags&&e.tags.forEach((e=>{var t,o=(t=e)&&t.ads&&t.ads.length&&(0,u.sE)(t.ads,(e=>e.rtb));if(o&&(!0===k.S.get(r.bidderCode,"allowZeroCpmBids")?o.cpm>=0:o.cpm>0)&&(0,u.q9)(this.supportedMediaTypes,o.ad_type)){var s=function(e,t,r){var i=(0,n.zE)(e.uuid,[r]),o=(0,n._d)(),s={adId:o,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:i.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.adomain&&(s.meta=Object.assign({},s.meta,{advertiserDomains:[t.adomain]})),t.advertiser_id&&(s.meta=Object.assign({},s.meta,{advertiserId:t.advertiser_id})),t.buyer_member_id&&(s.meta=Object.assign({},s.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)})),t.brand_id&&(s.meta=Object.assign({},s.meta,{brandId:t.brand_id})),t.rtb.video)switch(Object.assign(s,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),(0,a.Z)(i,"mediaTypes.video.context")){case A.Oh:var d=(0,ft.Q1)(i.bidder,t.brand_category_id);s.meta=Object.assign({},s.meta,{primaryCatId:d});var c=t.deal_priority;s.video={context:A.Oh,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:c},s.vastUrl=t.rtb.video.asset_url;break;case ti.gZ:if(s.adResponse=e,s.adResponse.ad=s.adResponse.ads[0],s.adResponse.ad.video=s.adResponse.ad.rtb.video,s.vastXml=t.rtb.video.content,t.renderer_url){var l=(0,u.sE)(r.bids,(t=>t.bidId===e.uuid)),g=(0,a.Z)(l,"mediaTypes.video.renderer.options");g||(g=(0,a.Z)(l,"renderer.options")),s.renderer=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=p.Th.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1,adUnitCode:e});try{i.setRender(ki)}catch(e){(0,n.yN)("Prebid Error calling setRender on renderer",e)}return i.setEventHandlers({impression:()=>(0,n.ji)("AppNexus outstream video impression event"),loaded:()=>(0,n.ji)("AppNexus outstream video loaded event"),ended:()=>{(0,n.ji)("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),i}(s.adUnitCode,t,g)}break;case ti.LD:s.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[A.B5]){var f,m=t.rtb[A.B5];if(function(e){if(!e||""===e)return!1;var t=e.match(pi),r=null!=t&&t.length>=1,i=e.match("trk.js"),n=null!=i&&i.length>=1;return e.startsWith("<script")&&n&&r}(t.viewability.config)){var v="pbjs_adid="+o+";pbjs_auc="+i.adUnitCode;f=t.viewability.config.replace("dom_id=%native_dom_id%",v)}var h=m.javascript_trackers;null==h?h=f:(0,n.d8)(h)?h=[h,f]:h.push(f),s[A.B5]={title:m.title,body:m.desc,body2:m.desc2,cta:m.ctatext,rating:m.rating,sponsoredBy:m.sponsored,privacyLink:m.privacy_link,address:m.address,downloads:m.downloads,likes:m.likes,phone:m.phone,price:m.price,salePrice:m.saleprice,clickUrl:m.link.url,displayUrl:m.displayurl,clickTrackers:m.link.click_trackers,impressionTrackers:m.impression_trackers,video:m.video,javascriptTrackers:h},m.main_img&&(s.native.image={url:m.main_img.url,height:m.main_img.height,width:m.main_img.width}),m.icon&&(s.native.icon={url:m.icon.url,height:m.icon.height,width:m.icon.width})}else{Object.assign(s,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(var b=0;b<t.rtb.trackers[0].impression_urls.length;b++){var y=t.rtb.trackers[0].impression_urls[b],_=(0,n.SG)(y);s.ad+=_}}catch(e){(0,n.H)("Error appending tracking pixel",e)}}return s}(e,o,r);s.mediaType=function(e){var t=e.ad_type;return t===A.pX?A.pX:t===A.B5?A.B5:A.Mk}(o),i.push(s)}})),e.debug&&e.debug.debug_info){var s="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;s=s.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,n.ji)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,n.ji)(s)}return i},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,r,i,n){if(e.iframeEnabled&&(0,ri.h)(r)&&function(e){return!e||!Array.isArray(e.applicableSections)||e.applicableSections.every((e=>"number"==typeof e&&e<=5))}(n))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,r,i){var o=n.Bq;if(!0===t){var s=null,d=g.vc.getConfig("s2sConfig");(0,n.PO)(d)?s=(0,a.Z)(d,"endpoint.p1Consent"):(0,n.kJ)(d)&&d.forEach((e=>{(0,u.q9)(e.bidders,r.bids[0].bidder)&&(s=(0,a.Z)(e,"endpoint.p1Consent"))})),s&&s.match("/openrtb2/prebid")&&(o=Ci)}return e=(0,n.uh)({member:"string",invCode:"string",placementId:"number",keywords:o,publisherId:"number"},e),t&&(mi(e.keywords)&&e.keywords.forEach(vi),Object.keys(e).forEach((t=>{var r=(0,n.G2)(t);r!==t&&(e[r]=e[t],delete e[t])})),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function mi(e){return!!((0,n.kJ)(e)&&e.length>0)}function vi(e){mi(e.value)&&""===e.value[0]&&delete e.value}function hi(e){var t={};Object.keys(e.params).forEach((t=>{var r=(0,n.G2)(t);r!==t&&(e.params[r]=e.params[t],delete e.params[t])})),t.sizes=bi(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placement_id?t.id=parseInt(e.params.placement_id,10):t.code=e.params.inv_code,t.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,t.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,t.prebid=!0,t.disable_psa=!0;var r=function(e){if(!(0,n.LQ)(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,n.PO)(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);if(r&&(t.reserve=r),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{var i=(0,a.Z)(e,"mediaTypes.banner.pos")||(0,a.Z)(e,"mediaTypes.video.pos");0!==i&&1!==i&&3!==i||(t.position=3===i?2:i)}e.params.traffic_source_code&&(t.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(t.private_sizes=bi(e.params.private_sizes)),e.params.supply_type&&(t.supply_type=e.params.supply_type),e.params.pub_click&&(t.pubclick=e.params.pub_click),e.params.ext_inv_code&&(t.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(t.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(t.external_imp_id=e.params.external_imp_id);var o=(0,a.Z)(e,"ortb2Imp.ext.data.keywords");if((0,n.d8)(o)&&""!==o||!(0,n.xb)(e.params.keywords)){var s=Pi(o),d=(0,n.PO)(e.params.keywords)?(0,n.I8)(e.params.keywords):{};Object.keys(d).forEach((e=>{((0,n.d8)(d[e])||(0,n.hj)(d[e]))&&(d[e]=[d[e]])}));var c=(0,n.Ee)({},d,s),p=(0,n.Bq)(c);p.length>0&&(p.forEach(vi),t.keywords=p)}var g=(0,a.Z)(e,"ortb2Imp.ext.data.pbadslot");if(g&&(t.gpid=g),(e.mediaType===A.B5||(0,a.Z)(e,"mediaTypes.".concat(A.B5)))&&(t.ad_types.push(A.B5),0===t.sizes.length&&(t.sizes=bi([1,1])),e.nativeParams)){var f=function(e){var t={};return Object.keys(e).forEach((r=>{var i=ui[r]&&ui[r].serverName||ui[r]||r,a=ui[r]&&ui[r].requiredParams;if(t[i]=Object.assign({},a,e[r]),(i===ui.image.serverName||i===ui.icon.serverName)&&t[i].sizes){var o=t[i].sizes;((0,n.HC)(o)||(0,n.kJ)(o)&&o.length>0&&o.every((e=>(0,n.HC)(e))))&&(t[i].sizes=bi(t[i].sizes))}i===ui.privacyLink&&(t.privacy_supported=!0)})),t}(e.nativeParams);t[A.B5]={layouts:[f]}}var m=(0,a.Z)(e,"mediaTypes.".concat(A.pX)),v=(0,a.Z)(e,"mediaTypes.video.context");t.hb_source=m&&"adpod"===v?7:1,(e.mediaType===A.pX||m)&&t.ad_types.push(A.pX),(e.mediaType===A.pX||m&&"outstream"!==v)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((e=>(0,u.q9)(ni,e))).forEach((r=>{switch(r){case"context":case"playback_method":var i=e.params.video[r];i=(0,n.kJ)(i)?i[0]:i,t.video[r]=li[r][i];break;case"frameworks":break;default:t.video[r]=e.params.video[r]}})),e.params.video.frameworks&&(0,n.kJ)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),m&&(t.video=t.video||{},Object.keys(m).filter((e=>(0,u.q9)(ai,e))).forEach((e=>{switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=m[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===m[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=m[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){var r=m[e];(r=(0,n.kJ)(r)?r[0]:r)>=1&&r<=4&&(t.video.playback_method=r)}break;case"api":if(!t.video_frameworks&&(0,n.kJ)(m[e])){var i=m[e].map((e=>{var t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((e=>e));t.video_frameworks=i}break;case"startdelay":case"placement":if("number"!=typeof t.video.context){var a=m.placement,o=m.startdelay,s=function(e){if(e)return 2===e?"in-banner":e>2?"outstream":void 0}(a)||function(e){if(e)return 0===e?"pre_roll":-1===e?"mid_roll":-2===e?"post_roll":void 0}(o);t.video.context=li.context[s]}}}))),e.renderer&&(t.video=Object.assign({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&(0,n.kJ)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);var h=(0,u.sE)(l.K.getAdUnits(),(t=>e.transactionId===t.transactionId));return h&&h.mediaTypes&&h.mediaTypes.banner&&t.ad_types.push(A.Mk),0===t.ad_types.length&&delete t.ad_types,t}function bi(e){var t=[],r={};if((0,n.kJ)(e)&&2===e.length&&!(0,n.kJ)(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"==typeof e)for(var i=0;i<e.length;i++){var a=e[i];(r={}).width=parseInt(a[0],10),r.height=parseInt(a[1],10),t.push(r)}return t}function yi(e){return!!e.params.user}function _i(e){return!!parseInt(e.params.member,10)}function wi(e){if(e.params)return!!e.params.app}function Ii(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function Si(e){return!!e.debug}function Ei(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===A.Oh}function Ai(e){var t=!1,r=e.params,i=e.params.video;return r.frameworks&&(0,n.kJ)(r.frameworks)&&(t=(0,u.q9)(e.params.frameworks,6)),!t&&i&&i.frameworks&&(0,n.kJ)(i.frameworks)&&(t=(0,u.q9)(e.params.video.frameworks,6)),t}function Oi(e,t,r){(0,n.xb)(e.video)&&(e.video={}),e.video[t]=r}function ki(e,t){!function(e){try{var t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((()=>{((0,n.W$)(t)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Ti.bind(null,e))}))}function Ti(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}function Ci(e){var t="";return Object.keys(e).forEach((r=>{(0,n.d8)(e[r])?""!==e[r]?t+="".concat(r,"=").concat(e[r],","):t+="".concat(r,","):(0,n.kJ)(e[r])&&(""===e[r][0]?t+="".concat(r,","):e[r].forEach((e=>{t+="".concat(r,"=").concat(e,",")})))})),t=t.substring(0,t.length-1)}function Pi(e){var t={};return(0,n.d8)(e)&&""!==e&&e.split(/\s*(?:,)\s*/).forEach((e=>{if(-1!==e.indexOf("=")){var r=e.split("="),i=r[0],n=r[1];t.hasOwnProperty(i)?t[i].push(n):t[i]=[n]}else t.hasOwnProperty(e)||(t[e]=[""])})),t}(0,ft.dX)(fi),(0,i.z)("appnexusBidAdapter");var xi=r(582);function Ri(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Di(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(r),!0).forEach((function(t){(0,gt.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ri(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ji,Ni,Ui,Bi="adagio",Mi="Adagio:",qi=[A.Mk,A.B5,A.pX],zi="adagioScript",Li=(0,W.df)({bidderCode:Bi}),Vi={mimes:e=>Array.isArray(e)&&e.length>0&&e.every((e=>"string"==typeof e)),minduration:e=>(0,n.U)(e),maxduration:e=>(0,n.U)(e),protocols:e=>(0,n.HC)(e),w:e=>(0,n.U)(e),h:e=>(0,n.U)(e),startdelay:e=>(0,n.U)(e),placement:e=>(0,n.U)(e),linearity:e=>(0,n.U)(e),skip:e=>(0,n.U)(e),skipmin:e=>(0,n.U)(e),skipafter:e=>(0,n.U)(e),sequence:e=>(0,n.U)(e),battr:e=>(0,n.HC)(e),maxextended:e=>(0,n.U)(e),minbitrate:e=>(0,n.U)(e),maxbitrate:e=>(0,n.U)(e),boxingallowed:e=>(0,n.U)(e),playbackmethod:e=>(0,n.HC)(e),playbackend:e=>(0,n.U)(e),delivery:e=>(0,n.U)(e),pos:e=>(0,n.U)(e),api:e=>(0,n.HC)(e)},Fi=(Ui={},{clearFeatures:function(){Ni=void 0},clearExchangeData:function(){Ui={}},getOrSetGlobalFeatures:function(){return Ni||(Ni={page_dimensions:Qi().toString(),viewport_dimensions:$i().toString(),user_timestamp:(Math.floor((new Date).getTime()/1e3)-60*(new Date).getTimezoneOffset()).toString(),dom_loading:rn().toString()}),Ni},prepareExchangeData(e){var t=JSON.parse(e,(function(e,t){if("_"!==e.charAt(0)||""===e)return t})),r=(0,a.Z)(t,"session.rnd"),i=!1;Wi.isNewSession(t)&&(i=!0,r=Math.random());var o={session:{new:i,rnd:r}};(0,n.Ee)(Ui,t,o),Wi.enqueue({action:"session",ts:Date.now(),data:Ui})},getExchangeData:()=>Ui});function Hi(){try{if((0,n.Zy)().location.href)return!0}catch(e){return!1}}function Zi(){return ji||(0,n.e7)()}function Gi(){var e=(0,n.e7)();return!(!e.$sf||!e.$sf.ext)}function Ki(e){var t=Wi.isRendererPreferredFromPublisher(e)?"other":"adagio";return"other"===t&&(0,n.yN)("".concat(Mi," renderer.backupOnly has not been set. Adagio recommends to use its own player to get expected behavior.")),t}var Wi={enqueue:function(e){var t=Wi.getCurrentWindow();t.ADAGIO=t.ADAGIO||{},t.ADAGIO.queue=t.ADAGIO.queue||[],t.ADAGIO.queue.push(e)},getPageviewId:function(){var e=Wi.getCurrentWindow();return e.ADAGIO=e.ADAGIO||{},e.ADAGIO.pageviewId=e.ADAGIO.pageviewId||(0,n.DO)(),e.ADAGIO.pageviewId},getDevice:function(){var e=navigator.language?"language":"userLanguage";return{userAgent:navigator.userAgent,language:navigator[e],dnt:(0,n.oV)()?1:0,geo:{},js:1}},getSite:function(e){var{refererInfo:t}=e;return{domain:(0,Y.hh)(t.topmostLocation)||"",page:t.topmostLocation||"",referrer:t.ref||(0,n.e7)().document.referrer||"",top:t.reachedTop}},getElementFromTopWindow:function e(t,r){try{if((0,n.Zy)()===r)return t.getAttribute("id")||t.setAttribute("id","adg-".concat((0,n._d)())),t;var i=r.frameElement,a=i.getBoundingClientRect(),o=t.getBoundingClientRect();return a.width===o.width&&a.height===o.height&&e(i,r.parent)}catch(e){return(0,n.yN)("".concat(Mi),e),!1}},getRefererInfo:Y.nH,adagioScriptFromLocalStorageCb:function(e){try{if(!e)return void(0,n.yN)("".concat(Mi," script not found."));var t=/^(\/\/ hash: (.+)\n)(.+\n)$/;if(t.test(e)){var r=e.match(t),i=r[2],a=r[3];(0,xi.T)(a,i,"AL16XT44Sfp+8SHVF1UdC7hydPSMVLMhsYknKDdwqq+0ToDSJrP0+Qh0ki9JJI2uYm/6VEYo8TJED9WfMkiJ4vf02CW3RvSWwc35bif2SK1L8Nn/GfFYr/2/GG/Rm0vUsv+vBHky6nuuYls20Og0HDhMgaOlXoQ/cxMuiy5QSktp",65537)?((0,n.PN)("".concat(Mi," start script.")),Function(e)()):((0,n.yN)("".concat(Mi," invalid script found.")),Li.removeDataFromLocalStorage(zi))}else(0,n.yN)("".concat(Mi," no hash found.")),Li.removeDataFromLocalStorage(zi)}catch(e){(0,n.H)(Mi,e)}},getCurrentWindow:Zi,canAccessTopWindow:Hi,isRendererPreferredFromPublisher:function(e){var t=(0,a.Z)(e,"renderer"),r=!!(t&&t.url&&t.render),i=(0,a.Z)(e,"mediaTypes.video.renderer"),n=!!(i&&i.url&&i.render);return!!(r&&!0!==t.backupOnly||n&&!0!==i.backupOnly)},isNewSession:function(e){var t=Date.now(),{lastActivityTime:r,vwSmplg:i}=(0,a.Z)(e,"session",{});return!(0,n.hj)(r)||!(0,n.hj)(i)||t-r>18e5}};function Ji(e){e.renderer.push((()=>{"function"==typeof window.ADAGIO.outstreamPlayer?window.ADAGIO.outstreamPlayer(e):(0,n.H)("".concat(Mi," Adagio outstream player is not defined"))}))}function Xi(e,t){if(e.params=e.params||{},!e.params[t]){var r=g.vc.getConfig("adagio")||{},i=e.ortb2,n=r[t]||(0,a.Z)(i,"site.ext.data.".concat(t),null);if(n){if(Array.isArray(n))return void(n.length&&(e.params[t]=n[0].toString()));e.params[t]=n.toString()}}}function Yi(e){var t=g.vc.getConfig("adagio")||{};e.params=e.params||{},t.siteId&&(e.params.organizationId=t.siteId.split(":")[0],e.params.site=t.siteId.split(":")[1]),!0!==t.useAdUnitCodeAsPlacement&&!0!==e.params.useAdUnitCodeAsPlacement||(e.params.placement=e.adUnitCode),e.params.adUnitElementId=(0,a.Z)(e,"ortb2Imp.ext.data.elementId",null)||e.params.adUnitElementId,e.params.adUnitElementId||(!0===t.useAdUnitCodeAsAdUnitElementId||!0===e.params.useAdUnitCodeAsAdUnitElementId?e.params.adUnitElementId=e.adUnitCode:e.params.adUnitElementId=function(e){var t=(0,n.ky)(e);if(t.divId)return t.divId}(e.adUnitCode)),Xi(e,"pagetype"),Xi(e,"category")}function Qi(){if(Gi()||!Hi())return"";var e=(0,n.Zy)(),t=e.document.querySelector("body");if(!t)return"";var r=e.document.documentElement,i=Math.max(t.scrollWidth,t.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth),a=Math.max(t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight);return"".concat(i,"x").concat(a)}function $i(){if(!Gi()&&!Hi())return"";var e={w:0,h:0};if(Gi()){var t=(0,n.e7)();if("function"!=typeof t.$sf.ext.geom)return(0,n.yN)(Mi,"Unable to compute from safeframe api."),"";var r=t.$sf.ext.geom();if(!r||!r.win)return(0,n.yN)(Mi,"Unable to compute from safeframe api. Missing `geom().win` property"),"";e.w=Math.round(r.w),e.h=Math.round(r.h)}else{var i=(0,n.Zy)();e.w=i.innerWidth,e.h=i.innerHeight}return"".concat(e.w,"x").concat(e.h)}function en(e){if(!e)return"";if(!Gi()&&!Hi())return"";var t={x:0,y:0};if(Gi()){var r=(0,n.e7)();if("function"!=typeof r.$sf.ext.geom)return(0,n.yN)(Mi,"Unable to compute from safeframe api."),"";var i=r.$sf.ext.geom();if(!i||!i.self)return(0,n.yN)(Mi,"Unable to compute from safeframe api. Missing `geom().self` property"),"";t.x=Math.round(i.t),t.y=Math.round(i.l)}else{if(!Hi())return"";try{var a,o=(0,n.Zy)(),s=o.document;if(!0===(0,n.yL)()){var d=(0,n.e7)(),c=d.document.getElementById(e);a=Wi.getElementFromTopWindow(c,d)}else a=o.document.getElementById(e);if(!a)return"";var l=a.getBoundingClientRect(),u=s.documentElement,p=s.body,g=s.clientTop||p.clientTop||0,f=s.clientLeft||p.clientLeft||0,m=o.pageYOffset||u.scrollTop||p.scrollTop,v=o.pageXOffset||u.scrollLeft||p.scrollLeft;if("none"===(o.getComputedStyle(a,null).display||"block")){a.style=a.style||{};var h=a.style.display;a.style.display="block",l=a.getBoundingClientRect(),a.style.display=h||null}t.x=Math.round(l.left+v-f),t.y=Math.round(l.top+m-g)}catch(e){return(0,n.H)(Mi,e),""}}return"".concat(t.x,"x").concat(t.y)}function tn(e,t){return t.bids&&t.bids.length&&(0,u.sE)(t.bids,(t=>t.adUnitCode===e)).bidderRequestsCount||1}function rn(){var e,t=-1;if((e=Hi()?(0,n.Zy)().performance:(0,n.e7)().performance)&&e.timing&&e.timing.navigationStart>0){var r=e.timing.domLoading-e.timing.navigationStart;r>0&&(t=r)}return t}function nn(e){var t,r=Zi();r.ADAGIO=r.ADAGIO||{},r.ADAGIO.pbjsAdUnits=r.ADAGIO.pbjsAdUnits.filter((t=>t.code!==e.adUnitCode)),e.features&&e.features.print_number?t=e.features.print_number:e.params.features&&e.params.features.print_number&&(t=e.params.features.print_number),r.ADAGIO.pbjsAdUnits.push({code:e.adUnitCode,mediaTypes:e.mediaTypes||{},sizes:e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)?e.mediaTypes.banner.sizes:e.sizes,bids:[{bidder:e.bidder,params:e.params}],auctionId:e.auctionId,pageviewId:Wi.getPageviewId(),printNumber:t,localPbjs:"pbjs",localPbjsRef:(0,i.R)()}),r.ADAGIO.adUnits[e.adUnitCode]={auctionId:e.auctionId,pageviewId:Wi.getPageviewId(),printNumber:t}}var an={code:Bi,gvlid:617,supportedMediaTypes:qi,isBidRequestValid:e=>(e.params=e.params||{},Yi(e),!!(e.params.organizationId&&e.params.site&&e.params.placement)||((0,n.yN)("".concat(Mi," at least one required param is missing.")),!1)),buildRequests(e,t){e=(0,d.lY)(e);var r,i="https:"===location.protocol?1:0,o=Wi.getDevice(),s=Wi.getSite(t),c=Wi.getPageviewId(),l=function(e){if(!(0,a.Z)(e,"gdprConsent"))return!1;var{apiVersion:t,gdprApplies:r,consentString:i,allowAuctionWithoutConsent:o}=e.gdprConsent;return(0,n.fz)({apiVersion:t,consentString:i,consentRequired:r?1:0,allowAuctionWithoutConsent:o?1:0})}(t)||{},u=function(e){return!!(0,a.Z)(e,"uspConsent")&&{uspConsent:e.uspConsent}}(t)||{},p={required:!0===g.vc.getConfig("coppa")?1:0},f=(r=e[0],(0,a.Z)(r,"schain")),m=function(e){if((0,a.Z)(e,"userIdAsEids"))return e.userIdAsEids}(e[0])||[],v=(0,a.Z)(g.vc.getConfig("userSync"),"syncEnabled")&&E.k_.canBidderRegisterSync("iframe","adagio"),h=(0,n.HA)(e,(e=>{var r=Di(Di({},Fi.getOrSetGlobalFeatures()),{},{print_number:tn(e.adUnitCode,t).toString(),adunit_position:en(e.params.adUnitElementId)});if(e.params.splitKeyword&&((0,n.d8)(e.params.splitKeyword)||(0,n.hj)(e.params.splitKeyword)?e.params.splitKeyword=e.params.splitKeyword.toString():(delete e.params.splitKeyword,(0,n.yN)(Mi,"The splitKeyword param have been removed because the type is invalid, accepted type: number or string."))),e.params.dataLayer)if((0,n.d8)(e.params.dataLayer)||(0,n.hj)(e.params.dataLayer)||(0,n.kJ)(e.params.dataLayer)||(0,n.LQ)(e.params.dataLayer))(0,n.yN)(Mi,"The dataLayer param is invalid, only object is accepted as a type."),delete e.params.dataLayer;else{var i=!1;e.params.dl=e.params.dataLayer,delete e.params.dataLayer,Object.keys(e.params.dl).forEach((t=>{e.params.dl[t]&&((0,n.d8)(e.params.dl[t])||(0,n.hj)(e.params.dl[t])?e.params.dl[t]=e.params.dl[t].toString():(i=!0,delete e.params.dl[t]))})),i&&(0,n.yN)(Mi,"Some parameters of the dataLayer property have been removed because the type is invalid, accepted type: number or string.")}Object.keys(r).forEach((e=>{""===r[e]&&delete r[e]})),e.features=r,Wi.enqueue({action:"features",ts:Date.now(),data:{features:e.features,params:e.params,adUnitCode:e.adUnitCode}});var o=function(e){if(!(0,n.LQ)(e.getFloor))return!1;var t=[],r=(r,i)=>{var a=e.getFloor({currency:"USD",mediaType:r,size:i});t.push((0,n.fz)({mt:r,s:(0,n.kJ)(i)?"".concat(i[0],"x").concat(i[1]):void 0,f:isNaN(a.floor)||"USD"!==a.currency?void 0:a.floor}))};return Object.keys(e.mediaTypes).forEach((t=>{if(-1!==qi.indexOf(t)){var i=t===A.pX?"playerSize":"sizes";e.mediaTypes[t][i]&&e.mediaTypes[t][i].length?(0,n.kJ)(e.mediaTypes[t][i][0])?e.mediaTypes[t][i].forEach((e=>{r(t,[e[0],e[1]])})):r(t,[e.mediaTypes[t][i][0],e.mediaTypes[t][i][1]]):r(t,"*")}})),t}(e);if((0,n.kJ)(o)&&o.length){if(e.floors=o,(0,a.Z)(e,"mediaTypes.banner")){var s=e.mediaTypes.banner,d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r={size:t,floor:null},i=e.floors.filter((e=>e.mt===A.Mk)),n=i.find((e=>e.s===t.join("x")));return r.floor=i?n?n.f:i[0].f:null,r};e.mediaTypes.banner.bannerSizes=(0,n.kJ)(s.sizes[0])?s.sizes.map((e=>d(e))):d(s.sizes)}if((0,a.Z)(e,"mediaTypes.video")){var c=e.mediaTypes.video,l=e.floors.filter((e=>e.mt===A.pX)),u=c.playerSize&&(0,n.kJ)(c.playerSize[0])?c.playerSize[0]:c.playerSize,p=u?l.find((e=>e.s===u.join("x"))):void 0;e.mediaTypes.video.floor=l?p?p.f:l[0].f:null}if((0,a.Z)(e,"mediaTypes.native")){var g=e.floors.filter((e=>e.mt===A.B5));g.length&&(e.mediaTypes.native.floor=g[0].f)}}return(0,a.Z)(e,"mediaTypes.video")&&function(e){var t=(0,a.Z)(e,"mediaTypes.video",{}),r=(0,a.Z)(e,"params.video",{}),i={};if(Array.isArray(t.playerSize)){var o=Array.isArray(t.playerSize[0])?t.playerSize[0]:t.playerSize;i.w=o[0],i.h=o[1]}var s=Di(Di(Di({},i),t),r);s.context&&s.context===ti.gZ&&(e.mediaTypes.video.playerName=Ki(e)),Object.keys(Vi).forEach((t=>{s.hasOwnProperty(t)&&(Vi[t](s[t])?e.mediaTypes.video[t]=s[t]:(delete e.mediaTypes.video[t],(0,n.yN)("".concat(Mi," The OpenRTB video param ").concat(t," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec."))))}))}(e),nn(e),e})),b=h.reduce(((e,t)=>{var r=(0,n.I8)(t);return r.params.organizationId=r.params.organizationId.toString(),delete r.floorData,delete r.params.siteId,delete r.userId,delete r.userIdAsEids,e[r.params.organizationId]=e[r.params.organizationId]||[],e[r.params.organizationId].push(r),e}),{});return(0,n.HA)(Object.keys(b),(e=>({method:"POST",url:"https://mp.4dex.io/prebid",data:{id:(0,n.DO)(),organizationId:e,secure:i,device:o,site:s,pageviewId:c,adUnits:b[e],data:Fi.getExchangeData(),regs:{gdpr:l,coppa:p,ccpa:u},schain:f,user:{eids:m},prebidVersion:"7.45.0",featuresVersion:"1",usIfr:v},options:{contentType:"text/plain"}})))},interpretResponse(e,t){var r=[];try{var i=e.body;i&&(i.data&&Wi.enqueue({action:"ssp-data",ts:Date.now(),data:i.data}),i.bids&&i.bids.forEach((e=>{var i=(0,u.sE)(t.data.adUnits,(t=>t.bidId===e.requestId));if(i){if(e.meta=(0,a.Z)(e,"meta",{}),e.meta.mediaType=e.mediaType,e.meta.advertiserDomains=Array.isArray(e.aDomain)&&e.aDomain.length?e.aDomain:[],e.mediaType===A.pX){var o=(0,a.Z)(i,"mediaTypes.video.context");!e.vastUrl&&e.vastXml&&(e.vastUrl="data:text/xml;charset=utf-8;base64,"+btoa(e.vastXml.replace(/\\"/g,'"'))),o===ti.gZ&&(e.renderer=p.Th.install({id:e.requestId,adUnitCode:e.adUnitCode,url:e.urlRenderer||"https://script.4dex.io/outstream-player.js",config:Di(Di({},(0,a.Z)(i,"mediaTypes.video")),(0,a.Z)(e,"outstream",{}))}),e.renderer.setRender(Ji))}e.mediaType===A.B5&&function(e){if(e.admNative&&Array.isArray(e.admNative.assets)){var t={};e.admNative.assets.forEach((e=>{var r,i;e.title?t.title=e.title.text:e.data?(r=e.data,(i={1:"sponsoredBy",2:"body",3:"rating",4:"likes",5:"downloads",6:"price",7:"salePrice",8:"phone",9:"address",10:"body2",11:"displayUrl",12:"cta"}).hasOwnProperty(r.type)&&"string"==typeof r.value&&(t[i[r.type]]=r.value)):e.img&&(1===e.img.type?t.icon={url:e.img.url,width:e.img.w,height:e.img.h}:t.image={url:e.img.url,width:e.img.w,height:e.img.h})})),e.admNative.link&&(e.admNative.link.url&&(t.clickUrl=e.admNative.link.url),Array.isArray(e.admNative.link.clicktrackers)&&(t.clickTrackers=e.admNative.link.clicktrackers)),Array.isArray(e.admNative.eventtrackers)?(t.impressionTrackers=[],e.admNative.eventtrackers.forEach((e=>{if(1===e.event)switch(e.method){case 1:t.impressionTrackers.push(e.url);break;case 2:var r='<script async src="'.concat(e.url,'"><\/script>');t.javascriptTrackers?t.javascriptTrackers+="\n".concat(r):t.javascriptTrackers=r}}))):(t.impressionTrackers=Array.isArray(e.admNative.imptrackers)?e.admNative.imptrackers:[],e.admNative.jstracker&&(t.javascriptTrackers=e.admNative.jstracker)),e.admNative.privacy&&(t.privacyLink=e.admNative.privacy),e.admNative.ext&&(t.ext={},e.admNative.ext.bvw&&(t.ext.adagio_bvw=e.admNative.ext.bvw)),e.native=t}else(0,n.H)("".concat(Mi," Invalid native response"))}(e),e.site=i.params.site,e.placement=i.params.placement,e.pagetype=i.params.pagetype,e.category=i.params.category}r.push(e)})))}catch(e){(0,n.H)(e)}return r},getUserSyncs:(e,t)=>!(!t.length||""===t[0].body||!t[0].body.userSyncs)&&t[0].body.userSyncs.map((e=>({type:"p"===e.t?"image":"iframe",url:e.u}))),transformBidParams(e,t,r,i){var n=(0,u.sE)(i,(e=>"adagio"===e.bidderCode)),o=(0,u.sE)(n.bids,(e=>e.adUnitCode===r.code));if(t){Yi(o),o.params.auctionId=(0,a.Z)(n,"auctionId");var s=Fi.getOrSetGlobalFeatures();o.params.features=Di(Di({},s),{},{print_number:tn(o.adUnitCode,n).toString(),adunit_position:en(o.params.adUnitElementId)}),o.params.pageviewId=Wi.getPageviewId(),o.params.prebidVersion="7.45.0",o.params.data=Fi.getExchangeData(),(0,a.Z)(o,"mediaTypes.video.context")===ti.gZ&&(o.params.playerName=Ki(o)),nn(o)}return o.params}};!function(){Hi()&&(ji=Hi()?(0,n.Zy)():(0,n.e7)());var e=Wi.getCurrentWindow();e.ADAGIO=e.ADAGIO||{},e.ADAGIO.adUnits=e.ADAGIO.adUnits||{},e.ADAGIO.pbjsAdUnits=e.ADAGIO.pbjsAdUnits||[],e.ADAGIO.queue=e.ADAGIO.queue||[],e.ADAGIO.versions=e.ADAGIO.versions||{},e.ADAGIO.versions.pbjs="7.45.0",e.ADAGIO.isSafeFrameWindow=Gi(),Li.getDataFromLocalStorage("adagio",(e=>{try{Fi.prepareExchangeData(e)}catch(e){(0,n.H)(Mi,e)}})),Li.getDataFromLocalStorage(zi,(e=>{Wi.adagioScriptFromLocalStorageCb(e)})),Li.localStorageIsEnabled((e=>{if(e)(0,z.B)("https://script.4dex.io/localstore.js",Bi);else try{window.localStorage.removeItem(zi),window.localStorage.removeItem("adagio")}catch(e){(0,n.PN)("".concat(Mi," unable to clear Adagio scripts from localstorage."))}}))}(),(0,ft.dX)(an),(0,i.z)("adagioBidAdapter"),r(631);var on=["mimes","minduration","maxduration","protocols","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext"],sn={code:"dspx",gvlid:602,aliases:[],supportedMediaTypes:[A.Mk,A.pX],isBidRequestValid:function(e){return!!e.params.placement},buildRequests:function(e,t){var r={};return e.map((e=>{var i=e.params,o=Math.floor(99999999999*Math.random()),s=t.refererInfo.page,d=e.bidId,c=e.adUnitCode||!1,l=e.auctionId||!1,p=i.devMode||!1,g=p?"https://dcbuyer.dspx.tv/request/":"https://buyer.dspx.tv/request/",f=i.placement;p&&i.dev&&(g=i.dev.endpoint||g,f=i.dev.placement||f,void 0!==i.dev.pfilter&&(i.pfilter=i.dev.pfilter));var m,v=function(e){var t={};return e.mediaTypes?Object.keys(e.mediaTypes).forEach((r=>{r===A.Mk&&(t[r]=ln(e)),r===A.pX&&(t[r]=function(e){return pn((0,a.Z)(e,"mediaTypes.video.playerSize")||e.sizes)}(e))})):t[A.Mk]=ln(e),t}(e),h=v["banner"===(m=e).mediaType||(0,a.Z)(m,"mediaTypes.banner")||!function(e){return"video"===e.mediaType||!!(0,a.Z)(e,"mediaTypes.video")}(m)?A.Mk:A.pX];if(r={_f:"auto",alternative:"prebid_js",inventory_item_id:f,srw:h?h[0].width:0,srh:h?h[0].height:0,idt:100,rnd:o,ref:s,bid_id:d,pbver:"7.45.0"},void 0!==i.pfilter&&(r.pfilter=i.pfilter),t&&t.gdprConsent&&(void 0!==r.pfilter?r.pfilter.gdpr_consent||(r.pfilter.gdpr_consent=t.gdprConsent.consentString,r.pfilter.gdpr=t.gdprConsent.gdprApplies):r.pfilter={gdpr_consent:t.gdprConsent.consentString,gdpr:t.gdprConsent.gdprApplies}),void 0!==i.bcat&&(r.bcat=(0,a.Z)(t.ortb2Imp,"bcat")||i.bcat),void 0!==i.dvt&&(r.dvt=i.dvt),p&&(r.prebidDevMode=1),e.userId){e.userId.netId&&(r.did_netid=e.userId.netId),e.userId.id5id&&(r.did_id5=e.userId.id5id.uid||"0",void 0!==e.userId.id5id.ext.linkType&&(r.did_id5_linktype=e.userId.id5id.ext.linkType));var b=(0,a.Z)(e,"userId.uid2.id");b&&(r.did_uid2=b);var y=(0,a.Z)(e,"userId.sharedid.id");y&&(r.did_sharedid=y);var _=(0,a.Z)(e,"userId.pubcid");_&&(r.did_pubcid=_);var w=(0,a.Z)(e,"crumbs.pubcid");w&&(r.did_cpubcid=w)}if(e.schain&&(r.schain=e.schain),void 0===r.pfilter||!r.pfilter.floorprice){var I=function(e){if(!(0,n.LQ)(e.getFloor))return(0,a.Z)(e,"params.bidfloor",0);try{return e.getFloor({currency:"EUR",mediaType:"*",size:"*"}).floor}catch(e){return 0}}(e);I>0&&(void 0!==r.pfilter?r.pfilter.floorprice=I:r.pfilter={floorprice:I})}if(l&&(r.auctionId=l),c&&(r.pbcode=c),r.media_types=function(e){var t={};return Object.keys(e).forEach((r=>{t[r]=e[r].map((e=>e.width+"x"+e.height)).join(",")})),t}(v),void 0!==v[A.pX]){r.vctx=function(e){return(0,a.Z)(e,"mediaTypes.video.context")||"unknown"}(e),void 0!==i.vastFormat&&(r.vf=i.vastFormat),r.vpl={};var S=(0,a.Z)(e,"mediaTypes.video");Object.keys(S).filter((e=>(0,u.q9)(on,e))).forEach((e=>r.vpl[e]=S[e]))}return{method:"GET",url:g,data:cn(r)}}))},interpretResponse:function(e,t){(0,n.ji)("DSPx: serverResponse",e),(0,n.ji)("DSPx: bidRequest",t);var r=[],i=e.body,o=i.crid||0,s=i.cpm/1e6||0;if(0!==s&&0!==o){var d=i.dealid||"",c=i.currency||"EUR",l=void 0===i.netRevenue||i.netRevenue,u={requestId:i.bid_id,cpm:s,width:i.width,height:i.height,creativeId:o,dealId:d,currency:c,netRevenue:l,type:i.type,ttl:g.vc.getConfig("_bidderTimeout"),meta:{advertiserDomains:i.adomain||[]}};i.vastUrl&&(u.vastUrl=i.vastUrl,u.mediaType="video"),i.vastXml&&(u.vastXml=i.vastXml,u.mediaType="video"),i.renderer&&(u.renderer=function(e,t){(0,n.ji)("DSPx: newRenderer",e,t);var r=p.Th.install({id:t.renderer.id||t.bid_id,url:e.params&&e.params.rendererUrl||t.renderer.url,config:t.renderer.options||(0,a.Z)(e,"renderer.options"),loaded:!1});try{r.setRender(gn)}catch(e){(0,n.yN)("Prebid Error calling setRender on renderer",e)}return r}(t,i)),i.videoCacheKey&&(u.videoCacheKey=i.videoCacheKey),i.adTag&&(u.ad=i.adTag),i.bid_appendix&&Object.keys(i.bid_appendix).forEach((e=>{u[e]=i.bid_appendix[e]})),r.push(u)}return r},getUserSyncs:function(e,t,r,i){if(!t||0===t.length)return[];var n=[],a="";return r&&(a="gdprApplies"in r&&"boolean"==typeof r.gdprApplies?"gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):"gdpr_consent=".concat(r.consentString)),t.length>0&&t[0].body.userSync&&(e.iframeEnabled&&t[0].body.userSync.iframeUrl.forEach((e=>n.push({type:"iframe",url:dn(e,a)}))),e.pixelEnabled&&t[0].body.userSync.imageUrl.forEach((e=>n.push({type:"image",url:dn(e,a)})))),n}};function dn(e,t){return t?e+(-1!==e.indexOf("?")?"&":"?")+t:e}function cn(e,t){var r,i=[];for(r in e)if(e.hasOwnProperty(r)){var n=t?t+"["+r+"]":r,a=e[r];i.push(null!==a&&"object"==typeof a?cn(a,n):encodeURIComponent(n)+"="+encodeURIComponent(a))}return i.join("&")}function ln(e){return pn((0,a.Z)(e,"mediaTypes.banner.sizes")||e.sizes)}function un(e){var t={};return t.width=parseInt(e[0],10),t.height=parseInt(e[1],10),t}function pn(e){return Array.isArray(e[0])?e.map((e=>un(e))):[un(e)]}function gn(e){(0,n.ji)("DSPx: outstreamRender bid:",e);var t=function(e){var t=window.document.createDocumentFragment(),r=window.document.createElement("div");r.innerHTML=(0,a.Z)(e,"renderer.config.code",""),t.appendChild(r);for(var i=r.getElementsByTagName("script"),n=[],o=0;o<i.length;o++)n.push(i[o]);for(var s=0;s<n.length;s++){for(var d=n[s],c=document.createElement("script"),l=0;l<d.attributes.length;l++){var u=d.attributes[l];c.setAttribute(u.name,u.value)}c.appendChild(document.createTextNode(d.innerHTML)),d.parentNode.replaceChild(c,d)}return t}(e);try{var r=(0,n.An)("iframe",e.renderer.config);if(r&&"IFRAME"===window.document.getElementById(r).nodeName){var i=window.document.getElementById(r);return(i.contentDocument||i.contentWindow&&i.contentWindow.document).body.appendChild(t),void("function"==typeof window.dspxRender?window.dspxRender(e):(0,n.H)("[dspx][renderer] Error: dspxRender function is not found"))}var o=(0,n.An)("slot",e.renderer.config)||e.adUnitCode;o&&window.document.getElementById(o)?(window.document.getElementById(o).appendChild(t),"function"==typeof window.dspxRender?window.dspxRender(e):(0,n.H)("[dspx][renderer] Error: dspxRender function is not found")):o&&(0,n.H)("[dspx][renderer] Error: slot not found")}catch(e){(0,n.H)("[dspx][renderer] Error:"+e.message)}}(0,ft.dX)(sn),(0,i.z)("dspxBidAdapter");var fn={BIDDER_CODE:"invibes",BID_ENDPOINT:".videostep.com/Bid/VideoAdContent",BID_SUBDOMAIN:"https://bid",SYNC_ENDPOINT:"https://k.r66net.com/GetUserSync",TIME_TO_LIVE:300,DEFAULT_CURRENCY:"EUR",PREBID_VERSION:9,METHOD:"GET",INVIBES_VENDOR_ID:436,USERID_PROVIDERS:["pubcid","pubProvidedId","uid2","zeotapIdPlus","id5id"],META_TAXONOMY:["networkId","networkName","agencyId","agencyName","advertiserId","advertiserName","advertiserDomains","brandId","brandName","primaryCatId","secondaryCatIds","mediaType"],DISABLE_USER_SYNC:!0},mn=(0,W.df)({bidderCode:fn.BIDDER_CODE}),vn={code:fn.BIDDER_CODE,gvlid:fn.INVIBES_VENDOR_ID,isBidRequestValid:function(e){return"object"==typeof e.params&&null!=e.params.placementId},buildRequests:function(e,t){var r,i,n,a=[],o=[],s=(t=t||{}).auctionStart||Date.now();e.forEach((function(e){var t;e.startTime=(new Date).getTime(),a.push(e.params.placementId),o.push(e.adUnitCode),n=n||e.params.domainId,r=r||e.params.customEndpoint,yn=yn||e.params.customUserSync,_n=null==e||null===(t=e.params)||void 0===t?void 0:t.disableUserSyncs,i=i||e.userId})),bn.optIn=bn.optIn||function(e){if(e&&e.vendorData){if(bn.GdprModuleInstalled=!0,bn.gdpr_consent=(s=e.vendorData).purpose&&s.purpose.consents&&null!=s.tcString?s.tcString:s.consentData,!e.vendorData.gdprApplies||e.vendorData.hasGlobalConsent){var t;for(t=0;t<bn.purposes.length;++t)bn.purposes[t]=!0;for(t=0;t<bn.legitimateInterests.length;++t)bn.legitimateInterests[t]=!0;return 2}var r=function(e){return e.purpose&&e.purpose.consents?e.purpose.consents:e.purposeConsents?e.purposeConsents:null}(e.vendorData);if(null==r)return 0;var i=function(e){return e.purpose&&e.purpose.consents?10:5}(e.vendorData);if(!xn(r,bn.purposes,i))return 0;xn(function(e){return e.purpose&&e.purpose.legitimateInterests?e.purpose.legitimateInterests:null}(e.vendorData),bn.legitimateInterests,10);var n=fn.INVIBES_VENDOR_ID.toString(10),a=function(e){return e.vendor&&e.vendor.consents?e.vendor.consents:e.vendorConsents?e.vendorConsents:null}(e.vendorData),o=!0===function(e){return e.vendor&&e.vendor.legitimateInterests?e.vendor.legitimateInterests:{}}(e.vendorData)[n];return null==a||null==a[n]?4:!1===a[n]&&!1===o?0:2}var s;return bn.GdprModuleInstalled=!1,0}(t.gdprConsent),bn.visitId=bn.visitId||On();var d,c,l=function(){var e={};try{var t=mn.getDataFromLocalStorage("ivbs");null!=t&&(e=JSON.parse(t))}catch(e){}for(var r,i=/[\\?&]([^=]+)=([^\\?&#]+)/g;null!=(r=i.exec(window.location.href));)r.index===i.lastIndex&&i.lastIndex++,e[r[1].toLowerCase()]=r[2];return e}(),u=((d=i)&&fn.USERID_PROVIDERS.forEach((e=>{d[e]&&((c=c||{})[e]=d[e])})),c),p={placementIds:a,adUnitCodes:o,auctionStartTime:s,bidVersion:fn.PREBID_VERSION};u&&(p.userId=u);var g={location:kn(hn),videoAdHtmlId:On(),showFallback:"0"===l.advs,ivbsCampIdsLocal:Cn("IvbsCampIdsLocal"),bidParamsJson:JSON.stringify(p),capCounts:Pn(),pcids:Object.keys(bn.pushedCids).join(","),vId:bn.visitId,width:hn.innerWidth,height:hn.innerHeight,oi:bn.optIn,kw:Rn,purposes:bn.purposes.toString(),li:bn.legitimateInterests.toString(),tc:bn.gdpr_consent,isLocalStorageEnabled:mn.hasLocalStorage(),preventPageViewEvent:wn},f=Cn("ivbsdid");if(!f){var m=bn.getCookie("ivbsdid");if(m)try{var v=JSON.parse(m);f=v.id?v.id:v}catch(e){}}f&&(g.lId=f);var h="videoaddebug,advs,bvci,bvid,istop,trybvid,trybvci".split(",");for(var b in l)if(l.hasOwnProperty(b)){var y=l[b];(h.indexOf(b)>-1||/^vs|^invib/i.test(b))&&(g[b]=y)}var _=function(e,t,r){if(null!=e)return e;if(null!=t)return Sn(t-1e3);if(r.length>0)for(var i=0;i<r.length;i++){var n=En(r[i]);if(null!=n)return Sn(n)}return Sn(1)}(r,n,a);return wn=!0,{method:fn.METHOD,url:_,data:g,options:{withCredentials:!0},bidRequests:e}},interpretResponse:function(e,t){return function(e,t){if(null==t||0===t.length)return(0,n.PN)("Invibes Adapter - No bids have been requested"),[];if(!e)return(0,n.PN)("Invibes Adapter - Bid response is empty"),[];var r;if((e=(e=e.body||e).videoAdContentResult||e).ShouldSetLId&&e.LId&&(bn.optIn&&bn.purposes[0]||!e.PrivacyPolicyRule||!e.TcModel||!e.TcModel.PurposeConsents||(bn.optIn=e.PrivacyPolicyRule,bn.purposes=e.TcModel.PurposeConsents),r=e.LId,bn.optIn&&bn.purposes[0]&&mn.setDataInLocalStorage("ivbsdid",r)),"object"==typeof bn.bidResponse){if(!0!==e.MultipositionEnabled)return(0,n.PN)("Invibes Adapter - Bid response already received. Invibes only responds to one bid request per user visit"),[];bn.bidResponse.AdPlacements=bn.bidResponse.AdPlacements.concat(e.AdPlacements)}else bn.bidResponse=e;for(var i=[],a=0;a<t.length;a++){var o=t[a],s=!0===e.UseAdUnitCode?o.params.placementId+"_"+o.adUnitCode:o.params.placementId;if(bn.placementBids.indexOf(s)>-1)(0,n.PN)("Invibes Adapter - Placement was previously bid on "+s);else{var d=null;if(null!=e.AdPlacements)for(var c=0;c<e.AdPlacements.length;c++){var l=e.AdPlacements[c].BidModel;if(null!=l&&l.PlacementId==s){d=e.AdPlacements[c];break}}else{var u=e.BidModel;null!=u&&u.PlacementId==s&&(d=e)}var p=In(o,d,e.MultipositionEnabled,s);null!==p&&(bn.placementBids.push(s),i.push(p))}}return i}(e,null!=t?t.bidRequests:null)},getUserSyncs:function(e){if(e.iframeEnabled&&!(null==_n||null==_n?fn.DISABLE_USER_SYNC:_n))return{type:"iframe",url:function(){var e=yn||fn.SYNC_ENDPOINT;e+="?visitId="+bn.visitId,e+="&optIn="+bn.optIn;var t=Cn("ivbsdid");if(!t){var r=bn.getCookie("ivbsdid");if(r)try{var i=JSON.parse(r);t=i.id?i.id:i}catch(e){}}return t&&(e+="&ivbsdid="+encodeURIComponent(t)),e}()}}};(0,ft.dX)(vn);var hn=function(){var e=window;try{for(;top!==e;)e.parent.location.href.length&&(e=e.parent)}catch(e){}return e}(),bn=hn.invibes=hn.invibes||{};bn.purposes=bn.purposes||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],bn.legitimateInterests=bn.legitimateInterests||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],bn.placementBids=bn.placementBids||[],bn.pushedCids=bn.pushedCids||{};var yn,_n,wn=!1;function In(e,t,r,i){if(null===t||null===t.BidModel)return(0,n.PN)("Invibes Adapter - Placement not configured for bidding "+i),null;var a=t.BidModel,o=t.Ads;if(!Array.isArray(o)||o.length<1)return null!=t.AdReason&&(0,n.PN)("Invibes Adapter - No ads "+t.AdReason),(0,n.PN)("Invibes Adapter - No ads available"),null;var s=o[0],d=function(e){for(var t=[0,0],r=0;r<e.length;r++)e[r][0]*e[r][1]>t[0]*t[1]&&(t=e[r]);return t}(e.sizes);if(!0===r&&Object.keys(bn.pushedCids).length>0){if(null!=s.Blcids&&s.Blcids.length>0&&Object.keys(bn.pushedCids).some((function(e){return s.Blcids.indexOf(parseInt(e))>-1})))return(0,n.PN)("Invibes Adapter - Ad blacklists pushed ids"),null;if(Object.keys(bn.pushedCids).some((function(e){return bn.pushedCids[e].indexOf(s.Cid)>-1})))return(0,n.PN)("Invibes Adapter - Ad is blacklisted"),null}bn.pushedCids[s.Cid]=s.Blcids||[];var c=Date.now();return(0,n.PN)("Bid auction started at "+a.AuctionStartTime+" . Invibes registered the bid at "+c+" ; bid request took a total of "+(c-a.AuctionStartTime)+" ms."),{requestId:e.bidId,cpm:s.BidPrice,width:a.Width||d[0],height:a.Height||d[1],creativeId:s.VideoExposedId,currency:a.Currency||fn.DEFAULT_CURRENCY,netRevenue:!0,ttl:fn.TIME_TO_LIVE,ad:Tn(a),meta:An(a.Meta)}}function Sn(e){return e<2?fn.BID_SUBDOMAIN+fn.BID_ENDPOINT:fn.BID_SUBDOMAIN+e+fn.BID_ENDPOINT}function En(e){if(null==e)return null;var t=/_ivbs([0-9]+)/g.exec(e);return null!=t&&null!=t[1]?parseInt(t[1]):null}function An(e){var t={};if(null!=e)for(var r=0;r<fn.META_TAXONOMY.length;r++)e.hasOwnProperty(fn.META_TAXONOMY[r])&&(t[fn.META_TAXONOMY[r]]=e[fn.META_TAXONOMY[r]]);return t}function On(){return Math.round(1e12*Math.random()).toString(36).substring(0,10)}function kn(e){return e.location.href.substring(0,300).split(/[?#]/)[0]}function Tn(e){return"<html>\n        <head><script type='text/javascript'>inDapIF=true;<\/script></head>\n          <body style='margin : 0; padding: 0;'>\n          creativeHtml\n          </body>\n        </html>".replace("creativeHtml",e.CreativeHtml)}function Cn(e){if(!bn.GdprModuleInstalled||bn.optIn&&bn.purposes[0])return mn.getDataFromLocalStorage(e)||""}function Pn(){var e="ivvcap";if(!bn.optIn||!bn.purposes[0])return"";var t=function(){try{return JSON.parse(mn.getDataFromLocalStorage(e))||{}}catch(e){return{}}};return function(){!function(){var r=(new Date).getTime(),i=t(),n=!1;Object.keys(i).forEach((function(e){i[e][1]<=r&&(delete i[e],n=!0)})),n&&function(t){mn.setDataInLocalStorage(e,JSON.stringify(t))}(i)}();var r=t();return Object.keys(r).filter((function(e){return r.hasOwnProperty(e)})).sort().map((function(e){return[e,r[e][0]]}))}().map((function(e){return e.join("=")})).join(",")}function xn(e,t,r){if(e instanceof Array){for(var i=0;i<r&&i<e.length;i++)t[i]=!(!1===e[i]||"false"===e[i]||null==e[i]);return!0}if("object"==typeof e&&null!==e){var n=0;for(var a in e){if(n===r)break;if(e.hasOwnProperty(a)){var o=parseInt(a);isNaN(o)?t[n]=!(!1===e[a]||"false"===e[a]||null==e[a]):t[o-1]=!(!1===e[a]||"false"===e[a]||null==e[a]),n++}}return!0}return!1}bn.Uid={generate:function(){var e=parseInt("zzzzzz",36),t=function(){return Math.floor(Math.random()*e).toString(36)};return t()+t()}},bn.getCookie=function(e){if(mn.cookiesAreEnabled()&&(!bn.GdprModuleInstalled||bn.optIn&&bn.purposes[0]))return mn.getCookie(e)};var Rn=function(){var e=document.getElementsByTagName("head")[0],t=e?e.getElementsByTagName("meta"):[];function r(e,t){var r=e.replace(/[<>~|\\"`!@#$%^&*()=+?]/g,""),i=r.split(/[\s,;.:]+/).filter((function(e,t,r){return""!==e&&r.indexOf(e)===t}));r="";for(var n=0;n<i.length;n++){if((r+=i[n]).length>=t)return r;n<i.length-1&&(r+=",")}return r}function i(e,i,n){e=e||"keywords",i=i||100;for(var a=n=n||"",o=0;o<t.length;o++){if(t[o].name&&t[o].name.toLowerCase()===e.toLowerCase())return r(n+","+t[o].content||"",i);t[o].name&&t[o].name.toLowerCase().indexOf(e.toLowerCase())>-1&&(a=n+","+t[o].content||"")}return r(a,i)}var n=i("keywords",300);return(!n||n.length<292)&&(!(n=i("description",300,n))||n.length<292)&&(n=function(t,i){return t=t||300,r((i=i||"")+","+((document.title||e)&&e.getElementsByTagName("title")[0]?e.getElementsByTagName("title")[0].innerHTML:""),t)}(300,n)),n}();function Dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(r),!0).forEach((function(t){(0,gt.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(0,i.z)("invibesBidAdapter");var Nn="ix",Un="roundel",Bn=[A.Mk,A.pX,A.B5],Mn=[144,144],qn={JPY:1},zn={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},Ln={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":"","intimatemerger.com":""},Vn=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId"],Fn=["mimes","minduration","maxduration"],Hn=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],Zn="ixdiag",Gn="".concat(Nn,"_features"),Kn=!1,Wn=(0,W.df)({bidderCode:Nn}),Jn={REQUESTED_FEATURE_TOGGLES:[],featureToggles:{},isFeatureEnabled:function(e){return(0,a.Z)(this.featureToggles,"features.".concat(e,".activated"),!1)},getFeatureToggles:function(){if(Wn.localStorageIsEnabled()){var e=(0,n.dj)(Wn.getDataFromLocalStorage(Gn));(0,a.Z)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){var t=e.body,r=new Date,i=(0,a.Z)(t,"ext.features");i&&(this.featureToggles={expiry:r.setHours(r.getHours()+1),features:i},Wn.localStorageIsEnabled()&&Wn.setDataInLocalStorage(Gn,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},Wn.localStorageIsEnabled()&&Wn.removeDataFromLocalStorage(Gn)}},Xn=0,Yn="",Qn="";function $n(e){var t=ea(e,A.pX),r=(0,a.Z)(e,"mediaTypes.video"),i=(0,a.Z)(e,"params.video");if(aa(r,i).length)return{};for(var o in t.video=i?(0,n.I8)(e.params.video):{},t.ext.tid=(0,a.Z)(e,"ortb2Imp.ext.tid"),r)-1===Hn.indexOf(o)||t.video.hasOwnProperty(o)||(t.video[o]=r[o]);if(t.video.minduration>t.video.maxduration)return(0,n.H)("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]"),{bidder:Nn,code:9}),{};var s=i&&i.context||r&&r.context;if(s&&!t.video.hasOwnProperty("placement")&&(s===ti.LD?t.video.placement=1:s===ti.gZ?(0,a.Z)(i,"playerConfig.floatOnScroll")?t.video.placement=5:t.video.placement=4:(0,n.yN)("IX Bid Adapter: Video context '".concat(s,"' is not supported"))),!t.video.w||!t.video.h){var d=oa((0,a.Z)(t,"video.playerSize"))||oa((0,a.Z)(e,"params.size"));if(!d)return(0,n.yN)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=d[0],t.video.h=d[1]}return ta(e,t,A.pX),t}function ea(e,t){var r={};if(r.id=e.bidId,r.ext={},(0,a.Z)(e,"params.".concat(t,".siteId"))&&!isNaN(Number(e.params[t].siteId)))switch(t){case A.Mk:r.ext.siteID=e.params.banner.siteId.toString();break;case A.pX:r.ext.siteID=e.params.video.siteId.toString();break;case A.B5:r.ext.siteID=e.params.native.siteId.toString()}else r.ext.siteID=e.params.siteId.toString();return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(r.ext.sid=String(e.params.id)),r}function ta(e,t,r){var i=null,a=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(i={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,n.LQ)(e.getFloor)){var o="*",s="*";if(r&&(0,n.r3)(Bn,r)){var{w:d,h:c}=t[r];o=r,s=[d,c]}try{a=e.getFloor({mediaType:o,size:s})}catch(e){(0,n.yN)("priceFloors module call getFloor failed, error : ",e)}}a?(t.bidfloor=a.floor,t.bidfloorcur=a.currency,t.ext.fl="p"):i&&(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl="x")}function ra(e,t,r){var i={},o=!(!(0,a.Z)(e,"exp")||!(0,n.U)(e.exp)),s=(0,a.Z)(e,"dealid")||(0,a.Z)(e,"ext.dealid");qn.hasOwnProperty(t)?i.cpm=e.price/qn[t]:i.cpm=e.price/100,i.requestId=e.impid,s&&(i.dealId=s),i.netRevenue=!0,i.currency=t,i.creativeId=e.hasOwnProperty("crid")?e.crid:"-",2!=e.mtype||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(i.vastUrl=e.ext.vasturl):i.vastXml=e.adm;var d=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{d=JSON.parse(e.adm)}catch(e){(0,n.yN)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||2==e.mtype?(i.width=r.video.w,i.height=r.video.h,i.mediaType=A.pX,i.mediaTypes=r.mediaTypes,i.ttl=o?e.exp:3600):d&&d.native?(i.native={ortb:d.native},i.width=e.w?e.w:1,i.height=e.h?e.h:1,i.mediaType=A.B5,i.ttl=o?e.exp:3600):(i.ad=e.adm,i.width=e.w,i.height=e.h,i.mediaType=A.Mk,i.ttl=o?e.exp:300),i.meta={},i.meta.networkId=(0,a.Z)(e,"ext.dspid"),i.meta.brandId=(0,a.Z)(e,"ext.advbrandid"),i.meta.brandName=(0,a.Z)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(i.meta.advertiserDomains=e.adomain),i}function ia(e){return Array.isArray(e)&&2===e.length&&(0,n.U)(e[0])&&(0,n.U)(e[1])}function na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(ia(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function aa(e,t){var r=[];for(var i of(e||(0,n.yN)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit"),Fn)){var a=e&&e.hasOwnProperty(i),o=t&&t.hasOwnProperty(i);a||o||r.push("IX Bid Adapter: ".concat(i," is not included in either the adunit or params level"))}var s=e&&e.hasOwnProperty("protocol"),d=e&&e.hasOwnProperty("protocols"),c=t&&t.hasOwnProperty("protocol"),l=t&&t.hasOwnProperty("protocols");return s||d||c||l||r.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),r}function oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ia(e)?e:!!ia(e[0])&&e[0]}function sa(e,t,r){if(e)return jn(jn({},(0,u.sE)(r,(t=>t.bidId===e))),(0,u.sE)(t,(t=>t.id===e)))}function da(e,t,r,i){var s="https://htlb.casalemedia.com/openrtb/pbjs",d=function(e){var t=[],r={};if((0,n.kJ)(e))for(var i of e)Ln.hasOwnProperty(i.source)&&(0,a.Z)(i,"uids.0")&&(r[i.source]=!0,""!=Ln[i.source]&&(i.uids[0].ext={rtiPartner:Ln[i.source]}),delete i.uids[0].atype,t.push(i));return{toSend:t,seenSources:r}}((0,a.Z)(e,"0.userIdAsEids")),c=d.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){var r=window.headertag.getIdentityInfo();if(r&&"object"==typeof r)for(var i in r)if(r.hasOwnProperty(i)){var n=r[i];!n.responsePending&&n.data&&"object"==typeof n.data&&Object.keys(n.data).length&&!t.seenSources[n.data.source]&&e.push(n.data)}}(c,d),t&&t.bidderCode===Un&&!d.seenSources["liveramp.com"])return[];var l=[],u=function(e){var t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=Wn.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);u=function(e,t){return t.length>0&&(e.ext.features={},t.forEach((t=>{e.ext.features[t]={activated:Jn.isFeatureEnabled(t)}}))),e}(u,Jn.REQUESTED_FEATURE_TOGGLES);var p=function(e){for(var t=e.map((e=>e.transactionId)).filter(((e,t,r)=>r.indexOf(e)===t)),r={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"7.45.0",userIds:pa(e[0]),url:window.location.href.split("?")[0]},i=function(i){o=e.filter((e=>e.transactionId===t[i]))[0],(0,a.Z)(o,"mediaTypes")&&(Object.keys(o.mediaTypes).length>1&&r.mfu++,(0,a.Z)(o,"mediaTypes.native")&&r.nu++,(0,a.Z)(o,"mediaTypes.banner")&&r.bu++,"outstream"===(0,a.Z)(o,"mediaTypes.video.context")&&(r.ou++,wa(o)&&(r.ren=!0)),"instream"===(0,a.Z)(o,"mediaTypes.video.context")&&r.iu++,r.allu++)},n=0;n<t.length;n++){var o;i(n)}return r}(e);for(var f in p)u.ext.ixdiag[f]=p[f];u=function(e,t,r,i,o){var s=(0,a.Z)(t,"timeout");s&&(e.ext.ixdiag.tmax=s),g.vc.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=g.vc.getConfig("userSync").syncsPerBidder);var d=function(){if(Wn.localStorageIsEnabled()){var e,t={};try{e=JSON.parse(Wn.getDataFromLocalStorage(Zn)||"{}")}catch(e){return(0,n.H)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((r=>{Object.keys(e[r]).forEach((i=>{"number"==typeof e[r][i]&&(t[i]=t[i]?t[i]+e[r][i]:e[r][i])}))})),t}}();return(0,n.xb)(d)||(e.ext.ixdiag.err=d),e.ext.ixdiag.imps=Object.keys(r).length,e.source={tid:i[0].auctionId},i[0].schain&&(e.source.ext={},e.source.ext.schain=i[0].schain),o.length>0&&(e.user={},e.user.eids=o),document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer),e}(u,t,r,e,c),u=function(e,t){if(t){t.gdprConsent&&((Yn=t.gdprConsent).hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:Yn.gdprApplies?1:0}}),Yn.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:Yn.consentString||""},Yn.hasOwnProperty("addtlConsent")&&Yn.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:Yn.addtlConsent}))),t.uspConsent&&(o(e,"regs.ext.us_privacy",t.uspConsent),Qn=t.uspConsent);var r=(0,a.Z)(t,"refererInfo.page");r&&(e.site.page=r),t.gppConsent&&(o(e,"regs.gpp",t.gppConsent.gppString),o(e,"regs.gpp_sid",t.gppConsent.applicableSections))}return g.vc.getConfig("coppa")&&o(e,"regs.coppa",1),e}(u,t);var m={};!function(e,t,r,i,n,a){Xn=e[0].params.siteId,a.s=Xn;var o=t&&t.bidderCode||"ix",s=g.vc.getConfig(o);if(s&&"object"==typeof s.firstPartyData){var d=s.firstPartyData,c="?";for(var l in d)d.hasOwnProperty(l)&&(c+="".concat(encodeURIComponent(l),"=").concat(encodeURIComponent(d[l]),"&"));c=c.slice(0,-1),"page"in r.site?r.site.page+=c:r.site.page=c}}(e,t,u,0,0,m);for(var v=Object.keys(r),h=!1,b=0;b<v.length&&!(l.length>=4);b++){u=ca(r,v,u,b);var y=(0,a.Z)(t,"ortb2")||{},_=jn({},y.site||y.context),w=jn({},y.user);if(!(0,n.xb)(y)&&!h){u=la(t,u,y,_,w);var I=(0,n.I8)(u);I.site=(0,n.Ee)({},I.site,_),I.user=(0,n.Ee)({},I.user,w),u.site=(0,n.Ee)({},u.site,_),u.user=(0,n.Ee)({},u.user,w),h=!0}u=ua(r,u,v,b),b===v.length-1&&(l.push({method:"POST",url:s+"?s="+Xn,data:(0,n.I8)(u),option:{contentType:"text/plain"},validBidRequests:e}),u.imp=[],h=!1)}return l}function ca(e,t,r,i){var a=e[t[i]],{missingImps:s=[],ixImps:d=[]}=a,c={ixImps:d,missingBannerImpressions:s},l=Object.keys(c).map((e=>c[e])).filter((e=>Array.isArray(e))).reduce(((e,t)=>e.concat(...t)),[]),u=e[t[i]].gpid,p=e[t[i]].dfp_ad_unit_code,g=e[t[i]].tid,f=e[t[i]].sid;if(l.length&&A.Mk in l[0]){for(var{id:m,banner:{topframe:v}}=l[0],h={id:m,banner:{topframe:v,format:l.map((e=>{var{banner:{w:t,h:r},ext:i}=e;return{w:t,h:r,ext:i}}))}},b=0;b<h.banner.format.length;b++)null!=h.banner.format[b].ext&&null!=h.banner.format[b].ext.sid&&delete h.banner.format[b].ext.sid,"bidfloor"in l[b]&&(h.banner.format[b].ext.bidfloor=l[b].bidfloor);var y=e[t[i]].pos;(0,n.U)(y)&&(h.banner.pos=y),(p||u||g||f)&&(h.ext={},h.ext.dfp_ad_unit_code=p,h.ext.gpid=u,h.ext.tid=g,h.ext.sid=f),"bidfloor"in l[0]&&(h.bidfloor=l[0].bidfloor),"bidfloorcur"in l[0]&&(h.bidfloorcur=l[0].bidfloorcur),r.imp.push(h)}else l.forEach((e=>o(e,"ext.gpid",u))),r.imp.push(...l);return r}function la(e,t,r,i,a){if(t.ext.ixdiag.fpd=!0,Object.keys(i).forEach((e=>{-1===zn.SITE.indexOf(e)&&delete i[e]})),Object.keys(a).forEach((e=>{-1===zn.USER.indexOf(e)&&delete a[e]})),r.device){var s=jn({},r.device.sua);(0,n.xb)(s)||o(t,"device.sua",s)}return r.hasOwnProperty("regs")&&!e.gppConsent&&(r.regs.hasOwnProperty("gpp")&&"string"==typeof r.regs.gpp&&o(t,"regs.gpp",r.regs.gpp),r.regs.hasOwnProperty("gpp_sid")&&Array.isArray(r.regs.gpp_sid)&&o(t,"regs.gpp_sid",r.regs.gpp_sid)),t}function ua(e,t,r,i,n,a){var o=e[r[i]].pbadslot,s=e[r[i]].tagId,d=e[r[i]].adUnitCode,c=e[r[i]].divId;return(o||s||d||c)&&(t.ext.ixdiag.pbadslot=o,t.ext.ixdiag.tagid=s,t.ext.ixdiag.adunitcode=d,t.ext.ixdiag.divId=c),t}function pa(e){var t=e.userId||{};return Vn.filter((e=>t[e]))}function ga(e,t){if(t)for(var r=0;r<e.length;r++){var i=e[r];if(t[0]===i[0]&&t[1]===i[1]){e.splice(r,1);break}}}function fa(e,t){var r=function(e){var t=ea(e,A.B5),r=e.nativeOrtbRequest;return r.eventtrackers=[{event:1,methods:[1,2]}],r.privacy=1,t.native={request:JSON.stringify(r),ver:"1.2"},t.ext.tid=(0,a.Z)(e,"ortb2Imp.ext.tid"),ta(e,t,A.B5),t}(e);if(0!=Object.keys(r).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(r),t[e.transactionId].gpid=(0,a.Z)(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=(0,a.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=(0,a.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=(0,a.Z)(e,"params.tagId");var i=e.adUnitCode,o=document.getElementById(i)?i:(0,n.ky)(i).divId;t[e.transactionId].adUnitCode=i,t[e.transactionId].divId=o}}function ma(e,t){var r=$n(e);if(0!=Object.keys(r).length){t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(r),t[e.transactionId].gpid=(0,a.Z)(e,"ortb2Imp.ext.gpid"),t[e.transactionId].dfp_ad_unit_code=(0,a.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.transactionId].pbadslot=(0,a.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.transactionId].tagId=(0,a.Z)(e,"params.tagId");var i=e.adUnitCode,o=document.getElementById(i)?i:(0,n.ky)(i).divId;t[e.transactionId].adUnitCode=i,t[e.transactionId].divId=o}}function va(e,t,r){var i=function(e){var t=ea(e,A.Mk);t.banner={};var r=(0,a.Z)(e,"params.size");return r&&(t.banner.w=r[0],t.banner.h=r[1]),t.banner.topframe=(0,n.yL)()?0:1,ta(e,t,A.Mk),t}(e),o=na((0,a.Z)(e,"mediaTypes.banner.sizes"),(0,a.Z)(e,"params.size"));r.hasOwnProperty(e.transactionId)||(r[e.transactionId]={}),r[e.transactionId].gpid=(0,a.Z)(e,"ortb2Imp.ext.gpid"),r[e.transactionId].dfp_ad_unit_code=(0,a.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),r[e.transactionId].tid=(0,a.Z)(e,"ortb2Imp.ext.tid"),r[e.transactionId].pbadslot=(0,a.Z)(e,"ortb2Imp.ext.data.pbadslot"),r[e.transactionId].tagId=(0,a.Z)(e,"params.tagId"),r[e.transactionId].pos=(0,a.Z)(e,"mediaTypes.banner.pos");var s=(0,a.Z)(e,"params.id");!s||"string"!=typeof s&&"number"!=typeof s||(r[e.transactionId].sid=String(s));var d=e.adUnitCode,c=document.getElementById(d)?d:(0,n.ky)(d).divId;r[e.transactionId].adUnitCode=d,r[e.transactionId].divId=c,o&&(r[e.transactionId].hasOwnProperty("ixImps")||(r[e.transactionId].ixImps=[]),r[e.transactionId].ixImps.push(i)),function(e,t,r){var i=e.transactionId;if(t.hasOwnProperty(i)){var o=[];t[i].hasOwnProperty("missingSizes")&&(o=t[i].missingSizes),ga(o,e.params.size),t[i].missingSizes=o}else if((0,a.Z)(e,"mediaTypes.banner.sizes")){var s=(0,n.I8)(e.mediaTypes.banner.sizes);ga(s,e.params.size);var d={missingSizes:s,impression:r};t[i]=d}}(e,t,i)}function ha(e,t,r){var i=(0,n.I8)(t);return i.banner.w=r[0],i.banner.h=r[1],ta(e,i,A.Mk),i}function ba(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Nn&&function(e){if(Wn.localStorageIsEnabled()){var t;try{t=JSON.parse(Wn.getDataFromLocalStorage(Zn)||"{}")}catch(e){(0,n.yN)("ix can not read ixdiag from localStorage.")}var r=new Date;if(Object.keys(t).map((e=>{var i=new Date(e);i.setDate(i.getDate()+7)-r<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Nn){var i=r.toISOString().slice(0,10),a=e.arguments[1].code;a&&(t[i]=t[i]||{},Number(t[i][a])||(t[i][a]=0),t[i][a]++)}Wn.setDataInLocalStorage(Zn,JSON.stringify(t))}}(e)}function ya(e){e.renderer.push((function(){var t=e.adUnitCode,r=document.getElementById(t)?t:(0,n.ky)(t).divId;r?window.createIXPlayer(r,e):(0,n.yN)("IX Bid Adapter: adUnitCode: ".concat(r," not found on page."))}))}function _a(e,t){var r=p.Th.install({id:e,url:t,loaded:!1});try{r.setRender(ya)}catch(e){return(0,n.yN)("Prebid Error calling setRender on renderer",e),null}return t?r:((0,n.yN)("Outstream renderer URL not found"),null)}function wa(e){if("outstream"!==(0,a.Z)(e,"mediaTypes.video.context"))return!1;var t=(0,a.Z)(e,"mediaTypes.video.renderer");return t||(t=(0,a.Z)(e,"renderer")),!("object"==typeof t&&t.url&&t.render)||t.backupOnly}var Ia={code:Nn,gvlid:10,aliases:[{code:Un,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:Bn,isBidRequestValid:function(e){Kn||(s.on(c.EVENTS.AUCTION_DEBUG,ba),s.on(c.EVENTS.AD_RENDER_FAILED,ba),Kn=!0);var t,r,i=(0,a.Z)(e,"params.video"),o=(0,a.Z)(e,"params.size"),d=(0,a.Z)(e,"mediaTypes.banner.sizes"),l=(0,a.Z)(e,"mediaTypes.video"),u=(0,a.Z)(e,"mediaTypes.video.playerSize"),p=e.params.hasOwnProperty("bidFloor"),g=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,n.r3)(Bn,e.mediaType))return(0,n.yN)("IX Bid Adapter: media type is not supported."),!1;if((0,a.Z)(e,"mediaTypes.banner")&&!d)return!1;if(o){var f=oa(o);if(!f)return(0,n.H)("IX Bid Adapter: size has invalid format.",{bidder:Nn,code:1}),!1;if(!na(e.sizes,f)&&!na(u,f)&&!na(d,f))return(0,n.H)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:Nn,code:2}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,n.H)("IX Bid Adapter: siteId must be string or number type.",{bidder:Nn,code:4}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,n.H)("IX Bid Adapter: siteId must valid value",{bidder:Nn,code:4}),!1;if((p||g)&&!(p&&g&&(t=e.params.bidFloor,r=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof r&&r.match(/^[A-Z]{3}$/)))))return(0,n.H)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:Nn,code:5}),!1;if(l&&i){var m=$n(e).video,v=aa(l,i);if((0,a.Z)(e,"mediaTypes.video.context")===ti.gZ&&wa(e)&&m){var h=[(0,a.Z)(m,"w"),(0,a.Z)(m,"h")];if(!(h[0]>=Mn[0]&&h[1]>=Mn[1]))return(0,n.H)("IX Bid Adapter: ".concat(h," is an invalid size for IX outstream renderer")),!1}if(v.length)return v.forEach((e=>{(0,n.H)(e,{bidder:Nn,code:3})})),!1}return function(e){return void 0===(0,a.Z)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},buildRequests:function(e,t){var r=[],i={},o={},s={},d={};for(var c in Jn.getFeatureToggles(),e.forEach((e=>{var t=Object.keys((0,a.Z)(e,"mediaTypes",{}));for(var r in t)switch(t[r]){case A.Mk:va(e,d,i);break;case A.pX:ma(e,o);break;case A.B5:fa(e,s);break;default:(0,n.yN)("IX Bid Adapter: ad unit mediaTypes ".concat(r," is not supported"))}})),d)if(d.hasOwnProperty(c)){var l=d[c].missingSizes;i.hasOwnProperty(c)||(i[c]={}),i[c].hasOwnProperty("missingImps")||(i[c].missingImps=[],i[c].missingCount=0);for(var u=d[c].impression,p=0;p<l.length;p++){var g=ha(e[0],u,l[p]);i[c].missingImps.push(g),i[c].missingCount++}}return Object.keys(i).length>0&&r.push(...da(e,t,i)),Object.keys(o).length>0&&r.push(...da(e,t,o)),Object.keys(s).length>0&&r.push(...da(e,t,s)),r},interpretResponse:function(e,t){var r=[],i=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return Jn.setFeatureToggles(e),r;for(var o=e.body,s=o.seatbid,d=0;d<s.length;d++)if(s[d].hasOwnProperty("bid")){for(var c=s[d].bid,l=t.data,u=0;u<c.length;u++){var p=sa(c[u].impid,l.imp,t.validBidRequests);if((i=ra(c[u],o.cur,p)).mediaType===A.pX&&wa(p)){var g=(0,a.Z)(o,"ext.videoplayerurl");if(i.renderer=_a(c[u].bidId,g),!i.renderer)continue}r.push(i)}if((0,a.Z)(l,"ext.ixdiag.err")&&Wn.localStorageIsEnabled())try{Wn.removeDataFromLocalStorage(Zn)}catch(e){(0,n.H)("ix can not clear ixdiag from localStorage.")}}return Jn.setFeatureToggles(e),r},transformBidParams:function(e,t){return(0,n.uh)({siteID:"number"},e)},getUserSyncs:function(e,t){var r,i,n,o,s=[],d=null;if(t.length>0&&(d=(0,a.Z)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==d&&0==d)return[];if(e.iframeEnabled)s.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var c=null;g.vc.getConfig("userSync")&&(c=g.vc.getConfig("userSync").syncsPerBidder),0===c&&(c=d),c=d&&(0===c||c)?d>c?c:d:1;for(var l=0;l<c;l++)s.push({type:"image",url:(r=c,i=l,n=void 0,o=void 0,n="",o="0",Yn&&Yn.hasOwnProperty("gdprApplies")&&(o=Yn.gdprApplies?"1":"0"),Yn&&Yn.hasOwnProperty("consentString")&&(n=Yn.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid&site_id="+Xn.toString()+"&p="+r.toString()+"&i="+i.toString()+"&gdpr="+o+"&gdpr_consent="+n+"&us_privacy="+(Qn||""))})}return s}};(0,ft.dX)(Ia),(0,i.z)("ixBidAdapter");var Sa={code:"justpremium",gvlid:62,time:6e4,isBidRequestValid:e=>!!(e&&e.params&&e.params.zone),buildRequests:(e,t)=>{var r,i,n=(r={},i={},e.forEach((e=>{var t=e.params,n=t.zone;if(1!==r[n]){var a=t.allow||t.formats||[],o=t.exclude||[];if(0===a.length&&0===o.length)return r[t.zone]=1;r[n]=r[n]||[[],{}],r[n][0]=function(e){for(var t=e.concat(),r=0;r<t.length;++r)for(var i=r+1;i<t.length;++i)t[r]===t[i]&&t.splice(i--,1);return t}(r[n][0].concat(a)),o.forEach((e=>{r[n][1][e]?r[n][1][e]++:r[n][1][e]=1})),i[n]=i[n]||0,o.length&&i[n]++}})),Object.keys(i).forEach((e=>{if(1!==r[e]){var t=[];Object.keys(r[e][1]).forEach((n=>{r[e][1][n]===i[e]&&t.push(n)})),r[e][1]=t}})),Object.keys(r).forEach((e=>{1!==r[e]&&r[e][1].length&&(r[e][0].forEach((t=>{var i=r[e][1].indexOf(t);i>-1&&r[e][1].splice(i,1)})),r[e][0].length=0),1===r[e]||r[e][0].length||r[e][1].length||(r[e]=1)})),r),o=function(){var e;try{e=window.top}catch(t){e=window}return{screenWidth:e.screen.width,screenHeight:e.screen.height,innerWidth:e.innerWidth,innerHeight:e.innerHeight}}(),s=function(){if(!window.top)return null;var e,t=new URLSearchParams(window.top.location.search);return(e=>0===Object.keys(e).length?null:e)((e={ggAdbuyid:t.get("gg_adbuyid"),ggDealid:t.get("gg_dealid"),ggEadbuyid:t.get("gg_eadbuyid")},Object.fromEntries(Object.entries(e).filter((e=>{var[t,r]=e;return null!=r})))))}(),d={zone:e.map((e=>parseInt(e.params.zone))).filter(((e,t,r)=>r.indexOf(e)===t)),referer:t.refererInfo.page,sw:o.screenWidth,sh:o.screenHeight,ww:o.innerWidth,wh:o.innerHeight,c:n,id:e[0].params.zone,sizes:{},ggExt:s};e.forEach((e=>{var t=e.params.zone,r=d.sizes;r[t]=r[t]||[],r[t].push.apply(r[t],e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes)})),(0,a.Z)(e[0],"userId.pubcid")?d.pubcid=(0,a.Z)(e[0],"userId.pubcid"):(0,a.Z)(e[0],"crumbs.pubcid")&&(d.pubcid=(0,a.Z)(e[0],"crumbs.pubcid")),d.uids=e[0].userId,t&&t.gdprConsent&&(d.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(d.us_privacy=t.uspConsent),d.version={prebid:"7.45.0",jp_adapter:"1.8.3"},e[0].schain&&(d.schain=e[0].schain);var c=JSON.stringify(d);return{method:"POST",url:"https://pre.ads.justpremium.com/v/2.0/t/xhr?i="+ +new Date,data:c,bids:e}},interpretResponse:(e,t)=>{var r=e.body,i=[];return t.bids.forEach((e=>{var t=function(e,t){var r=e.zone;if(t[r])for(var i=t[r].length;i--;)if(Ea(e,t[r][i]))return t[r].splice(i,1).pop();return!1}(e.params,r.bid);if(t){var n=e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&e.mediaTypes.banner.sizes.length&&e.mediaTypes.banner.sizes[0]||[],a={requestId:e.bidId,creativeId:t.id,width:n[0]||t.width,height:n[1]||t.height,ad:t.adm,cpm:t.price,netRevenue:!0,currency:t.currency||"USD",ttl:t.ttl||Sa.time,format:t.format,meta:{advertiserDomains:t.adomain&&t.adomain.length>0?t.adomain:[]}};t.ext&&t.ext.pg&&(a.adserverTargeting={hb_deal_justpremium:"jp_pg"}),i.push(a)}})),i},getUserSyncs:(e,t,r,i)=>{var n="https://pre.ads.justpremium.com/v/1.0/t/sync?_c=a"+Math.random().toString(36).substring(7)+Date.now(),a=[];if(r&&"boolean"==typeof r.gdprApplies&&r.gdprApplies&&r.consentString&&(n=n+"&consentString="+encodeURIComponent(r.consentString)),i&&(n=n+"&usPrivacy="+encodeURIComponent(i)),e.iframeEnabled&&a.push({type:"iframe",url:n}),e.pixelEnabled&&0!==t.length){var o=t.map((e=>{var t;return null==e||null===(t=e.body)||void 0===t?void 0:t.pxs})).reduce(((e,t)=>e.concat(t)),[]).filter((e=>void 0!==e));a=[...a,...o]}return a}};function Ea(e,t){var r=t.format;return e.allow&&e.allow.length?e.allow.indexOf(r)>-1:!e.exclude||!e.exclude.length||e.exclude.indexOf(r)<0}function Aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(r),!0).forEach((function(t){(0,gt.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(0,ft.dX)(Sa),(0,i.z)("justpremiumBidAdapter");var ka="PubMatic: ",Ta="USD",Ca=void 0,Pa="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),xa={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},Ra="number",Da="array",ja={mimes:Da,minduration:Ra,maxduration:Ra,startdelay:Ra,playbackmethod:Da,api:Da,protocols:Da,w:Ra,h:Ra,battr:Da,linearity:Ra,placement:Ra,minbitrate:Ra,maxbitrate:Ra,skip:Ra},Na={1:"PMP",5:"PREF",6:"PMPG"},Ua={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var r,i=Ua.getRendererId("pubmatic",e.rendererCode),a=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===i){r=window.bluebillywig.renderers[o];break}r?r.bootstrap(t,a):(0,n.yN)("".concat(ka,": Couldn't find a renderer with ").concat(i))}else(0,n.yN)("".concat(ka,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var r=Pa.replace("$RENDERER",e),i=p.Th.install({url:r,loaded:!1,adUnitCode:t});try{i.setRender(Ua.outstreamRender)}catch(e){(0,n.yN)("".concat(ka,": Error tying to setRender on renderer"),e)}return i},outstreamRender:function(e){e.renderer.push((function(){Ua.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},Ba=[A.Mk,A.pX,A.B5],Ma=0,qa=!1,za=["pubmatic"],La=["all"];function Va(e,t){if(!(0,n.d8)(t))return t&&(0,n.yN)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+typeof t),Ca;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((e=>e.trim())).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||Ca;case"yob":return parseInt(t)||Ca;default:return t}}function Fa(e,t,r){var i,a="Ignoring param key: "+e+", expects "+r+", found "+typeof t;switch(r){case"boolean":i=n.jn;break;case Ra:i=n.hj;break;case"string":i=n.d8;break;case Da:i=n.kJ}return i(t)?t:((0,n.yN)(ka+a),Ca)}var Ha={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},{NATIVE_IMAGE_TYPES:Za,NATIVE_KEYS_THAT_ARE_NOT_ASSETS:Ga,NATIVE_KEYS:Ka,NATIVE_ASSET_TYPES:Wa}=c,Ja=Object.values(Ha);function Xa(e){var t;if(e.ortb){e=e.ortb,t=Oa(Oa({ver:"1.2"},e),{},{assets:[]});var{assets:r}=e,i=e=>e.title||e.img||e.data||e.video;if(r.length<1||!r.some((e=>i(e))))return(0,n.yN)("".concat(ka,": Native assets object is empty or contains some invalid object")),qa=!0,t;r.forEach((e=>{var r=e;r.img&&(3==r.img.type?(r.w=r.w||r.width||(r.sizes?r.sizes[0]:Ca),r.h=r.h||r.height||(r.sizes?r.sizes[1]:Ca),r.wmin=r.wmin||r.minimumWidth||(r.minsizes?r.minsizes[0]:Ca),r.hmin=r.hmin||r.minimumHeight||(r.minsizes?r.minsizes[1]:Ca)):1==r.img.type&&(r.w=r.w||r.width||(r.sizes?r.sizes[0]:Ca),r.h=r.h||r.height||(r.sizes?r.sizes[1]:Ca))),r&&void 0!==r.id&&i(r)&&t.assets.push(r)}))}else t=function(e){if(!e&&!(0,n.PO)(e))return(0,n.yN)("".concat(ka,": Native assets object is empty or not an object: ").concat(e)),void(qa=!0);var t={ver:"1.2",assets:[]};for(var r in e)if(!Ga.includes(r))if(Ka.hasOwnProperty(r)||Ja.includes(r)){var i=e[r],a=0;i.required&&(0,n.jn)(i.required)&&(a=Number(i.required));var o={id:t.assets.length,required:a};if(r in Ha)o.data={type:Wa[Ha[r]]},(i.len||i.length)&&(o.data.len=i.len||i.length),i.ext&&(o.data.ext=i.ext);else if("icon"===r||"image"===r){if(o.img={type:"icon"===r?Za.ICON:Za.MAIN},i.aspect_ratios)if((0,n.kJ)(i.aspect_ratios))if(i.aspect_ratios.length){var{min_width:s,min_height:d}=i.aspect_ratios[0];(0,n.U)(s)&&(0,n.U)(d)?(o.img.wmin=s,o.img.hmin=d):(0,n.yN)("".concat(ka,": image.aspect_ratios min_width or min_height are invalid: ").concat(s,", ").concat(d));var c=i.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>"".concat(e.ratio_width,":").concat(e.ratio_height)));c.length>0&&(o.img.ext={aspectratios:c})}else(0,n.yN)("".concat(ka,": image.aspect_ratios was passed, but it's empty: ").concat(i.aspect_ratios));else(0,n.yN)("".concat(ka,": image.aspect_ratios was passed, but it's not a an array: ").concat(i.aspect_ratios));o.img.w=i.w||i.width,o.img.h=i.h||i.height,o.img.wmin=i.wmin||i.minimumWidth||(i.minsizes?i.minsizes[0]:Ca),o.img.hmin=i.hmin||i.minimumHeight||(i.minsizes?i.minsizes[1]:Ca),i.sizes&&(2===i.sizes.length&&(0,n.U)(i.sizes[0])&&(0,n.U)(i.sizes[1])?((0,n.PN)("".concat(ka,": if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin")),o.img.w=i.sizes[0],o.img.h=i.sizes[1],delete o.img.hmin,delete o.img.wmin):(0,n.yN)("".concat(ka,": image.sizes was passed, but its value is not an array of integers: ").concat(i.sizes))),i.ext&&(o.img.ext=i.ext),i.mimes&&(o.img.mimes=i.mimes)}else"title"===r?(o.title={len:i.len||i.length||140},i.ext&&(o.title.ext=i.ext)):"ext"===r&&(o.ext=i,delete o.required);t.assets.push(o)}else(0,n.yN)("".concat(ka,": Unrecognized native asset code: ").concat(r,". Asset will be ignored."));return t.assets.length<1?((0,n.yN)("".concat(ka,": Could not find any valid asset")),void(qa=!0)):t}(e);return t}function Ya(e){var t,r=e.mediaTypes.banner.sizes,i=[];if(r!==Ca&&(0,n.kJ)(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=Ca,(0,n.yN)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}r.length>0&&(i=[],r.forEach((function(e){e.length>1&&i.push({w:e[0],h:e[1]})})),i.length>0&&(t.format=i)),t.pos=0,t.topframe=(0,n.yL)()?0:1}else(0,n.yN)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=Ca;return t}function Qa(e){var t,r=(0,n.Ee)((0,a.Z)(e.mediaTypes,"video"),e.params.video);if(r!==Ca){for(var i in t={},function(e,t){(0,a.Z)(e,"placement")||(0,n.yN)("Video.Placement param missing for "+t)}(r,e.adUnitCode),ja)r.hasOwnProperty(i)&&(t[i]=Fa(i,r[i],ja[i]));(0,n.kJ)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,n.hj)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=Ca,(0,n.yN)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function $a(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,n.yN)("PubMatic: acat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter(((e,t,r)=>r.indexOf(e)===t))).length>0&&((0,n.yN)("PubMatic: acat: Selected: ",t),e.ext.acat=t)}function eo(e){return!0===(0,n.kJ)(e)&&e.length>0}var to={code:"pubmatic",gvlid:76,supportedMediaTypes:[A.Mk,A.pX,A.B5],isBidRequestValid:e=>{if(e&&e.params){if(!(0,n.d8)(e.params.publisherId))return(0,n.yN)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(A.pX)){var t=(0,a.Z)(e.mediaTypes,"video.mimes"),r=(0,a.Z)(e,"params.video.mimes");if(!1===eo(t)&&!1===eo(r))return(0,n.yN)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[A.pX].hasOwnProperty("context"))return(0,n.H)("".concat(ka,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[A.pX].context&&!(0,n.d8)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[A.pX].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(A.Mk)||e.mediaTypes.hasOwnProperty(A.B5)?(delete e.mediaTypes[A.pX],(0,n.yN)("".concat(ka,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):((0,n.H)("".concat(ka,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:(e,t)=>{var r,i,s,d,c,l;t&&t.refererInfo&&(l=t.refererInfo);var u,p=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(l),f=function(e){return{id:""+(new Date).getTime(),at:1,cur:[Ta],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(p),m="",v=[],h=[],b=[];if(e.forEach((e=>{if((u=(0,n.I8)(e)).params.adSlot=u.params.adSlot||"",function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,(0,n.d8)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&(0,n.yN)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var r=e.params.adSlot,i=r.split(":");if(r=i[0],2==i.length&&(e.params.adUnitIndex=i[1]),i=r.split("@"),e.params.adUnit=i[0],i.length>1){if(2!=(i=i[1].split("x")).length)return void(0,n.yN)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(i[0],10),e.params.height=parseInt(i[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(A.Mk)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var a=0,o=[];a<e.mediaTypes.banner.sizes.length;a++)2===e.mediaTypes.banner.sizes[a].length&&o.push(e.mediaTypes.banner.sizes[a]);e.mediaTypes.banner.sizes=o,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(u),u.mediaTypes&&u.mediaTypes.hasOwnProperty("video")||u.params.hasOwnProperty("video"));else if(!(u.hasOwnProperty("mediaTypes")&&u.mediaTypes.hasOwnProperty(A.B5)||0!==u.params.width||0!==u.params.height))return void(0,n.yN)("PubMatic: Skipping the non-standard adslot: ",u.params.adSlot,JSON.stringify(u));p.pubId=p.pubId||u.params.publisherId,p=function(e,t){var r,i,a;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),xa)xa.hasOwnProperty(r)&&(i=e[r])&&("object"==typeof(a=xa[r])&&(i=a.f(i,t)),(0,n.d8)(i)?t[r]=i:(0,n.yN)("PubMatic: Ignoring param : "+r+" with value : "+xa[r]+", expects string-value, found "+typeof i));return t}(u.params,p),p.transactionId=u.transactionId,""===m?m=u.params.currency||Ca:u.params.hasOwnProperty("currency")&&m!==u.params.currency&&(0,n.yN)("PubMatic: Currency specifier ignored. Only one currency permitted."),u.params.currency=m,u.params.hasOwnProperty("dctr")&&(0,n.d8)(u.params.dctr)&&v.push(u.params.dctr),u.params.hasOwnProperty("bcat")&&(0,n.kJ)(u.params.bcat)&&(h=h.concat(u.params.bcat)),u.params.hasOwnProperty("acat")&&(0,n.kJ)(u.params.acat)&&(b=b.concat(u.params.acat));var t=function(e){var t,r,i={},s={},d=e.hasOwnProperty("sizes")?e.sizes:[],c="",l=[];if(function(e,t){t.params.deals&&((0,n.kJ)(t.params.deals)?t.params.deals.forEach((function(t){(0,n.d8)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):(0,n.yN)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):(0,n.yN)("PubMatic: Error: bid.params.deals should be an array of strings."))}(i={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Va("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Va("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Va("currency",e.params.currency):Ta},e),function(e,t){var r,i="";if(t.params.dctr)if(i=t.params.dctr,(0,n.d8)(i)&&i.length>0){var a=i.split("|");i="",a.forEach((e=>{i+=e.length>0?e.trim()+"|":""})),r=i.length,"|"===i.substring(r,r-1)&&(i=i.substring(0,r-1)),e.ext.key_val=i.trim()}else(0,n.yN)("PubMatic: Ignoring param : dctr with value : "+i+", expects string-value, found empty or non-string value")}(i,e),function(e,t){var r=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,i="";if(void 0!==r&&""!==r&&r.hasOwnProperty("segments")){var n,a=r.segments.length;i+="jw-id="+r.content.id;for(var o=0;o<a;o++)i+="|jw-"+r.segments[o]+"=1";(n=e.ext)&&void 0===n.key_val?n.key_val=i:n.key_val+="|"+i}}(i,e),e.hasOwnProperty("mediaTypes"))for(c in e.mediaTypes)switch(c){case A.Mk:(t=Ya(e))!==Ca&&(i.banner=t);break;case A.B5:s.request=JSON.stringify(Xa(e.nativeParams)),qa?((0,n.yN)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),qa=!1):i.native=s;break;case A.pX:(r=Qa(e))!==Ca&&(i.video=r)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:(0,n.yL)()?0:1},(0,n.kJ)(d)&&d.length>1&&((d=d.splice(1,d.length-1)).forEach((e=>{l.push({w:e[0],h:e[1]})})),t.format=l),i.banner=t;return function(e,t){var r=Oa({},(0,a.Z)(t,"ortb2Imp.ext.data"));Object.keys(r).forEach((t=>{"pbadslot"===t?"string"==typeof r[t]&&r[t]&&o(e,"ext.data.pbadslot",r[t]):"adserver"===t?["name","adslot"].forEach((t=>{var i=(0,a.Z)(r,"adserver.".concat(t));"string"==typeof i&&i&&(o(e,"ext.data.adserver.".concat(t.toLowerCase()),i),"adslot"===t&&o(e,"ext.dfp_ad_unit_code",i))})):o(e,"ext.data.".concat(t),r[t])}))}(i,e),function(e,t){var r=-1;"function"!=typeof t.getFloor||g.vc.getConfig("pubmatic.disableFloors")||[A.Mk,A.pX,A.B5].forEach((i=>{if(e.hasOwnProperty(i)){var a=[];"banner"===i&&(e[i].w&&e[i].h&&a.push([e[i].w,e[i].h]),(0,n.kJ)(e[i].format)&&e[i].format.forEach((e=>a.push([e.w,e.h])))),0===a.length&&a.push("*"),a.forEach((a=>{var o=t.getFloor({currency:e.bidfloorcur,mediaType:i,size:a});if((0,n.PN)(ka,"floor from floor module returned for mediatype:",i," and size:",a," is: currency",o.currency,"floor",o.floor),"object"==typeof o&&o.currency===e.bidfloorcur&&!isNaN(parseInt(o.floor))){var s=parseFloat(o.floor);(0,n.PN)(ka,"floor from floor module:",s,"previous floor value",r,"Min:",Math.min(s,r)),r=-1===r?s:Math.min(s,r),(0,n.PN)(ka,"new floor value:",r)}}))}})),e.bidfloor&&((0,n.PN)(ka,"floor from floor module:",r,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(r,e.bidfloor)),r=Math.max(r,e.bidfloor)),e.bidfloor=!isNaN(r)&&r>0?r:Ca,(0,n.PN)(ka,"new impObj.bidfloor value:",e.bidfloor)}(i,e),i.hasOwnProperty(A.Mk)||i.hasOwnProperty(A.B5)||i.hasOwnProperty(A.pX)?i:Ca}(u);t&&f.imp.push(t)})),0!=f.imp.length){f.site.publisher.id=p.pubId.trim(),Ma=p.pubId.trim(),f.ext.wrapper={},f.ext.wrapper.profile=parseInt(p.profId)||Ca,f.ext.wrapper.version=parseInt(p.verId)||Ca,f.ext.wrapper.wiid=p.wiid||t.auctionId,f.ext.wrapper.wv="prebid_prebid_7.45.0",f.ext.wrapper.transactionId=p.transactionId,f.ext.wrapper.wp="pbjs";var y,_,w=t?k.S.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==w){if(f.ext.marketplace={},t&&1==w){var I=k.S.get(t.bidderCode,"allowedAlternateBidderCodes");(0,n.kJ)(I)?(I=I.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(n.tT),za=I.includes("*")?La:[...za,...I]):za=La}f.ext.marketplace.allowedbidders=za.filter(n.tT)}f.user.gender=p.gender?p.gender.trim():Ca,f.user.geo={},f.user.geo.lat=Va("lat",p.lat),f.user.geo.lon=Va("lon",p.lon),f.user.yob=Va("yob",p.yob),f.device.geo=f.user.geo,f.site.page=p.kadpageurl.trim()||f.site.page.trim(),f.site.domain=(y=f.site.page,(_=document.createElement("a")).href=y,_.hostname),"object"==typeof g.vc.getConfig("content")&&(f.site.content=g.vc.getConfig("content")),"object"==typeof g.vc.getConfig("device")&&(f.device=Object.assign(f.device,g.vc.getConfig("device"))),f.device.language=f.device.language&&f.device.language.split("-")[0],o(f,"source.tid",p.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(f.test=1),e[0].schain&&o(f,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(o(f,"user.ext.consent",t.gdprConsent.consentString),o(f,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&o(f,"regs.ext.us_privacy",t.uspConsent),!0===g.vc.getConfig("coppa")&&o(f,"regs.coppa",1),function(e,t){var r=(0,a.Z)(t,"0.userIdAsEids");(0,n.kJ)(r)&&r.length>0&&o(e,"user.eids",r)}(f,e);var S,E,O,T,C=t&&t.ortb2||{};if(C.site){var{page:P,domain:x,ref:R}=f.site;(0,n.Ee)(f,{site:C.site}),f.site.page=P,f.site.domain=x,f.site.ref=R}if(C.user&&(0,n.Ee)(f,{user:C.user}),C.bcat&&(h=h.concat(C.bcat)),null!==(r=C.device)&&void 0!==r&&r.sua&&(f.device.sua=null===(S=C.device)||void 0===S?void 0:S.sua),null!==(i=C.ext)&&void 0!==i&&null!==(s=i.prebid)&&void 0!==s&&null!==(d=s.bidderparams)&&void 0!==d&&null!==(c=d[t.bidderCode])&&void 0!==c&&c.acat){var D=C.ext.prebid.bidderparams[t.bidderCode].acat;$a(f,D)}else b.length&&$a(f,b);return function(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,n.yN)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter((function(e,t,r){if(e.length>3)return r.indexOf(e)===t;(0,n.yN)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&((0,n.yN)("PubMatic: bcat: Selected: ",t),e.bcat=t)}(f,h),null!=t&&t.timeout?f.tmax=t.timeout:f.tmax=null===(E=window)||void 0===E||null===(O=E.PWT)||void 0===O||null===(T=O.versionDetails)||void 0===T?void 0:T.timeout,f.ext.epoch=(new Date).getTime(),"object"==typeof g.vc.getConfig("app")&&(f.app=g.vc.getConfig("app"),f.app.publisher=f.site.publisher,f.app.ext=f.site.ext||Ca,"object"!=typeof f.app.content&&(f.app.content=f.site.content||Ca),delete f.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(f),bidderRequest:t}}},interpretResponse:(e,t)=>{var r=[],i=Ta,o=JSON.parse(t.data),s=o.site&&o.site.ref?o.site.ref:"";try{e.body&&e.body.seatbid&&(0,n.kJ)(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach((e=>{e.bid&&(0,n.kJ)(e.bid)&&e.bid.forEach((d=>{var c={requestId:d.impid,cpm:parseFloat((d.price||0).toFixed(2)),width:d.w,height:d.h,creativeId:d.crid||d.id,dealId:d.dealid,currency:i,netRevenue:!0,ttl:300,referrer:s,ad:d.adm,pm_seat:e.seat||null,pm_dspid:d.ext&&d.ext.dspid?d.ext.dspid:null,partnerImpId:d.id||""};o.imp&&o.imp.length>0&&o.imp.forEach((e=>{if(d.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=Ba[e.ext.bidtype];else{(0,n.PN)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var r=e.adm,i="",a=new RegExp(/VAST\s+version/);if(r.indexOf('span class="PubAPIAd"')>=0)t.mediaType=A.Mk;else if(a.test(r))t.mediaType=A.pX;else try{(i=JSON.parse(r.replace(/\\/g,"")))&&i.native&&(t.mediaType=A.B5)}catch(e){(0,n.yN)("PubMatic: Error: Cannot parse native reponse for ad response: "+r)}}}(d,c),c.mediaType){case A.Mk:break;case A.pX:c.width=d.hasOwnProperty("w")?d.w:e.video.w,c.height=d.hasOwnProperty("h")?d.h:e.video.h,c.vastXml=d.adm,function(e,t){var r,i,n;if(t.bidderRequest&&t.bidderRequest.bids){for(var a=0;a<t.bidderRequest.bids.length;a++)t.bidderRequest.bids[a].bidId===e.requestId&&(r=t.bidderRequest.bids[a].params,i=t.bidderRequest.bids[a].mediaTypes[A.pX].context,n=t.bidderRequest.bids[a].adUnitCode);i&&"outstream"===i&&r&&r.outstreamAU&&n&&(e.rendererCode=r.outstreamAU,e.renderer=Ua.newRenderer(e.rendererCode,n))}}(c,t),function(e,t,r){var i,o,s;if(null!=t&&null!==(i=t.ext)&&void 0!==i&&i.prebiddealpriority){var d=(0,n.zE)(e.requestId,[r.bidderRequest]),c=(0,a.Z)(d,"mediaTypes.video");if((null==c?void 0:c.context)==A.Oh){var l=(null==t||null===(o=t.ext)||void 0===o||null===(s=o.video)||void 0===s?void 0:s.duration)||(null==c?void 0:c.maxduration);e.video={context:A.Oh,durationSeconds:l,dealTier:t.ext.prebiddealpriority}}}}(c,d,t);break;case A.B5:!function(e,t){if(e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,n.yN)("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}t.native={ortb:Oa({},r.native)},t.mediaType=A.B5,t.width||(t.width=0),t.height||(t.height=0)}}(d,c)}})),d.ext&&d.ext.deal_channel&&(c.dealChannel=Na[d.ext.deal_channel]||null),function(e,t,r){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);var i=r||t.ext&&t.ext.advid;i&&(e.meta.advertiserId=i,e.meta.agencyId=i,e.meta.buyerId=i),t.adomain&&eo(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&eo(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0])}(c,d,e.seat),e.ext&&e.ext.buyid&&(c.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),d.ext&&d.ext.marketplace&&(c.bidderCode=d.ext.marketplace),r.push(c)}))})))}catch(e){(0,n.H)(e)}return r},getUserSyncs:(e,t,r,i)=>{var n=""+Ma;return r&&(n+="&gdpr="+(r.gdprApplies?1:0),n+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),i&&(n+="&us_privacy="+encodeURIComponent(i)),!0===g.vc.getConfig("coppa")&&(n+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+n}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+n}]},transformBidParams:function(e,t,r,i){return(0,n.uh)({publisherId:"string",adSlot:"string"},e)}};(0,ft.dX)(to),(0,i.z)("pubmaticBidAdapter");var ro=(0,W.df)({bidderCode:"orbidder"}),io={code:"orbidder",gvlid:559,hostname:"https://orbidder.otto.de",supportedMediaTypes:[A.Mk,A.B5],getHostname(){var e=this.hostname;try{e=ro.getDataFromLocalStorage("ov_orbidder_host")||e}catch(e){}return e},isBidRequestValid:e=>!(!(e.sizes&&e.bidId&&e.params&&e.params.accountId&&"string"==typeof e.params.accountId&&e.params.placementId&&"string"==typeof e.params.placementId)||void 0!==e.params.profile&&"object"!=typeof e.params.profile),buildRequests(e,t){e=(0,d.lY)(e);var r=this.getHostname();return e.map((e=>{var a="";t&&t.refererInfo&&(a=t.refererInfo.page||""),e.params.bidfloor=function(e){if(!(0,n.LQ)(e.getFloor))return e.params.bidfloor;var t=e.getFloor({currency:"EUR",mediaType:"*",size:"*"});return(0,n.PO)(t)&&!isNaN(t.floor)&&"EUR"===t.currency?t.floor:void 0}(e);var o={url:"".concat(r,"/bid"),method:"POST",options:{withCredentials:!0},data:{v:(0,i.R)().version,pageUrl:a,bidId:e.bidId,auctionId:e.auctionId,transactionId:e.transactionId,adUnitCode:e.adUnitCode,bidRequestCount:e.bidRequestCount,params:e.params,sizes:e.sizes,mediaTypes:e.mediaTypes}};return t&&t.gdprConsent&&(o.data.gdprConsent={consentString:t.gdprConsent.consentString,consentRequired:"boolean"==typeof t.gdprConsent.gdprApplies&&t.gdprConsent.gdprApplies}),o}))},interpretResponse(e){var t=[];return(e=e.body)&&e.length>0&&e.forEach((e=>{(function(e){var t=["requestId","cpm","ttl","creativeId","netRevenue","currency"];switch(e.mediaType){case A.Mk:t=t.concat(["width","height","ad"]);break;case A.B5:if(!e.native.hasOwnProperty("impressionTrackers"))return!1;break;default:return!1}for(var r of t)if(!e.hasOwnProperty(r))return!1;return!0})(e)&&(Array.isArray(e.advertiserDomains)&&(e.meta={advertiserDomains:e.advertiserDomains}),t.push(e))})),t}};(0,ft.dX)(io),(0,i.z)("orbidderBidAdapter");var no={code:"smartx",gvlid:115,supportedMediaTypes:[A.pX],isBidRequestValid:function(e){if(e&&"object"!=typeof e.params)return(0,n.H)("smartx: params is not defined or is incorrect in the bidder settings."),!1;if(!(0,a.Z)(e,"mediaTypes.video"))return(0,n.H)("smartx: mediaTypes.video is not present in the bidder settings."),!1;var t=(0,a.Z)(e,"mediaTypes.video.playerSize");if(!t||!(0,n.kJ)(t))return(0,n.H)("smartx: mediaTypes.video.playerSize is not defined in the bidder settings."),!1;if(!(0,n.An)("tagId",e.params))return(0,n.H)("smartx: tagId is not present in bidder params"),!1;if(!(0,n.An)("publisherId",e.params))return(0,n.H)("smartx: publisherId is not present in bidder params"),!1;if(!(0,n.An)("siteId",e.params))return(0,n.H)("smartx: siteId is not present in bidder params"),!1;if("outstream"===(0,a.Z)(e,"mediaTypes.video.context")){if(!(0,n.An)("outstream_options",e.params))return(0,n.H)("smartx: outstream_options parameter is not defined"),!1;if(!(0,n.An)("slot",e.params.outstream_options))return(0,n.H)("smartx: slot parameter is not defined in outstream_options object in the configuration"),!1}return!0},buildRequests:function(e,t){var r=t.refererInfo.page||t.refererInfo.topmostLocation,i=!!r.match(/^https:/),o=e.map((function(e){var o=(0,n.An)("tagId",e.params),s=(0,n.An)("publisherId",e.params),d=function(e){var t=(0,n.An)("bidfloor",e.params),r=(0,n.An)("bidfloorcur",e.params)||"EUR";if(!t&&(0,n.LQ)(e.getFloor)){var i=e.getFloor({currency:r,mediaType:"*",size:"*"});(0,n.PO)(i)&&!isNaN(i.floor)&&i.currency===r&&(t=i.floor)}return t}(e)||0,c=(0,n.An)("bidfloorcur",e.params)||"EUR",l=(0,n.An)("siteId",e.params),u=(0,n.An)("sitekey",e.params),p=(0,n.An)("domain",e.params),g=(0,n.An)("cat",e.params)||[""],f=null,m=(0,a.Z)(e,"mediaTypes.video.playerSize"),v=m[0][0],h=m[0][1],b=+(i||((0,n.An)("secure",e.params)?1:0)),y=(0,n.An)("mimes",e.params)||["application/javascript","video/mp4","video/webm"],_=(0,n.An)("linearity",e.params)||1,w=(0,n.An)("minduration",e.params)||0,I=(0,n.An)("maxduration",e.params)||500,S=(0,n.An)("startdelay",e.params)||0,E=(0,n.An)("minbitrate",e.params)||0,A=(0,n.An)("maxbitrate",e.params)||3500,O=(0,n.An)("delivery",e.params)||[2],k=(0,n.An)("pos",e.params)||1,T=(0,n.An)("api",e.params)||[2],C=(0,n.An)("protocols",e.params)||[2,3,5,6],P=1;"outstream"===(0,a.Z)(e,"mediaTypes.video.context")&&(P=3);var x=[{id:e.bidId,secure:b,bidfloor:d,bidfloorcur:c,video:{w:v,h,mimes:y,linearity:_,minduration:w,maxduration:I,startdelay:S,protocols:C,minbitrate:E,maxbitrate:A,delivery:O,pos:k,placement:P,api:T,ext:{sdk_name:"Prebid 1+"}},tagid:o,ext:{"smart.bidpricetype":1}}];e.crumbs&&e.crumbs.pubcid&&(f=e.crumbs.pubcid);var R=navigator.language?"language":"userLanguage",D={h:screen.height,w:screen.width,dnt:(0,n.oV)()?1:0,language:navigator[R].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent},j=(0,n.An)("at",e.params)||2,N=(0,n.An)("cur",e.params)||["EUR"],U={id:(0,n.DO)(),imp:x,site:{id:l,page:r,cat:g,domain:p,publisher:{id:s},content:{ext:{prebid:{name:"pbjs",version:"7.45.0"}}}},device:D,at:j,cur:N,ext:{}},B={};if(t&&t.gdprConsent&&(B.consent=t.gdprConsent.consentString,void 0!==t.gdprConsent.gdprApplies&&(U.regs={ext:{gdpr:t.gdprConsent.gdprApplies?1:0}})),u&&(U.site.content.ext.sitekey=u),f&&(B.fpc=f),e&&e.schain&&(U.source={ext:{schain:e.schain}}),(0,n.xb)(B)||(U.user={ext:B}),(0,n.An)("data",e.params.user)){for(var M=[],q=0;q<e.params.user.data.length;q++)if("empty"!==(e.params.user.data[q].name||"empty")){var z=e.params.user.data[q].name,L=e.params.user.data[q].segment[0].value||"empty";M.push({id:z,name:z,segment:{name:z,value:L}})}U.user={ext:B,data:M}}return{method:"POST",url:"https://bid.sxp.smartclip.net/bid/1000",data:U,bidRequest:t,options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"}}}}));return o},interpretResponse:function(e,t){var r=[],i=e.body;return i&&(0,n.kJ)(i.seatbid)&&(0,n.yi)(i.seatbid,(function(e){(0,n.yi)(e.bid,(function(e){var o={};for(var s in t.bidRequest.bids)e.impid==t.bidRequest.bids[s].bidId&&(o=t.bidRequest.bids[s]);(0,n.yi)(o.params.pre_market_bids,(function(t){t.deal_id==e.id&&(e.price=t.price,i.cur=t.currency)}));var d={requestId:o.bidId,currency:i.cur||"USD",cpm:e.price,creativeId:e.crid||"",ttl:360,netRevenue:!0,vastContent:e.adm,vastXml:e.adm,mediaType:A.pX,width:e.w,height:e.h};if(d.meta=d.meta||{},e&&e.adomain&&e.adomain.length>0&&(d.meta.advertiserDomains=e.adomain),"outstream"===(0,a.Z)(o,"mediaTypes.video.context")){var c=(0,a.Z)(o,"mediaTypes.video.playerSize"),l=p.Th.install({id:0,url:"https://dco.smartclip.net/?plc=7777779",config:{adText:"SmartX Outstream Video Ad via Prebid.js",player_width:c[0][0],player_height:c[0][1],content_page_url:(0,a.Z)(t,"data.site.page"),ad_mute:+!!(0,a.Z)(o,"params.ad_mute"),hide_skin:+!!(0,a.Z)(o,"params.hide_skin"),outstream_options:(0,a.Z)(o,"params.outstream_options")}});try{l.setRender(ao),l.setEventHandlers({impression:function(){return(0,n.ji)("SmartX outstream video impression event")},loaded:function(){return(0,n.ji)("SmartX outstream video loaded event")},ended:function(){return(0,n.ji)("SmartX outstream renderer video event")}})}catch(e){(0,n.yN)("Prebid Error calling setRender or setEventHandlers on renderer",e)}d.renderer=l}r.push(d)}))})),r}};function ao(e){var t=(0,n.An)("minAdWidth",e.renderer.config.outstream_options)||290,r=(0,n.An)("maxAdWidth",e.renderer.config.outstream_options)||900,i=(0,n.An)("startOpen",e.renderer.config.outstream_options),a=(0,n.An)("endingScreen",e.renderer.config.outstream_options),o=(0,n.An)("title",e.renderer.config.outstream_options),s=(0,n.An)("skipOffset",e.renderer.config.outstream_options),d=(0,n.An)("desiredBitrate",e.renderer.config.outstream_options),c=(0,n.An)("visibilityThreshold",e.renderer.config.outstream_options),l=(0,n.An)("slot",e.renderer.config.outstream_options)||e.adUnitCode;(0,n.ji)("[SMARTX][renderer] Handle SmartX outstream renderer");var u={minAdWidth:t,maxAdWidth:r,coreSetup:{},layoutSettings:{},onCappedCallback:function(){try{window.sc_smartIntxtNoad()}catch(e){}}};"true"==i?u.startOpen=!0:"false"==i&&(u.startOpen=!1),"true"==a?u.endingScreen=!0:"false"==a&&(u.endingScreen=!1),(o||"string"==typeof e.renderer.config.outstream_options.title&&""==e.renderer.config.outstream_options.title)&&(u.layoutSettings.advertisingLabel=o),s&&(u.coreSetup.skipOffset=s),d&&(u.coreSetup.desiredBitrate=d),c&&(u.visibilityThreshold=c),u.adResponse=e.vastContent;var p='[id="'+l+'"]';try{outstreamplayer.connect(p).setup(u,(function(e){switch(e){case"AdSlotStarted":try{window.sc_smartIntxtStart()}catch(e){}break;case"AdSlotComplete":try{window.sc_smartIntxtEnd()}catch(e){}}}))}catch(e){(0,n.H)("[SMARTX][renderer] Error caught: "+e)}return u}function oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(r),!0).forEach((function(t){(0,gt.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(0,ft.dX)(no),(0,i.z)("smartxBidAdapter");var co="teads",lo=(0,W.df)({bidderCode:co}),uo={code:co,gvlid:132,supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){var t=!1;if(void 0!==e.params){var r=mo((0,n.NA)(e.params,"placementId")),i=mo((0,n.NA)(e.params,"pageId"));t=r&&i}return t||(0,n.H)("Teads placementId and pageId parameters are required. Bid aborted."),t},buildRequests:function(e,t){var r,i=e.map(fo),n=so(so({referrer:po(t),pageReferrer:document.referrer,networkBandwidth:(r=window.navigator,r&&r.connection&&r.connection.downlink>=0?r.connection.downlink.toString():""),timeToFirstByte:go(window),data:i,deviceWidth:screen.width,hb_version:"7.45.0"},function(e){var t={unifiedId2:"uid2.id",liveRampId:"idl_env",lotamePanoramaId:"lotamePanoramaId",id5Id:"id5id.uid",criteoId:"criteoId",yahooConnectId:"connectId",quantcastId:"quantcastId",epsilonPublisherLinkId:"publinkId",publisherFirstPartyViewerId:"pubcid",merkleId:"merkleId.id",kinessoId:"kpuid"},r={};for(var i in t){var n=t[i],o=(0,a.Z)(e,"0.userId.".concat(n));o&&(r[i]=o)}return r}(e)),function(e){var t=(0,a.Z)(e,"0.userId.teadsId");if(t)return{firstPartyCookieTeadsId:t};if(lo.cookiesAreEnabled(null)){var r=lo.getCookie("_tfpvi",null);if(r)return{firstPartyCookieTeadsId:r}}return{}}(e)),o=e[0];o.schain&&(n.schain=o.schain);var s=t.gdprConsent;if(t&&s){var d="boolean"==typeof s.gdprApplies,c="string"==typeof s.consentString,l=d?function(e,t){var r=12;return e?t&&!t.isServiceSpecific&&(r=11):r=0,r}(s.gdprApplies,s.vendorData):22;n.gdpr_iab={consent:c?s.consentString:"",status:l,apiVersion:s.apiVersion}}t&&t.uspConsent&&(n.us_privacy=t.uspConsent);var u=(0,a.Z)(o,"ortb2.device.sua");return u&&(n.userAgentClientHints=u),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(n)}},interpretResponse:function(e,t){var r=[];return(e=e.body).responses&&e.responses.forEach((function(e){var t={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]},ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};e.dealId&&(t.dealId=e.dealId),r.push(t)})),r}};function po(e){var t="";return e&&e.refererInfo&&e.refererInfo.page&&(t=e.refererInfo.page),t}function go(e){var t=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance,r=t&&"function"==typeof t.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(t.getEntriesByType)&&t.getEntriesByType("navigation")[0]&&t.getEntriesByType("navigation")[0].responseStart&&t.getEntriesByType("navigation")[0].requestStart&&t.getEntriesByType("navigation")[0].responseStart>0&&t.getEntriesByType("navigation")[0].requestStart>0&&Math.round(t.getEntriesByType("navigation")[0].responseStart-t.getEntriesByType("navigation")[0].requestStart);if(r)return r.toString();var i=t&&t.timing.responseStart&&t.timing.requestStart&&t.timing.responseStart>0&&t.timing.requestStart>0&&t.timing.responseStart-t.timing.requestStart;return i?i.toString():""}function fo(e){var t={},r=(0,n.NA)(e.params,"placementId"),i=(0,n.NA)(e.params,"pageId"),o=(0,a.Z)(e,"ortb2Imp.ext.gpid");return t.sizes=function(e){return(0,n.sF)(function(e){var t=(0,a.Z)(e,"mediaTypes.video.playerSize"),r=(0,a.Z)(e,"mediaTypes.video.sizes"),i=(0,a.Z)(e,"mediaTypes.banner.sizes");return(0,n.kJ)(i)||(0,n.kJ)(t)||(0,n.kJ)(r)?[i,r,t].reduce((function(e,t){return(0,n.kJ)(t)&&((0,n.kJ)(t[0])?t.forEach((function(t){e.push(t)})):e.push(t)),e}),[]):e.sizes}(e))}(e),t.bidId=(0,n.An)("bidId",e),t.bidderRequestId=(0,n.An)("bidderRequestId",e),t.placementId=parseInt(r,10),t.pageId=parseInt(i,10),t.adUnitCode=(0,n.An)("adUnitCode",e),t.auctionId=(0,n.An)("auctionId",e),t.transactionId=(0,n.An)("transactionId",e),o&&(t.gpid=o),t}function mo(e){return parseInt(e)>0}(0,ft.dX)(uo),(0,i.z)("teadsBidAdapter");var vo=new WeakMap;function ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!vo.has(e)){var r=Object.entries(e);r.sort(((e,t)=>(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1)),vo.set(e,r.map((e=>{var[t,r]=e;return[t,r.fn]})))}var i=vo.get(e).filter((e=>{var[r]=e;return!t.hasOwnProperty(r)||t[r]})).map((function(e){var[r,i]=e;return t.hasOwnProperty(r)?t[r].bind(this,i):i}));return function(){var e=Array.from(arguments);i.forEach((t=>{t.apply(this,e)}))}}function bo(e){return(e=(0,n.sF)(e)).map((e=>{var[t,r]=e.split("x");return{w:parseInt(t,10),h:parseInt(r,10)}}))}var yo=new Set(["pos","placement","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),_o={instream:1},wo={1:A.Mk,2:A.pX,4:A.B5},Io={[Qe]:{fpd:{priority:99,fn(e,t){(0,n.Ee)(e,t.ortb2)}},onlyOneClient:{priority:-99,fn:ae("ORTB request")},props:{fn(e,t){var r;Object.assign(e,{id:e.id||t.auctionId,test:e.test||0});var i=parseInt(t.timeout,10);isNaN(i)||(e.tmax=i),o(e,"source.tid",(null===(r=e.source)||void 0===r?void 0:r.tid)||t.auctionId)}}},[$e]:{fpd:{priority:99,fn(e,t){(0,n.Ee)(e,t.ortb2Imp)}},id:{fn(e,t){e.id=t.bidId}},banner:{fn:function(e,t,r){if(!r.mediaType||r.mediaType===A.Mk){var i=(0,a.Z)(t,"mediaTypes.banner");if(i){var o={topframe:!0===(0,n.yL)()?0:1};i.sizes&&(o.format=bo(i.sizes)),i.hasOwnProperty("pos")&&(o.pos=i.pos),e.banner=(0,n.Ee)(o,e.banner)}}}},pbadslot:{fn(e){var t,r,i,n,a=null===(t=e.ext)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.pbadslot;a&&"string"==typeof a||null===(i=e.ext)||void 0===i||null===(n=i.data)||void 0===n||delete n.pbadslot}}},[et]:{mediaType:{priority:99,fn:function(e,t,r){if(!e.mediaType){var i=r.mediaType;if(!i&&!wo.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=i||wo[t.mtype]}}},banner:{fn:function(){var{createPixel:e=(e=>(0,n.SG)(decodeURIComponent(e)))}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,r){t.mediaType===A.Mk&&(r.adm&&r.nurl?(t.ad=r.adm,t.ad+=e(r.nurl)):r.adm?t.ad=r.adm:r.nurl&&(t.adUrl=r.nurl))}}()},props:{fn(e,t,r){var i;Object.entries({requestId:null===(i=r.bidRequest)||void 0===i?void 0:i.bidId,seatBidId:t.id,cpm:t.price,currency:r.ortbResponse.cur||r.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||r.ttl,netRevenue:r.netRevenue}).filter((e=>{var[t,r]=e;return void 0!==r})).forEach((t=>{var[r,i]=t;return e[r]=i})),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain)}}}};function So(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.shift(),n=t.length>1?So(...t):t[0];return Object.fromEntries(Ye.map((e=>[e,Object.assign({},i[e],n[e])])))}function Eo(){var{context:e={},processors:t=Ao,overrides:r={},imp:i,request:a,bidResponse:o,response:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=new WeakMap;function c(e,i,n,a){var o;return function(){return null==o&&(o=function(){var o=n.bind(this,ho(t()[e]||{},r[e]||{}));return i&&(o=i.bind(this,o)),function(){try{return o.apply(this,arguments)}catch(e){a.call(this,e,...arguments)}}}()),o.apply(this,arguments)}}var l=c($e,i,(function(e,t,r){var i={};return e(i,t,r),i}),(function(e,t,r){(0,n.H)("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:t,context:r})})),u=c(Qe,a,(function(e,t,r,i){var n={imp:t};return e(n,r,i),n}),(function(e,t,r,i){throw(0,n.H)("Error while converting to ORTB request",{error:e,imps:t,bidderRequest:r,context:i}),e})),p=c(et,o,(function(e,t,r){var i={};return e(i,t,r),i}),(function(e,t,r){(0,n.H)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:t,context:r})})),g=c(tt,s,(function(e,t,r,i){var n={bids:t};return e(n,r,i),n}),(function(e,t,r,i){throw(0,n.H)("Error while converting from ORTB response",{error:e,bidResponses:t,ortbResponse:r,context:i}),e}));return{toORTB(t){var{bidderRequest:r,bidRequests:i,context:a={}}=t;i=i||r.bids;var o={req:Object.assign({bidRequests:i},e,a),imp:{}};o.req.impContext=o.imp;var s=i.map((t=>{var i=Object.assign({bidderRequest:r,reqContext:o.req},e,a),s=l(t,i);if(null!=s){if(s.hasOwnProperty("id"))return Object.assign(i,{bidRequest:t,imp:s}),o.imp[s.id]=i,s;(0,n.H)("Converted ORTB imp does not specify an id, ignoring bid request",t,s)}})).filter(Boolean),c=u(s,r,o.req);return o.req.bidderRequest=r,null!=c&&d.set(c,o),c},fromORTB(e){var{request:t,response:r}=e,i=d.get(t);if(null==i)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function a(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(e,{ortbRequest:t},r,e)}var o=Object.fromEntries((t.imp||[]).map((e=>[e.id,e]))),s=(r.seatbid||[]).flatMap((e=>(e.bid||[]).map((t=>{if(o.hasOwnProperty(t.impid)&&i.imp.hasOwnProperty(t.impid))return p(t,a(i.imp[t.impid],{imp:o[t.impid],seatbid:e,ortbResponse:r}));(0,n.H)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",t)})))).filter(Boolean);return g(s,r,a(i.req))}}}Io[$e].native={fn:function(e,t,r){if(!r.mediaType||r.mediaType===A.B5){var i,a=t.nativeOrtbRequest;a&&(null!==(i=(a=Object.assign({},r.nativeRequest,a)).assets)&&void 0!==i&&i.length?e.native=(0,n.Ee)({},{request:JSON.stringify(a),ver:a.ver},e.native):(0,n.yN)("mediaTypes.native is set, but no assets were specified. Native request skipped.",t))}}},Io[et].native={fn:function(e,t){if(e.mediaType===A.B5){var r;if(r="string"==typeof t.adm?JSON.parse(t.adm):t.adm,!(0,n.PO)(r)||!Array.isArray(r.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:r}}}},Io[$e].video={fn:function(e,t,r){if(!r.mediaType||r.mediaType===A.pX){var i=(0,a.Z)(t,"mediaTypes.video");if(!(0,n.xb)(i)){var o=Object.fromEntries(Object.entries(i).filter((e=>{var[t]=e;return yo.has(t)})));if(i.playerSize){var s=bo(i.playerSize);s.length>1&&(0,n.yN)("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(o,s[0])}var d=_o[i.context];null!=d&&(o.placement=d),e.video=(0,n.Ee)(o,e.video)}}}},Io[et].video={fn:function(e,t,r){e.mediaType===A.pX&&((0,a.Z)(r.imp,"video.w")&&(0,a.Z)(r.imp,"video.h")&&([e.playerWidth,e.playerHeight]=[r.imp.video.w,r.imp.video.h]),t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl))}};var Ao=(0,n.HP)((()=>So(Io,ot(rt)))),Oo={[A.Mk]:"banner",[A.B5]:"native",[A.pX]:"video"};function ko(e,t,r){var{adUnit:i,bidderRequests:n,index:a=l.K.index,bidderRegistry:s=J.ZP.bidderRegistry}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=t.params,c=s[t.bidder];c&&c.getSpec().transformBidParams&&(i=i||a.getAdUnit(t),n=n||[r.bidderRequest],d=c.getSpec().transformBidParams(d,!0,i,n)),d&&o(e,"ext.prebid.bidder.".concat(t.bidder),d)}var To={[Qe]:{extPrebid:{fn:function(e,t){var r;o(e,"ext.prebid",(0,n.Ee)({auctiontimestamp:t.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(r=e.ext)||void 0===r?void 0:r.prebid)),g.vc.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){var t,r;o(e,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,i.R)().version},null===(t=e.ext)||void 0===t||null===(r=t.prebid)||void 0===r?void 0:r.channel))}},extPrebidAliases:{fn:function(e,t,r){var{am:i=J.ZP}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(i.aliasRegistry[t.bidderCode]){var n=i.bidderRegistry[t.bidderCode];n&&n.getSpec().skipPbsAliasing||o(e,"ext.prebid.aliases.".concat(t.bidderCode),i.aliasRegistry[t.bidderCode])}}}},[$e]:{params:{fn:ko},adUnitCode:{fn:function(e,t){var r=t.adUnitCode;r&&o(e,"ext.prebid.adunitcode",r)}}},[et]:{mediaType:{fn:function(e,t,r){var i,n,a=r.mediaType;a||(a=wo.hasOwnProperty(t.mtype)?wo[t.mtype]:null===(i=t.ext)||void 0===i||null===(n=i.prebid)||void 0===n?void 0:n.type,Oo.hasOwnProperty(a)||(a=A.Mk)),e.mediaType=a},priority:99},videoCache:{fn:function(e,t){if(e.mediaType===A.pX){var{cacheId:r,url:i}=(0,a.Z)(t,"ext.prebid.cache.vastXml")||{};if(!r||!i){var{hb_uuid:n,hb_cache_host:o,hb_cache_path:s}=(0,a.Z)(t,"ext.prebid.targeting")||{};n&&o&&s&&(r=n,i="https://".concat(o).concat(s,"?uuid=").concat(n))}r&&i&&Object.assign(e,{videoCacheKey:r,vastUrl:i})}},priority:-10},bidderCode:{fn(e,t,r){var i;e.bidderCode=r.seatbid.seat,e.adapterCode=(0,a.Z)(t,"ext.prebid.meta.adaptercode")||(null===(i=r.bidRequest)||void 0===i?void 0:i.bidder)||e.bidderCode}},pbsBidId:{fn(e,t){var r=(0,a.Z)(t,"ext.prebid.bidid");(0,n.d8)(r)&&(e.pbsBidId=r)}},adserverTargeting:{fn(e,t){var r=(0,a.Z)(t,"ext.prebid.targeting");(0,n.PO)(r)&&(e.adserverTargeting=r)}},extPrebidMeta:{fn(e,t){e.meta=(0,n.Ee)({},(0,a.Z)(t,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn(e,t){var r=(0,a.Z)(t,"ext.prebid.events.win");(0,n.d8)(r)&&(e.pbsWurl=r)}}},[tt]:{serverSideStats:{fn(e,t,r){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((e=>{var[i,n]=e,o=(0,a.Z)(t,"ext.".concat(i,".").concat(r.bidderRequest.bidderCode));o&&(r.bidderRequest[n]=o,r.bidRequests.forEach((e=>e[n]=o)))}))}}}},Co=(0,n.HP)((()=>So(Ao(),To,ot(it))));function Po(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(r),!0).forEach((function(t){(0,gt.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Po(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ro={};g.vc.getConfig("rubicon",(e=>{(0,n.Ee)(Ro,e.rubicon)}));var Do={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160"};(0,n.yi)(Do,((e,t)=>Do[e]=t));var jo=Eo({request(e,t,r,a){var s,d,{bidRequests:c}=a,l=e(t,r,a);l.cur=["USD"],l.test=g.vc.getConfig("debug")?1:0,o(l,"ext.prebid.cache",{vastxml:{returnCreative:!0===Ro.returnVast}}),o(l,"ext.prebid.bidders",{rubicon:{integration:Ro.int_type||"pbjs"}}),o(l,"ext.prebid.targeting.pricegranularity",function(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}(g.vc));var u=(0,i.R)().installedModules;return!u||u.length&&-1===u.indexOf("rubiconAnalyticsAdapter")||o(l,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,t){var r,i,a={},s=new Set;t.forEach((t=>{var r,i,o,d,c,l={user:{ext:{data:xo({},t.params.visitor)}},site:{ext:{data:xo({},t.params.inventory)}}},u=e.imp.find((e=>{var t,r,i,n,a;return null===(t=e.ext)||void 0===t||null===(r=t.prebid)||void 0===r||null===(i=r.bidder)||void 0===i||null===(n=i.rubicon)||void 0===n||null===(a=n.video)||void 0===a?void 0:a.language}));u&&(l.site.content={language:null===(r=u.ext)||void 0===r||null===(i=r.prebid)||void 0===i||null===(o=i.bidder)||void 0===o||null===(d=o.rubicon)||void 0===d||null===(c=d.video)||void 0===c?void 0:c.language}),t.params.keywords&&(Array.isArray(t.params.keywords)?t.params.keywords:t.params.keywords.split(",")).forEach((e=>s.add(e))),a=(0,n.Ee)(a,t.ortb2||{},l);var p=g.vc.getConfig("user.id");a.user.id=a.user.id||p})),(0,n.Ee)(e,a),s&&s.size&&o(e,"site.keywords",Array.from(s.values()).join(",")),null==e||null===(r=e.ext)||void 0===r||null===(i=r.prebid)||void 0===i||delete i.storedrequest}(l,c),null==l||null===(s=l.ext)||void 0===s||null===(d=s.prebid)||void 0===d||delete d.storedrequest,!0===Ro.disableFloors&&delete l.ext.prebid.floors,c.filter((e=>"object"==typeof e.floorData)).length>0&&(l.ext.prebid.floors={enabled:!1}),l},imp(e,t,r){var i,n,o=Lo(t);if(!o.includes(A.Mk)||1!=o.length){var s=e(t,r);return s.id=t.adUnitCode,delete s.banner,g.vc.getConfig("s2sConfig.defaultTtl")&&(s.exp=g.vc.getConfig("s2sConfig.defaultTtl")),"atf"===t.params.position&&(s.video.pos=1),"btf"===t.params.position&&(s.video.pos=3),null===(i=s.ext)||void 0===i||null===(n=i.prebid)||void 0===n||delete n.storedrequest,function(e,t){if("USD"!=t.bidfloorcur&&(delete t.bidfloor,delete t.bidfloorcur),!t.bidfloor){var r=parseFloat((0,a.Z)(e,"params.floor"));isNaN(r)||(t.bidfloor=r,t.bidfloorcur="USD")}}(t,s),s}},bidResponse(e,t,r){var i=e(t,r);i.meta.mediaType=(0,a.Z)(t,"ext.prebid.type");var{bidRequest:s}=r;return i.mediaType===A.pX&&"outstream"===s.mediaTypes.video.context&&(i.renderer=function(e){var t=p.Th.install({id:e.adId,url:Ro.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:Ro.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(Bo)}catch(e){(0,n.yN)("Prebid Error calling setRender on renderer",e)}return t}(i)),i.width=t.w||(0,a.Z)(s,"mediaTypes.video.w")||(0,a.Z)(s,"params.video.playerWidth"),i.height=t.h||(0,a.Z)(s,"mediaTypes.video.h")||(0,a.Z)(s,"params.video.playerHeight"),(0,a.Z)(t,"ext.bidder.rp.advid")&&o(i,"meta.advertiserId",t.ext.bidder.rp.advid),i},context:{netRevenue:!1!==Ro.netRevenue,ttl:300},processors:Co}),No={code:"rubicon",gvlid:52,supportedMediaTypes:[A.Mk,A.pX,A.B5],isBidRequestValid:function(e){var t=!0;if("object"!=typeof e.params)return!1;for(var r=0,i=["accountId","siteId","zoneId"];r<i.length;r++)if(e.params[i[r]]=parseInt(e.params[i[r]]),isNaN(e.params[i[r]]))return(0,n.H)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var o=Lo(e,!0);if(!o.length)return!1;o.includes(A.pX)&&(t=function(e){var t=!0,r=Object.prototype.toString.call([]),i={mimes:r,protocols:r,linearity:Object.prototype.toString.call(0),api:r};return Object.keys(i).forEach((function(r){Object.prototype.toString.call((0,a.Z)(e,"mediaTypes.video."+r))!==i[r]&&(t=!1,(0,n.H)("Rubicon: mediaTypes.video."+r+" is required and must be of type: "+i[r]))})),t}(e));var s=[A.Mk,A.B5].filter((e=>o.includes(e))).length>0;return s?t&&s:t},buildRequests:function(e,t){var r,i=[],a=[];if(r=e.filter((e=>{var t=Lo(e)||[],{length:r}=t,{bidonmultiformat:i,video:n}=e.params||{};return 1===r&&(t.includes(A.pX)||t.includes(A.B5))||2===r&&!t.includes(A.Mk)||n&&t.includes(A.pX)||i&&(t.includes(A.pX)||t.includes(A.B5))})),r&&r.length){var o=jo.toORTB({bidRequests:r,bidderRequest:t});a.push({method:"POST",url:"https://".concat(Ro.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:o,bidRequest:r})}var s=e.filter((e=>{var t=Lo(e)||[],{bidonmultiformat:r,video:i}=e.params||{};return t.includes(A.Mk)&&(1===t.length||r||!r&&!i||!r&&i&&!t.includes(A.pX))}));if(!0!==g.vc.getConfig("rubicon.singleRequest"))i=a.concat(s.map((e=>{var r=No.createSlotParams(e,t);return{method:"GET",url:"https://".concat(Ro.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:No.getOrderedParams(r).reduce(((e,t)=>{var i=r[t];return(0,n.d8)(i)&&""!==i||(0,n.hj)(i)?"".concat(e).concat(Fo(t,i),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var d=s.reduce(((e,t)=>((e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e)),{});i=a.concat(Object.keys(d).reduce(((e,r)=>{var i;return(i=d[r],10,i.map(((e,t)=>t%10==0?i.slice(t,t+10):null)).filter((e=>e))).forEach((r=>{var i=No.combineSlotUrlParams(r.map((e=>No.createSlotParams(e,t))));e.push({method:"GET",url:"https://".concat(Ro.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:No.getOrderedParams(i).reduce(((e,t)=>{var r=i[t];return(0,n.d8)(r)&&""!==r||(0,n.hj)(r)?"".concat(e).concat(Fo(t,r),"&"):e}),"")+"slots=".concat(r.length,"&rand=").concat(Math.random()),bidRequest:r})})),e}),[]))}return i},getOrderedParams:function(e){var t=/^tg_v/,r=/^tg_i/,i=/^eid_|^tpid_/,n=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter((e=>i.test(e)))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((e=>t.test(e)))).concat(Object.keys(e).filter((e=>r.test(e)))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return n.concat(Object.keys(e).filter((e=>-1===n.indexOf(e))))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,r,i){return Object.keys(r).forEach((function(n){t.hasOwnProperty(n)||(t[n]=new Array(e.length)),t[n].splice(i,1,r[n])})),t}),{}),r=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var i=t[e].join(";"),n=i.match(r);t[e]=n?n[1]:i})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var r=e.params,i=Mo(e,"banner"),[o,s]=r.latLong||[],d={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,rp_floor:(r.floor=parseFloat(r.floor))>=.01?r.floor:void 0,rp_secure:"1",tk_flint:"".concat(Ro.int_type||"pbjs_lite","_v7.45.0"),"x_source.tid":e.transactionId,"x_imp.ext.tid":e.transactionId,l_pb_bid_id:e.bidId,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"p_geo.longitude":isNaN(parseFloat(s))?void 0:parseFloat(s).toFixed(4),"tg_fl.eid":e.code,rf:Uo(e,t)};if("function"==typeof e.getFloor&&!Ro.disableFloors){var c;try{c=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,n.H)("Rubicon: getFloor threw an error: ",e)}d.rp_hard_floor="object"!=typeof c||"USD"!==c.currency||isNaN(parseInt(c.floor))?void 0:c.floor}var l={1:"atf",3:"btf"}[(0,a.Z)(e,"mediaTypes.banner.pos")]||"";d.p_pos="atf"===r.position||"btf"===r.position?r.position:l;var p=g.vc.getConfig("user.id");return p&&(d.ppuid=p),e.userIdAsEids&&e.userIdAsEids.forEach((e=>{try{if("adserver.org"===e.source?(d.tpid_tdid=e.uids[0].id,d["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(d["tpid_liveintent.com"]=e.uids[0].id,d["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(d["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?d.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?d["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||""):d["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),!d.ppuid){var t=(0,u.sE)(e.uids,(e=>e.ext&&"ppuid"===e.ext.stype));t&&t.id&&(d.ppuid=t.id)}}catch(t){(0,n.yN)("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(d.gdpr=Number(t.gdprConsent.gdprApplies)),d.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(d.us_privacy=encodeURIComponent(t.uspConsent)),d.rp_maxbids=t.bidLimit||1,function(e,t,r){var i={user:{ext:{data:xo({},e.params.visitor)}},site:{ext:{data:xo({},e.params.inventory)}}};e.params.keywords&&(i.site.keywords=(0,n.kJ)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var o=(0,n.Ee)({},e.ortb2||{},i),s=(0,a.Z)(e.ortb2Imp,"ext")||{},d=(0,a.Z)(e.ortb2Imp,"ext.data")||{},c=(0,a.Z)(e,"ortb2Imp.ext.gpid"),l={user:[4],site:[1,2,5,6]},u={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},p=function(e,t,r){return"data"===t&&Array.isArray(e)?e.filter((e=>e.segment&&(0,a.Z)(e,"ext.segtax")&&l[r]&&-1!==l[r].indexOf((0,a.Z)(e,"ext.segtax")))).map((e=>{var t=e.segment.filter((e=>e.id)).reduce(((e,t)=>(e.push(t.id),e)),[]);if(t.length>0)return t.toString()})).toString():"object"==typeof e&&!Array.isArray(e)||void 0===e?void 0:Array.isArray(e)?e.filter((e=>{if("object"!=typeof e&&void 0!==e)return e.toString();(0,n.yN)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()},g=function(e,t,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=p(e,i,t),o=u[i]&&n?"".concat(u[i]):"data"===i?"".concat(u[t],"iab"):"".concat(u[t]).concat(i);r[o]=r[o]?r[o].concat(",",a):a};t===A.Mk?(["site","user"].forEach((e=>{Object.keys(o[e]).forEach((t=>{"site"===e&&"content"===t&&o[e][t].data?g(o[e][t].data,e,"data"):"ext"!==t?g(o[e][t],e,t):o[e][t].data&&Object.keys(o[e].ext.data).forEach((t=>{g(o[e].ext.data[t],e,t,!1)}))}))})),Object.keys(d).forEach((e=>{"adserver"!==e?g(d[e],"site",e):"gam"===d[e].name&&g(d[e].adslot,name,e)})),c&&(r.p_gpid=c),r["tg_i.pbadslot"]&&delete r["tg_i.dfp_ad_unit_code"]):(Object.keys(s).length&&(0,n.Ee)(r.imp[0].ext,s),c&&(r.imp[0].ext.gpid=c),(0,n.Ee)(r,o))}(e,A.Mk,d),!0===g.vc.getConfig("coppa")&&(d.coppa=1),e.schain&&Vo(e.schain)&&(d.rp_schain=No.serializeSupplyChain(e.schain)),d},serializeSupplyChain:function(e){if(!Vo(e))return"";var{ver:t,complete:r,nodes:i}=e;return"".concat(t,",").concat(r,"!").concat(No.serializeSupplyChainNodes(i))},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((e=>t.map((t=>encodeURIComponent(e[t]||""))).join(","))).join("!")},interpretResponse:function(e,t){e=e.body;var{data:r}=t;if(!e||"object"!=typeof e)return[];if(e.seatbid){var i=(0,a.Z)(e,"ext.errors.rubicon");return Array.isArray(i)&&i.length>0&&(0,n.yN)("Rubicon: Error in video response"),jo.fromORTB({request:r,response:e}).bids}var o,s=e.ads,d=0,{bidRequest:c}=t;return"object"==typeof c&&!Array.isArray(c)&&Lo(c).includes(A.pX)&&"object"==typeof s&&(s=s[c.adUnitCode]),!Array.isArray(s)||s.length<1?[]:s.reduce(((t,r,i)=>{if(r.impression_id&&o===r.impression_id?d++:o=r.impression_id,"ok"!==r.status)return t;var a,s,l=Array.isArray(c)?c[i-d]:c;if(l&&"object"==typeof l){var u={requestId:l.bidId,currency:"USD",creativeId:r.creative_id||"".concat(r.network||"","-").concat(r.advertiser||""),cpm:r.cpm||0,dealId:r.deal,ttl:300,netRevenue:!1!==Ro.netRevenue,rubicon:{advertiserId:r.advertiser,networkId:r.network},meta:{advertiserId:r.advertiser,networkId:r.network,mediaType:A.Mk}};r.creative_type&&(u.mediaType=r.creative_type),r.adomain&&(u.meta.advertiserDomains=Array.isArray(r.adomain)?r.adomain:[r.adomain]),r.creative_type===A.pX?(u.width=l.params.video.playerWidth,u.height=l.params.video.playerHeight,u.vastUrl=r.creative_depot_url,u.impression_id=r.impression_id,u.videoCacheKey=r.impression_id):(u.ad=(a=r.script,s=r.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(s,"'>\n<script type='text/javascript'>").concat(a,"<\/script>\n</div>\n</body>\n</html>")),[u.width,u.height]=Do[r.size_id].split("x").map((e=>Number(e)))),u.rubiconTargeting=(Array.isArray(r.targeting)?r.targeting:[]).reduce(((e,t)=>(e[t.key]=t.values[0],e)),{rpfl_elemid:l.adUnitCode}),t.push(u)}else(0,n.H)("Rubicon: bidRequest undefined at index position:".concat(i),c,e);return t}),[]).sort(((e,t)=>(t.cpm||0)-(e.cpm||0)))},getUserSyncs:function(e,t,r,i){if(!Ho&&e.iframeEnabled){var a={};return r&&("boolean"==typeof r.gdprApplies&&(a.gdpr=Number(r.gdprApplies)),"string"==typeof r.consentString&&(a.gdpr_consent=r.consentString)),i&&(a.us_privacy=encodeURIComponent(i)),a=Object.keys(a).length?"?".concat((0,n.Yp)(a)):"",Ho=!0,{type:"iframe",url:"https://".concat(Ro.syncHost||"eus",".rubiconproject.com/usync.html")+a}}},transformBidParams:function(e,t){return(0,n.uh)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function Uo(e,t){var r;return r=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?r.replace(/^http:/i,"https:"):r}function Bo(e){var t,r=document.getElementById(e.adUnitCode);(t=r.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),r=t&&t.nextSibling;r&&"iframe"===r.localName&&r.style.setProperty("display","none")}(r);var i=e.renderer.getConfig();e.renderer.push((()=>{window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:r,align:i.align||"center",position:i.position||"append"},closeButton:i.closeButton||!1,label:i.label||void 0,collapse:i.collapse||!0})}))}function Mo(e,t){var r=e.params;if(t===A.pX){var i=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?i=[r.video.playerWidth,r.video.playerHeight]:Array.isArray((0,a.Z)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?i=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(i=e.sizes[0]),i}var o=[];return Array.isArray(r.sizes)?o=r.sizes:void 0!==(0,a.Z)(e,"mediaTypes.banner.sizes")?o=qo(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?o=qo(e.sizes):(0,n.yN)("Rubicon: no sizes are setup or found"),function(e){var t=[15,2,9];return e.sort(((e,r)=>{var i=t.indexOf(e),n=t.indexOf(r);return i>-1||n>-1?-1===i?1:-1===n?-1:i-n:e-r}))}(o)}function qo(e){return(0,n.sF)(e).reduce(((e,t)=>{var r=parseInt(Do[t],10);return r&&e.push(r),e}),[])}function zo(e){var t=void 0!==(0,a.Z)(e,"mediaTypes.".concat(A.pX)),r=void 0!==(0,a.Z)(e,"mediaTypes.".concat(A.Mk)),i=void 0!==(0,a.Z)(e,"params.bidonmultiformat"),n="object"!=typeof(0,a.Z)(e,"params.video");return!(!t||!i)||(r&&n&&(t=!1),t&&n&&o(e,"params.video",{}),t)}function Lo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[];if(zo(e)){if(-1===["outstream","instream"].indexOf((0,a.Z)(e,"mediaTypes.".concat(A.pX,".context"))))return t&&(0,n.H)("Rubicon: mediaTypes.video.context must be outstream or instream"),r;if(Mo(e,A.pX).length<2)return t&&(0,n.H)("Rubicon: could not determine the playerSize of the video"),r;t&&(0,n.ji)("Rubicon: making video request for adUnit",e.adUnitCode),r.push(A.pX)}if(void 0!==(0,a.Z)(e,"mediaTypes.".concat(A.B5))&&r.push(A.B5),void 0!==(0,a.Z)(e,"mediaTypes.".concat(A.Mk))){if(0===Mo(e,A.Mk).length)return t&&(0,n.H)("Rubicon: could not determine the sizes for banner request"),r;t&&(0,n.ji)("Rubicon: making banner request for adUnit",e.adUnitCode),r.push(A.Mk)}return r}function Vo(e){var t=!1,r=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce(((e,t)=>e?r.every((e=>t.hasOwnProperty(e))):e),!0))||(0,n.H)("Rubicon: required schain params missing"),t):t}function Fo(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var Ho=!1;function Zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(r),!0).forEach((function(t){(0,gt.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(0,ft.dX)(No),(0,i.z)("rubiconBidAdapter");var Ko="visx",Wo="/push_sync",Jo={noAuid:"Bid from response has no auid parameter - ",noAdm:"Bid from response has no adm parameter - ",noBid:"Array of bid objects is empty",noImpId:"Bid from response has no impid parameter - ",noPlacementCode:"Can't find in requested bids the bid with auid - ",emptyUids:"Uids should not be empty",emptySeatbid:"Seatbid array from response has an empty item",emptyResponse:"Response is empty",hasEmptySeatbidArray:"Response has empty seatbid array",hasNoArrayOfBids:"Seatbid from response has no array of bid objects - ",notAllowedCurrency:"Currency is not supported - ",currencyMismatch:"Currency from the request is not match currency from the response - ",onlyVideoInstream:"Only video ".concat(ti.LD," supported"),videoMissing:"Bid request videoType property is missing - "},Xo=["EUR","USD","GBP","PLN"],Yo={code:Ko,gvlid:154,supportedMediaTypes:[A.Mk,A.pX],isBidRequestValid:function(e){return!($o(e)&&!ts(e,!0)&&!function(e){return e.mediaType===A.Mk||(0,a.Z)(e,"mediaTypes.banner")}(e)||!e.params.uid||isNaN(parseInt(e.params.uid)))},buildRequests:function(e,t){var r,i,o,s,d,c=[],l={},u=e||[],p=g.vc.getConfig("currency.bidderCurrencyDefault.".concat(Ko))||g.vc.getConfig("currency.adServerCurrency")||"EUR";if(-1!==Xo.indexOf(p)){var f=[];u.forEach((e=>{r=e.bidderRequestId;var t=function(e){var{params:{uid:t},bidId:r,mediaTypes:i,sizes:o,adUnitCode:s}=e,d=i&&$o(e)&&ts(e)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).filter((e=>"context"!==e&&"playerSize"!==e)).reduce(((t,r)=>(t[r]=e[r],t)),{w:(0,a.Z)(e,"playerSize.0.0"),h:(0,a.Z)(e,"playerSize.0.1")});if(t.w&&t.h)return t}(i.video),c=function(e){var t=e&&e.sizes;if(t){var r=(0,n.sF)(t);if(r.length)return{format:r.map((e=>{var[t,r]=e.split("x");return{w:parseInt(t,10),h:parseInt(r,10)}}))}}}(i&&i.banner||!d&&{sizes:o}),l=Go(Go(Go({id:r},c&&{banner:c}),d&&{video:d}),{},{ext:{bidder:{uid:parseInt(t)}}});if(l.banner&&(l.ext.bidder.adslotExists=function(e){if(document.getElementById(e))return!0;var t=(0,n.ky)(e);return!(!t.divId||!document.getElementById(t.divId))}(s)),l.ext.bidder.uid&&(l.banner||l.video))return l}(e);t&&(f.push(t),l[e.bidId]=e);var{params:{uid:d},schain:u,userId:p,userIdAsEids:g}=e;!i&&u&&(i=u),!s&&g&&(s=g),!o&&p&&(o=p),c.push(d)}));var m={};t&&(d=t.timeout,t.refererInfo&&t.refererInfo.page&&(m.u=t.refererInfo.page),t.gdprConsent&&(t.gdprConsent.consentString&&(m.gdpr_consent=t.gdprConsent.consentString),m.gdpr_applies="boolean"==typeof t.gdprConsent.gdprApplies?Number(t.gdprConsent.gdprApplies):1));var v=Number(g.vc.getConfig("bidderTimeout"))||d,h=d?Math.min(v,d):v,b={ext:Go({wrapperType:"Prebid_js",wrapperVersion:"7.45.0"},i&&{schain:i})},y={ext:Go(Go({},s&&{eids:s}),m.gdpr_consent&&{consent:m.gdpr_consent})},_="gdpr_applies"in m&&{ext:{gdpr:m.gdpr_applies}},w=Go(Go({id:r,imp:f,tmax:h,cur:[p],source:b,site:{page:m.u}},Object.keys(y.ext).length&&{user:y}),_&&{regs:_});return{method:"POST",url:Qo("/hb_post")+"?auids="+encodeURIComponent(c.join(",")),data:w,bidsMap:l}}(0,n.H)(Jo.notAllowedCurrency+p)},interpretResponse:function(e,t){e=e&&e.body;var r,i=[],o=t.bidsMap,s=t.data.cur[0];return e?e.seatbid&&!e.seatbid.length&&(r=Jo.hasEmptySeatbidArray):r=Jo.emptyResponse,!r&&e.seatbid&&e.seatbid.forEach((e=>{!function(e,t,r,i){if(e){var o;if(e.auid||(o=Jo.noAuid+JSON.stringify(e)),e.impid||(o=Jo.noImpId+JSON.stringify(e)),e.adm){var s=r||"EUR",d=t[e.impid];if(d)if(e.cur&&e.cur!==s)o=Jo.currencyMismatch+s+" - "+e.cur;else{var c={requestId:d.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:s,netRevenue:!0,ttl:360,dealId:e.dealid,meta:{advertiserDomains:e.advertiserDomains?e.advertiserDomains:[],mediaType:e.mediaType}};e.ext&&e.ext.prebid&&(c.ext=e.ext.prebid);var l=(0,a.Z)(e,"ext.prebid.targeting");l&&(c.adserverTargeting=l),es(d)?(c.vastXml=e.adm,c.mediaType="video"):c.ad=e.adm,i.push(c)}else o=Jo.noPlacementCode+e.auid}else o=Jo.noAdm+JSON.stringify(e);o&&(0,n.H)(o)}}(function(e){return e?e.bid?e.bid[0]||(0,n.H)(Jo.noBid):(0,n.H)(Jo.hasNoArrayOfBids+JSON.stringify(e)):(0,n.H)(Jo.emptySeatbid),e&&e.bid&&e.bid[0]}(e),o,s,i)})),r&&(0,n.H)(r),i},getUserSyncs:function(e,t,r){var i=[];return r&&(r.consentString&&i.push("gdpr_consent="+encodeURIComponent(r.consentString)),i.push("gdpr_applies="+encodeURIComponent("boolean"==typeof r.gdprApplies?Number(r.gdprApplies):1))),e.iframeEnabled?[{type:"iframe",url:Qo(Wo)+"?iframe=1"+(i.length?"&"+i.join("&"):"")}]:e.pixelEnabled?[{type:"image",url:Qo(Wo)+(i.length?"?"+i.join("&"):"")}]:void 0},onSetTargeting:function(e){e.ext&&e.ext.events&&e.ext.events.pending&&(0,n.hq)(e.ext.events.pending)},onBidWon:function(e){e.ext&&e.ext.events&&e.ext.events.win&&(0,n.hq)(e.ext.events.win)},onTimeout:function(e){var t=e.map((e=>{var{params:t,timeout:r}=e,i={timeout:r};return t&&(i.params=t.map((e=>e&&e.uid?{uid:parseInt(e.uid)}:{}))),i}));(0,n.hq)(Qo("/track/bid_timeout")+"//"+JSON.stringify(t))}};function Qo(e){return(g.vc.getConfig("devMode")?"https://t-stage.visx.net":"https://t.visx.net")+e}function $o(e){return e.mediaType===A.pX||(0,a.Z)(e,"mediaTypes.video")}function es(e){return $o(e)&&(0,a.Z)(e,"mediaTypes.video",{}).context===ti.LD}function ts(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!0,i=(0,a.Z)(e,"mediaTypes.video");return es(e)||(t&&(0,n.H)(Jo.onlyVideoInstream),r=!1),i.playerSize&&(0,n.sF)((0,a.Z)(i,"playerSize",[]))||(t&&(0,n.H)(Jo.videoMissing+"playerSize"),r=!1),r}(0,ft.dX)(Yo),(0,i.z)("visxBidAdapter");var rs="https://ad.yieldlab.net",is="EUR",ns={code:"yieldlab",gvlid:70,supportedMediaTypes:[A.pX,A.Mk,A.B5],isBidRequestValid:e=>!!(e&&e.params&&e.params.adslotId&&e.params.supplyId),buildRequests(e,t){e=(0,d.lY)(e);var r=[],i=[],o=[],s={ts:Date.now(),json:!0};(0,n.yi)(e,(function(e){r.push(e.params.adslotId);var t,d,c,l,u,p=function(e){var{mediaTypes:t}=e,r=[];if((0,n.PO)(t)){var{[A.Mk]:i}=t;i&&(0,n.kJ)(i.sizes)&&((0,n.kJ)(i.sizes[0])?r.push(i.sizes):r.push([i.sizes]))}else(0,n.kJ)(e.sizes)&&((0,n.kJ)(e.sizes[0])?r.push(e.sizes):r.push([e.sizes]));var a=new Set(r.flat().map((e=>{var[t,r]=e;return t+"x"+r})));return Array.from(a)}(e);if(p.length>0&&i.push(e.params.adslotId+":"+p.join("|")),e.params.extId&&(s.id=e.params.extId),e.params.targeting&&(s.t=function(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var i=r,n=e[r];t.push(i+"="+n)}return t.join("&")}(e.params.targeting)),e.userIdAsEids&&Array.isArray(e.userIdAsEids)&&(s.ids=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].source+":"+e[r].uids[0].id);return t.join(",")}(e.userIdAsEids),s.atypes=function(e){for(var t=[],r=0;r<e.length;r++)e[r].uids[0].atype&&t.push(e[r].source+":"+e[r].uids[0].atype);return t.join(",")}(e.userIdAsEids)),e.params.customParams&&(0,n.PO)(e.params.customParams))for(var g in e.params.customParams)s[g]=e.params.customParams[g];e.schain&&(0,n.PO)(e.schain)&&Array.isArray(e.schain.nodes)&&(s.schain=(d=(t=e.schain).ver||"",c=1===t.complete||0===t.complete?t.complete:"",l=["asi","sid","hp","rid","name","domain","ext"],u=t.nodes.reduce(((e,t)=>e+"!".concat(l.map((e=>{return t[e]?(r=t[e],encodeURIComponent(r).replace(/!/g,"%21")):"";var r})).join(","))),""),"".concat(d,",").concat(c).concat(u)));var f=function(e){if(e.params.iabContent&&(0,n.PO)(e.params.iabContent))return e.params.iabContent;var t=(0,a.Z)(e,"ortb2.site")?(0,a.Z)(e,"ortb2.site.content"):(0,a.Z)(e,"ortb2.app.content");return t&&(0,n.PO)(t)?t:void 0}(e);f&&(s.iab_content=function(e){var t=["keywords","cat"],r=[];return encodeURIComponent(function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(var a in i)-1!==t.indexOf(a)&&Array.isArray(i[a])?r.push("".concat(a,":",i[a].map((e=>encodeURIComponent(e))).join("|"))):"object"!=typeof i[a]?r.push("".concat(n+a,":",encodeURIComponent(i[a]))):e(i[a],"".concat(n,a,"."));return r.join(",")}(e))}(f));var m=function(e,t){if((0,n.LQ)(e.getFloor)){var r=(0,a.Z)(e,"mediaTypes"),i=void 0!==r?Object.keys(r)[0].toLowerCase():void 0,o=e.getFloor({currency:is,mediaType:void 0!==i&&ns.supportedMediaTypes.includes(i)?i:"*",size:1!==t.length?"*":t[0].split("x")});return o.currency===is?(100*o.floor).toFixed(0):void 0}}(e,p);m&&o.push(e.params.adslotId+":"+m)})),t&&(t.refererInfo&&t.refererInfo.page&&(s.pubref=t.refererInfo.page),t.gdprConsent&&(s.gdpr="boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies,s.gdpr&&(s.consent=t.gdprConsent.consentString)));var c=r.join(",");i.length>0&&(s.sizes=i.join(",")),o.length>0&&(s.floor=o.join(","));var l=function(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];"schain"!==r&&"iab_content"!==r?t.push(encodeURIComponent(r)+"="+encodeURIComponent(i)):t.push(r+"="+i)}return t.join("&")}(s);return{method:"GET",url:"".concat(rs,"/yp/").concat(c,"?").concat(l),validBidRequests:e,queryParams:s}},interpretResponse(e,t){var r=[],i=Date.now(),o=t.queryParams;return t.validBidRequests.forEach((function(t){if(e.body){var s,d,c=(0,u.sE)(e.body,(function(e){return t.params.adslotId==e.id}));if(c){var l=2!==t.sizes.length||(0,n.kJ)(t.sizes[0])?t.sizes[0]:t.sizes,g=void 0!==t.params.adSize?as(t.params.adSize):void 0!==c.adsize?as(c.adsize):l,f=void 0!==t.params.extId?"&id="+t.params.extId:"",m=void 0!==c.adtype?c.adtype:"",v=o.gdpr?"&gdpr="+o.gdpr:"",h=o.consent?"&consent="+o.consent:"",b=void 0!==c.pvid?"&pvid="+c.pvid:"",y=o.iab_content?"&iab_content="+o.iab_content:"",_={requestId:t.bidId,cpm:c.price/100,width:g[0],height:g[1],creativeId:""+c.id,dealId:c["c.dealid"]?c["c.dealid"]:c.pid,currency:is,netRevenue:!1,ttl:300,referrer:"",ad:'<script src="'.concat(rs,"/d/").concat(c.id,"/").concat(t.params.supplyId,"/?ts=").concat(i).concat(f).concat(v).concat(h).concat(b).concat(y,'"><\/script>'),meta:{advertiserDomains:c.advertiser?c.advertiser:"n/a"}};if(s=t,d=m,(0,a.Z)(s,"mediaTypes.video")&&"video"===d.toLowerCase()){var w=function(e){var t=(0,a.Z)(e,"mediaTypes.video.playerSize");return t&&(0,n.kJ)(t[0])?t[0]:t}(t);if(w&&(_.width=w[0],_.height=w[1]),_.mediaType=A.pX,_.vastUrl="".concat(rs,"/d/").concat(c.id,"/").concat(t.params.supplyId,"/?ts=").concat(i).concat(f).concat(v).concat(h).concat(b).concat(y),function(e){return"outstream"===(0,a.Z)(e,"mediaTypes.video.context")}(t)){var I=p.Th.install({id:t.bidId,url:"https://ad.adition.com/dynamic.ad?a=o193092&ma_loadEvent=ma-start-event",loaded:!1});I.setRender(os),_.renderer=I}}if(function(e,t){return(0,a.Z)(e,"mediaTypes.native")&&"native"===t.toLowerCase()}(t,m)){var S="".concat(rs,"/d/").concat(c.id,"/").concat(t.params.supplyId,"/?ts=").concat(i).concat(f).concat(v).concat(h).concat(b);_.adUrl=S,_.mediaType=A.B5;var E=(0,u.sE)(c.native.assets,(e=>2===e.id)),O=E?E.img:{url:"",w:0,h:0},k=(0,u.sE)(c.native.assets,(e=>1===e.id)),T=(0,u.sE)(c.native.assets,(e=>3===e.id));_.native={title:k?k.title.text:"",body:T?T.data.value:"",image:{url:O.url,width:O.w,height:O.h},clickUrl:c.native.link.url,impressionTrackers:c.native.imptrackers}}r.push(_)}}})),r},getUserSyncs(e,t,r,i){var a=[];if(e.iframeEnabled){var o=[];o.push("ts=".concat((0,n.AB)())),o.push("type=h"),r&&"boolean"==typeof r.gdprApplies&&o.push("gdpr=".concat(Number(r.gdprApplies))),r&&"string"==typeof r.consentString&&o.push("gdpr_consent=".concat(r.consentString)),a.push({type:"iframe",url:"".concat(rs,"/d/6846326/766/2x2?").concat(o.join("&"))})}return a}};function as(e){return e.split("x").map(Number)}function os(e){e.renderer.push((()=>{window.ma_width=e.width,window.ma_height=e.height,window.ma_vastUrl=e.vastUrl,window.ma_container=e.adUnitCode,window.document.dispatchEvent(new Event("ma-start-event"))}))}(0,ft.dX)(ns),(0,i.z)("yieldlabBidAdapter");var ss=["inScreen","inImage","inArticle","inBanner"],ds={[A.Mk]:"display",[A.pX]:"video"},cs="fixed",ls=()=>{var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{};switch(e.type||e.effectiveType){case"wifi":case"ethernet":return cs;case"cellular":case"wimax":return"mobile";default:return/iPad|iPhone|iPod/.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?"unknown":cs}};function us(e){return!!e.mediaTypes&&!!e.mediaTypes.video}function ps(e){var t=e.params;return!!t.publisherId&&!!t.adUnitId&&ss.indexOf(t.placement)>-1}function gs(e){var t=e.params,r=(0,n.HA)(Object.keys(e.mediaTypes),(function(e){return ds[e]})),i={id:e.bidId,transactionId:e.transactionId,sizes:e.sizes,supplyTypes:r,adUnitId:t.adUnitId,adUnitCode:e.adUnitCode,placement:t.placement,requestCount:e.bidderRequestsCount||1};return us(e)&&(i.videoParams=fs(e)),i}function fs(e){var t=e.mediaTypes.video||{};return t.playerSize&&(t.w=t.playerSize[0][0],t.h=t.playerSize[0][1]),t}function ms(){var e=(()=>{try{var e=performance.getEntriesByType("navigation")[0];return Math.round(e.responseStart-e.startTime)}catch(e){try{var t=performance.timing;return Math.round(t.responseStart-t.fetchStart)}catch(e){return 0}}})();return e>=0&&e<=performance.now()?e:0}var vs={code:"seedtag",gvlid:157,aliases:["st"],supportedMediaTypes:[A.Mk,A.pX],isBidRequestValid:e=>us(e)?function(e){var t=fs(e),r=!!e.params.publisherId&&!!e.params.adUnitId&&us(e)&&!!t.playerSize&&(0,n.kJ)(t.playerSize)&&t.playerSize.length>0;return"inStream"===e.params.placement?r&&"instream"===t.context:r&&"outstream"===t.context&&function(e){return!!e.mediaTypes&&!!e.mediaTypes.banner}(e)&&ps(e)}(e):ps(e),buildRequests(e,t){var r,i,a={url:t.refererInfo.page,publisherToken:e[0].params.publisherId,cmp:!!t.gdprConsent,timeout:t.timeout,version:"7.45.0",connectionType:ls(),auctionStart:t.auctionStart||Date.now(),ttfb:ms(),bidRequests:(0,n.HA)(e,gs)};if(a.cmp){var o=t.gdprConsent.gdprApplies;void 0!==o&&(a.ga=o),a.cd=t.gdprConsent.consentString}t.uspConsent&&(a.uspConsent=t.uspConsent),e[0].schain&&(a.schain=e[0].schain);var s=g.vc.getConfig("coppa");return s&&(a.coppa=s),t.gppConsent?a.gppConsent={gppString:t.gppConsent.gppString,applicableSections:t.gppConsent.applicableSections}:null!==(r=t.ortb2)&&void 0!==r&&null!==(i=r.regs)&&void 0!==i&&i.gpp&&(a.gppConsent={gppString:t.ortb2.regs.gpp,applicableSections:t.ortb2.regs.gpp_sid}),{method:"POST",url:"https://s.seedtag.com/c/hb/bid",data:JSON.stringify(a)}},interpretResponse:function(e){var t=e.body;return t&&t.bids&&(0,n.kJ)(t.bids)?(0,n.HA)(t.bids,(function(e){return function(e){var t,r="display"===(t=e.mediaType)?A.Mk:"video"===t?A.pX:t,i={requestId:e.bidId,cpm:e.price,width:e.width,height:e.height,creativeId:e.creativeId,currency:e.currency,netRevenue:!0,mediaType:r,ttl:e.ttl,nurl:e.nurl,meta:{advertiserDomains:e&&e.adomain&&e.adomain.length>0?e.adomain:[]}};return r===A.pX?i.vastXml=e.content:i.ad=e.content,i}(e)})):[]},getUserSyncs(e,t){var r=t[0];if(e.iframeEnabled&&r){var i=r.body.cookieSync;return i?[{type:"iframe",url:i}]:[]}return[]},onTimeout(e){var t=function(e){var t="";if((0,n.kJ)(e)&&e[0]&&(0,n.kJ)(e[0].params)&&e[0].params[0]){var r=e[0].params[0],i=e[0].timeout;t="?publisherToken="+r.publisherId+"&adUnitId="+r.adUnitId+"&timeout="+i}return"https://s.seedtag.com/se/hb/timeout"+t}(e);(0,n.hq)(t)},onBidWon:function(e){e&&e.nurl&&(0,n.hq)(e.nurl)}};(0,ft.dX)(vs),(0,i.z)("seedtagBidAdapter");var hs={growthCodeId:{getValue:function(e){return e.gc_id},source:"growthcode.io",atype:1,getUidExt:function(e){var t=(0,n.ei)(e,["h1","h2","h3"]);if(Object.keys(t).length)return t}},trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},ftrackId:{source:"flashtalking.com",atype:1,getValue:function(e){var t="";return e&&e.ext&&e.ext.DeviceID&&(t=e.ext.DeviceID),t},getUidExt:function(e){return e&&e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=(0,n.ei)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},bidswitch:{source:"bidswitch.net",atype:3,getValue:function(e){return e.id}},medianet:{source:"media.net",atype:3,getValue:function(e){return e.id}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{atype:3,getSource:function(e){var t;return null!=e&&null!==(t=e.ext)&&void 0!==t&&t.ssp?"".concat(e.ext.ssp,".merkleinc.com"):"merkleinc.com"},getValue:function(e){return e.id},getUidExt:function(e){return e.keyID?{keyID:e.keyID}:e.ext?e.ext:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return void 0===e.snowflake.id?e.snowflake:e.snowflake.id},source:"novatiq.com"},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxdt.net",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imppid:{source:"ppid.intimatemerger.com",atype:1},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1},dacId:{source:"impact-ad.jp",atype:1},"33acrossId":{source:"33across.com",atype:1,getValue:function(e){return e.envelope}},tncid:{source:"thenewco.it",atype:3},gravitompId:{source:"gravito.net",atype:1},czechAdId:{source:"czechadid.cz",atype:1},oneKeyData:{getValue:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0])return e.identifiers[0].value},source:"paf",atype:1,getEidExt:function(e){if(e&&e.preferences)return{preferences:e.preferences}},getUidExt:function(e){if(e&&Array.isArray(e.identifiers)&&e.identifiers[0]){var t=e.identifiers[0];return{version:t.version,type:t.type,source:t.source}}}}};function bs(e,t){var r=hs[t];if(r&&e){var i={};i.source=(0,n.LQ)(r.getSource)?r.getSource(e):r.source;var a=(0,n.LQ)(r.getValue)?r.getValue(e):e;if((0,n.d8)(a)){var o={id:a,atype:r.atype};if((0,n.LQ)(r.getUidExt)){var s=r.getUidExt(e);s&&(o.ext=s)}if(i.uids=[o],(0,n.LQ)(r.getEidExt)){var d=r.getEidExt(e);d&&(i.ext=d)}return i}}return null}function ys(e){var t=[],r=function(r){if(e.hasOwnProperty(r))if("pubProvidedId"===r)t=t.concat(e.pubProvidedId);else if(Array.isArray(e[r]))e[r].forEach(((e,i,n)=>{var a=bs(e,r);a&&t.push(a)}));else{var i=bs(e[r],r);i&&t.push(i)}};for(var i in e)r(i);return t}var _s,ws,Is,Ss,Es,As,Os=(0,O.z3)("sync",(()=>{})),ks="User ID",Ts=W.c$,Cs=W.Dp,Ps="_pbjs_userid_consent_data",xs="_pbjs_id_optout",Rs=(0,W.eA)("userid"),Ds=!1,js=[],Ns=[],Us=[],Bs=()=>(null==As&&(As=(0,X.V6)()),As);function Ms(e){return Bs().fork().renameWith((t=>["userId.mod.".concat(t),"userId.mods.".concat(e,".").concat(t)]))}function qs(e){var t="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,r=e.config.storage.name;return function(e,i,n){Rs.setCookie(r+(e||""),i,n,"Lax",t)}}function zs(e,t){var r=e.config.storage;try{var i=new Date(Date.now()+864e5*r.expires).toUTCString(),a=(0,n.PO)(t)?JSON.stringify(t):t;if(r.type===Ts){var o=qs(e);o(null,a,i),"number"==typeof r.refreshInSeconds&&o("_last",(new Date).toUTCString(),i)}else r.type===Cs&&(Rs.setDataInLocalStorage("".concat(r.name,"_exp"),i),Rs.setDataInLocalStorage(r.name,encodeURIComponent(a)),"number"==typeof r.refreshInSeconds&&Rs.setDataInLocalStorage("".concat(r.name,"_last"),(new Date).toUTCString()))}catch(e){(0,n.H)(e)}}function Ls(e){var t,r,i,a;switch(null===(t=e.config)||void 0===t||null===(r=t.storage)||void 0===r?void 0:r.type){case Ts:var o=qs(e),s=new Date(Date.now()-864e5).toUTCString();i=e=>o(e,"",s),a=["","_last"];break;case Cs:i=t=>Rs.removeDataFromLocalStorage(e.config.storage.name+t),a=["","_last","_exp"]}i&&a.forEach((e=>{try{i(e)}catch(e){(0,n.H)(e)}}))}function Vs(e){var t=(0,n.EE)().setEidPermissions;"function"==typeof t&&(0,n.kJ)(e)&&t(function(e){var t=[];return e.filter((e=>(0,n.PO)(e.idObj)&&Object.keys(e.idObj).length)).forEach((e=>{Object.keys(e.idObj).forEach((r=>{(0,a.Z)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&(0,a.Z)(hs,r+".source")&&t.push({source:hs[r].source,bidders:e.config.bidders})}))})),t}(e))}function Fs(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=r?"".concat(e.name,"_").concat(r):e.name;try{if(e.type===Ts)t=Rs.getCookie(i);else if(e.type===Cs){var a=Rs.getDataFromLocalStorage("".concat(e.name,"_exp"));""===a?t=Rs.getDataFromLocalStorage(i):a&&new Date(a).getTime()-Date.now()>0&&(t=decodeURIComponent(Rs.getDataFromLocalStorage(i)))}"string"==typeof t&&"{"===t.trim().charAt(0)&&(t=JSON.parse(t))}catch(e){(0,n.H)(e)}return t}function Hs(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),(0,n._R)(JSON.stringify(t))}function Zs(e){try{var t=new Date(Date.now()+2592e6).toUTCString();Rs.setCookie(Ps,Hs(e),t,"Lax")}catch(e){(0,n.H)(e)}}function Gs(){try{return Rs.getCookie(Ps)}catch(e){(0,n.H)(e)}}function Ks(e,t){t=Bs().fork().startTiming("userId.callbacks.total").stopBefore(t);var r=(0,n.yx)((()=>{clearTimeout(void 0),t()}),e.length);e.forEach((function(e){var t=Ms(e.submodule.name).startTiming("callback").stopBefore(r);try{var i;e.callback((function(r){r?(e.config.storage&&zs(e,r),e.idObj=e.submodule.decode(r,e.config),ld(e.idObj)):(0,n.PN)("".concat(ks,": ").concat(e.submodule.name," - request id responded with an empty value")),t()}),Fs.bind(null,null===(i=e.config)||void 0===i?void 0:i.storage))}catch(r){(0,n.H)("Error in userID module '".concat(e.submodule.name,"':"),r),t()}e.callback=void 0}))}function Ws(e,t){[e].some((e=>!Array.isArray(e)||!e.length))||e.forEach((e=>{e.bids&&(0,n.kJ)(e.bids)&&e.bids.forEach((e=>{var r=function(e,t){return Array.isArray(e)&&e.length&&t?e.filter((e=>!e.config.bidders||!(0,n.kJ)(e.config.bidders)||(0,u.q9)(e.config.bidders,t))).filter((e=>(0,n.PO)(e.idObj)&&Object.keys(e.idObj).length)).reduce(((e,t)=>(Object.keys(t.idObj).forEach((r=>{e[r]=t.idObj[r]})),e)),{}):{}}(t,e.bidder);Object.keys(r).length&&(e.userId=r,e.userIdAsEids=ys(r))}))}))}var Js,Xs={};function Ys(){var e,t,{delay:r=L.Z.timeout}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,L.P)(),a=(0,L.P)(),o=!1;function d(r){return t=Bs().fork(),null!=e&&e.reject(Xs),e=(0,L.P)(),L.Z.race([r,e.promise]).finally(t.startTiming("userId.total"))}var l=_s,u=js;function p(e){return function(){if(l===_s&&u===js)return e(...arguments)}}function g(){return J.rp.promise.finally(t.startTiming("userId.init.gdpr"))}var f=d(L.Z.all([O.Cd,i.promise]).then(g).then(p((e=>{ud(l,u,e)}))).then((()=>a.promise.finally(t.startTiming("userId.callbacks.pending")))).then(p((()=>{var e=l.filter((e=>(0,n.LQ)(e.callback)));if(e.length)return new L.Z((t=>Ks(e,t)))}))));return function(){var{refresh:e=!1,submoduleNames:t=null,ready:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n&&!o&&(o=!0,i.resolve(),Is>0?a.resolve():s.on(c.EVENTS.AUCTION_END,(function e(){s.S1(c.EVENTS.AUCTION_END,e),r(ws).then(a.resolve)}))),e&&o&&(f=d(f.catch((()=>null)).then(g).then(p((e=>{var r=ud(l,u.filter((e=>null==t||t.includes(e.submodule.name))),e,!0).filter((e=>null!=e.callback));if(r.length)return new L.Z((e=>Ks(r,e)))}))))),f}}function Qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:td()||[],t=Ss&&e.find((e=>e.source===Ss));if(t&&"string"==typeof(0,a.Z)(t,"uids.0.id")){var r=t.uids[0].id.replace(/[\W_]/g,"");if(r.length>=32&&r.length<=150)return r;(0,n.yN)("User ID - Googletag Publisher Provided ID for ".concat(Ss," is not between 32 and 150 characters - ").concat(r))}}var $s=(0,X.g3)("userId",(function(e,t){var{delay:r=L.Z.timeout,getIds:n=sd}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};L.Z.race([n().catch((()=>null)),r(Is)]).then((()=>{Ws(t.adUnits||(0,i.R)().adUnits,_s),Bs().join((0,X.Bf)(t.metrics),{propagate:!1,includeGroups:!0}),e.call(this,t)}))}));function ed(){return function(e){return Array.isArray(e)&&e.length?e.filter((e=>(0,n.PO)(e.idObj)&&Object.keys(e.idObj).length)).reduce(((e,t)=>(Object.keys(t.idObj).forEach((r=>{e[r]=t.idObj[r]})),e)),{}):{}}(_s)}function td(){return ys(ed())}function rd(e){return ys(function(e,t){if(!Array.isArray(e)||!e.length)return{};var r=e.filter((e=>{var r;return(0,n.PO)(e.idObj)&&Object.keys(e.idObj).length&&(null===(r=hs[Object.keys(e.idObj)[0]])||void 0===r?void 0:r.source)===t}));return(0,n.xb)(r)?[]:r[0].idObj}(_s,e))[0]}function id(e,t,r){return Js().then((()=>{var i={};if((0,n.LQ)(r)){(0,n.PN)("".concat(ks," - Getting encrypted signal from custom function : ").concat(r.name," & source : ").concat(e," "));var a=r(e);i[e]=a?nd(a):null}else{var o=rd(e);(0,n.PN)("".concat(ks," - Getting encrypted signal for eids :").concat(JSON.stringify(o))),(0,n.xb)(o)||(i[o.source]=!0===t?nd(o):o.uids[0].id)}return(0,n.PN)("".concat(ks," - Fetching encrypted eids: ").concat(i[e])),i[e]}))}function nd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="";return 1===t&&(r="object"==typeof e?window.btoa(JSON.stringify(e)):window.btoa(e)),"".concat(t,"||").concat(r)}function ad(){if((0,n.T9)()){window.googletag.encryptedSignalProviders=window.googletag.encryptedSignalProviders||[];var e=g.vc.getConfig("userSync.encryptedSignalSources");if(e){var t=e.registerDelay||0;setTimeout((()=>{e.sources&&e.sources.forEach((e=>{var{source:t,encrypt:r,customFunc:i}=e;t.forEach((e=>{window.googletag.encryptedSignalProviders.push({id:e,collectorFunction:()=>id(e,r,i)})}))}))}),t)}else(0,n.yN)("".concat(ks," - ESP : encryptedSignalSources config not defined under userSync Object"))}}function od(){var{submoduleNames:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Js({refresh:!0,submoduleNames:e}).then((()=>(t&&(0,n.LQ)(t)&&t(),ed())))}function sd(){return Js().then((()=>ed()),(e=>e===Xs?Promise.resolve().then(sd):((0,n.H)("Error initializing userId",e),L.Z.reject(e))))}var dd=(0,O.z3)("sync",(function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}}),"validateGdprEnforcement");function cd(e,t,r,i){if(e.config.storage){var a,o=Fs(e.config.storage),s=!1;if("number"==typeof e.config.storage.refreshInSeconds){var d=new Date(Fs(e.config.storage,"last"));s=d&&Date.now()-d.getTime()>1e3*e.config.storage.refreshInSeconds}!o||s||i||!function(e,t){return null!=e&&e===Hs(t)}(r,t)?a=e.submodule.getId(e.config,t,o):"function"==typeof e.submodule.extendId&&(a=e.submodule.extendId(e.config,t,o)),(0,n.PO)(a)&&(a.id&&(zs(e,a.id),o=a.id),"function"==typeof a.callback&&(e.callback=a.callback)),o&&(e.idObj=e.submodule.decode(o,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var c=e.submodule.getId(e.config,t,void 0);(0,n.PO)(c)&&("function"==typeof c.callback&&(e.callback=c.callback),c.id&&(e.idObj=e.submodule.decode(c.id,e.config)))}ld(e.idObj)}function ld(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ed();if(e&&Ss){var t=Qs(ys(e));t&&((0,n.T9)()?window.googletag.pubads().setPublisherProvidedId(t):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(t)}))))}}function ud(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Bs().fork().measureTime("userId.init.modules",(function(){if(!t.length)return[];var a=fd();if(!(t=t.filter((e=>!e.config.storage||a.has(e.config.storage.type)))).length)return(0,n.yN)("".concat(ks," - no ID module is configured for one of the available storage types:"),Array.from(a)),[];var{userIdModules:o,hasValidated:s}=dd(t,r);if(!s&&!(0,ri.h)(r))return(0,n.yN)("".concat(ks," - gdpr permission not valid for local storage or cookies, exit module")),[];var d=Gs();Zs(r);var c=o.reduce(((e,t)=>Ms(t.submodule.name).measureTime("init",(()=>{try{cd(t,r,d,i),e.push(t)}catch(e){(0,n.H)("Error in userID module '".concat(t.submodule.name,"':"),e)}return e}))),[]);return c.length&&Vs(c),c.forEach(pd.bind(null,e)),c}))}function pd(e,t){for(var r=!1,i=0;i<e.length;i++)if(t.config.name.toLowerCase()===e[i].config.name.toLowerCase()){r=!0,e[i]=t;break}r||e.push(t)}var gd=new Set([Cs,Ts]);function fd(){var e=[],t=!1;return Rs.localStorageIsEnabled()&&(e.push(Cs),Rs.getDataFromLocalStorage(xs)&&((0,n.PN)("".concat(ks," - opt-out localStorage found, storage disabled")),t=!0)),Rs.cookiesAreEnabled()&&(e.push(Ts),Rs.getCookie(xs)&&((0,n.PN)("".concat(ks," - opt-out cookie found, storage disabled")),t=!0)),new Set(t?[]:e)}function md(){var e=function(e,t){return Array.isArray(e)?e.reduce(((e,t)=>(!t||(0,n.jH)(t.name)||(t.storage&&!(0,n.jH)(t.storage.type)&&!(0,n.jH)(t.storage.name)&&gd.has(t.storage.type)||(0,n.PO)(t.value)?e.push(t):t.storage||t.value||e.push(t)),e)),[]):[]}(Ns);if(e.length){var t=Us.filter((e=>!(0,u.sE)(js,(t=>t.name===e.name))));js.splice(0,js.length),t.map((t=>{var r=(0,u.sE)(e,(e=>e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())));return r&&t.name!==r.name&&(r.name=t.name),t.findRootDomain=$,r?{submodule:t,config:r,callback:void 0,idObj:void 0}:null})).filter((e=>null!==e)).forEach((e=>js.push(e))),!Ds&&js.length&&((0,i.R)().requestBids.before($s,40),J.ZP.callDataDeletionRequest.before(vd),Os.after((e=>e(Qs()))),(0,n.PN)("".concat(ks," - usersync config updated for ").concat(js.length," submodules: "),js.map((e=>e.submodule.name))),Ds=!0)}}function vd(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(0,n.PN)("UserID: received data deletion request; deleting all stored IDs..."),js.forEach((e=>{if("function"==typeof e.submodule.onDataDeletionRequest)try{e.submodule.onDataDeletionRequest(e.config,e.idObj,...r)}catch(t){(0,n.H)("Error calling onDataDeletionRequest for ID submodule ".concat(e.submodule.name),t)}Ls(e)})),e.apply(this,r)}function hd(e){return function(){return Promise.resolve(e.apply(this,arguments))}}!function(e){var{delay:t=L.Z.timeout}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ss=void 0,js=[],Ns=[],Ds=!1,_s=[],Js=Ys({delay:t}),null!=Es&&Es(),Us=[],Es=e.getConfig("userSync",(e=>{var t=e.userSync;Ss=t.ppid,t&&t.userIds&&(Ns=t.userIds,ws=(0,n.hj)(t.syncDelay)?t.syncDelay:500,Is=(0,n.hj)(t.auctionDelay)?t.auctionDelay:0,md(),Js({ready:!0}))})),(0,i.R)().getUserIds=ed,(0,i.R)().getUserIdsAsEids=td,(0,i.R)().getEncryptedEidsForSource=hd(id),(0,i.R)().registerSignalSources=ad,(0,i.R)().refreshUserIds=hd(od),(0,i.R)().getUserIdsAsync=hd(sd),(0,i.R)().getUserIdsAsEidBySource=rd}(g.vc),(0,O.bA)("userId",(function(e){(0,u.sE)(Us,(t=>t.name===e.name))||(Us.push(e),mt.qh.register(vt.y2,e.name,e.gvlid),md(),Js({refresh:!0,submoduleNames:[e.name]}))})),at({type:Qe,name:"userExtEids",fn:function(e,t,r){var i=(0,a.Z)(r,"bidRequests.0.userIdAsEids");i&&o(e,"user.ext.eids",i)}}),(0,i.z)("userId");var bd="unifiedId",yd={name:bd,gvlid:21,decode:e=>e&&"string"==typeof e.TDID?{tdid:e.TDID}:void 0,getId(e){var t=e&&e.params||{};if(t&&("string"==typeof t.partner||"string"==typeof t.url)){var r=t.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(t.partner,"&fmt=json");return{callback:function(e){var t={success:t=>{var r;if(t)try{r=JSON.parse(t)}catch(e){(0,n.H)(e)}e(r)},error:t=>{(0,n.H)("".concat(bd,": ID fetch encountered an error"),t),e()}};(0,Ft.h)(r,t,void 0,{method:"GET",withCredentials:!0})}}}(0,n.H)("User ID - unifiedId submodule requires either partner or url to be defined")}};(0,O.Bx)("userId",yd),(0,i.z)("unifiedIdSystem");var _d="criteo",wd=(0,W.df)({moduleType:vt.y2,moduleName:_d}),Id="cto_bidid",Sd="cto_bundle",Ed=new Date(0).toString(),Ad=new Date((0,n.AB)()+33696e6).toString();function Od(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,n.en)(e,{noDecodeWholeURL:!0});return t?"".concat(r.hostname):"".concat(r.protocol,"://").concat(r.hostname).concat(r.port?":"+r.port:"","/")}function kd(e){return wd.getCookie(e)||wd.getDataFromLocalStorage(e)}function Td(e,t,r){e&&t&&(wd.setDataInLocalStorage(e,t),Cd(e,t,Ad,r,!0))}function Cd(e,t,r,i,n){for(var a=i.split("."),o=0;o<a.length;++o){var s=a.slice(a.length-o-1,a.length).join(".");try{if(wd.setCookie(e,t,r,null,"."+s),n){var d=wd.getCookie(e);if(d&&d===t)break}}catch(e){}}}var Pd={name:_d,gvlid:91,decode:e=>e,getId(e,t){var r=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?t.consentString:void 0,i={bundle:kd(Sd),dnaBundle:kd("cto_dna_bundle"),bidId:kd(Id)};return{id:i.bidId?{criteoId:i.bidId}:void 0,callback:e=>function(e,t,r){var i=wd.cookiesAreEnabled(),a=wd.localStorageIsEnabled(),o=Od((0,Y.nH)().page),s=Od(document.location.href,!0),d="undefined"!=typeof criteo_pubtag,c=function(e,t,r,i,n,a,o,s){return"https://gum.criteo.com/sid/json?origin=prebid"+"".concat(e?"&topUrl="+encodeURIComponent(e):"")+"".concat(t?"&domain="+encodeURIComponent(t):"")+"".concat(r?"&bundle="+encodeURIComponent(r):"")+"".concat(i?"&info="+encodeURIComponent(i):"")+"".concat(s?"&gdprString="+encodeURIComponent(s):"")+"".concat(n?"&cw=1":"")+"".concat(o?"&pbt=1":"")+"".concat(a?"&lsw=1":"")}(o,s,e.bundle,e.dnaBundle,i,a,d,t),l={success:e=>{var t=JSON.parse(e);if(t.pixels&&t.pixels.forEach((e=>function(e,t){t.writeBundleInStorage&&t.bundlePropertyName&&t.storageKeyName?(0,Ft.h)(t.pixelUrl,{success:r=>{if(r){var i=JSON.parse(r);i&&i[t.bundlePropertyName]&&Td(t.storageKeyName,i[t.bundlePropertyName],e)}},error:e=>{(0,n.H)("criteoIdSystem: unable to sync user id",e)}},void 0,{method:"GET",withCredentials:!0}):(0,n.hq)(t.pixelUrl)}(s,e))),t.acwsUrl?("string"==typeof t.acwsUrl?[t.acwsUrl]:t.acwsUrl).forEach((e=>(0,n.hq)(e))):t.bundle&&Td(Sd,t.bundle,s),t.bidId){Td(Id,t.bidId,s);var i={criteoId:t.bidId};r(i)}else Cd(Id,"",Ed,s,!0),wd.removeDataFromLocalStorage("cto_bidid"),r()},error:e=>{(0,n.H)("criteoIdSystem: unable to sync user id",e),r()}};(0,Ft.h)(c,l,void 0,{method:"GET",contentType:"application/json",withCredentials:!0})}(i,r,e)}}};function xd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Rd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(r),!0).forEach((function(t){(0,gt.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dd(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function jd(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}(0,O.Bx)("userId",Pd),(0,i.z)("criteoIdSystem");var Nd="id5id",Ud="".concat(Nd,"_privacy"),Bd="html5",Md="User ID - ID5 submodule: ",qd=["pbjs-id5id","id5id.1st","id5id"],zd=(0,W.df)({moduleType:vt.y2,moduleName:"id5Id"}),Ld={name:"id5Id",gvlid:131,decode(e,t){var r=0;if(e&&"string"==typeof e.universal_uid){var i={id5id:{uid:e.universal_uid,ext:{linkType:r=e.link_type||r}}};switch((0,a.Z)(e,"ab_testing.result")){case"control":(0,n.PN)(Md+"A/B Testing - user is in the Control Group: ID5 ID is NOT exposed"),o(i,"id5id.ext.abTestingControlGroup",!0);break;case"error":(0,n.H)(Md+"A/B Testing ERROR! controlGroupPct must be a number >= 0 and <= 1");break;case"normal":(0,n.PN)(Md+"A/B Testing - user is NOT in the Control Group"),o(i,"id5id.ext.abTestingControlGroup",!1)}return(0,n.PN)(Md+"Decoded ID",i),i}},getId(e,t,r){if($d(e)){if(nc(t))return{callback:function(i){new Kd(e,t,r,J.nX.getConsentData()).execute().then((e=>{i(e)})).catch((e=>{(0,n.H)(Md+"getId fetch encountered an error",e),i()}))}};(0,n.PN)(Md+"Skipping ID5 local storage write because no consent given.")}},extendId:(e,t,r)=>($d(e),nc(t)?(rc(e&&e.params&&e.params.partner||0),(0,n.PN)(Md+"using cached ID",r),r):((0,n.PN)(Md+"No consent given for ID5 local storage writing, skipping nb increment."),r))},Vd=new WeakSet,Fd=new WeakSet,Hd=new WeakSet,Zd=new WeakSet,Gd=new WeakSet;class Kd{constructor(e,t,r,i){Dd(this,Gd),Dd(this,Zd),Dd(this,Hd),Dd(this,Fd),Dd(this,Vd),this.submoduleConfig=e,this.gdprConsentData=t,this.cacheIdObj=r,this.usPrivacyData=i}execute(){return jd(this,Fd,Jd).call(this,this.submoduleConfig).then((e=>jd(this,Hd,Xd).call(this,e.extensionsCall).then((t=>jd(this,Zd,Yd).call(this,e.fetchCall,t))))).then((e=>{try{tc(this.submoduleConfig.params.partner,0),e.privacy&&ic(Ud,JSON.stringify(e.privacy),30)}catch(e){(0,n.H)(Md+e)}return e}))}}function Wd(e,t,r){return new Promise(((i,n)=>{(0,Ft.h)(e,{success:function(e){i(e)},error:function(e){n(e)}},t,r)}))}function Jd(e){var t=e.params.configUrl||"https://id5-sync.com/api/config/prebid";return jd(this,Vd,Wd).call(this,t,JSON.stringify(e),{method:"POST"}).then((e=>{var t=JSON.parse(e);return(0,n.PN)(Md+"config response received from the server",t),t}))}function Xd(e){if(void 0===e)return Promise.resolve(void 0);var t=e.url,r=e.method||"GET",i="GET"===r?void 0:JSON.stringify(e.body||{});return jd(this,Vd,Wd).call(this,t,i,{method:r}).then((e=>{var t=JSON.parse(e);return(0,n.PN)(Md+"extensions response received from the server",t),t}))}function Yd(e,t){var r=e.url,i=e.overrides||{},a=Rd(Rd(Rd({},jd(this,Gd,Qd).call(this)),i),{},{extensions:t});return jd(this,Vd,Wd).call(this,r,JSON.stringify(a),{method:"POST",withCredentials:!0}).then((e=>{var t=JSON.parse(e);return(0,n.PN)(Md+"fetch response received from the server",t),t}))}function Qd(){var e,t=this.submoduleConfig.params,r=this.gdprConsentData&&"boolean"==typeof this.gdprConsentData.gdprApplies&&this.gdprConsentData.gdprApplies?1:0,i=(0,Y.nH)(),a=this.cacheIdObj&&this.cacheIdObj.signature?this.cacheIdObj.signature:(qd.forEach((function(t){zd.getCookie(t)&&(e=(0,n.dj)(zd.getCookie(t))||e)})),e&&e.signature||""),o=rc(t.partner),s={partner:t.partner,gdpr:r,nbPage:o,o:"pbjs",tml:i.topmostLocation,ref:i.ref,cu:i.canonicalUrl,top:i.reachedTop?1:0,u:i.stack[0]||window.location.href,v:"7.45.0",storage:this.submoduleConfig.storage,localStorage:zd.localStorageIsEnabled()?1:0};!r||void 0===this.gdprConsentData.consentString||(0,n.xb)(this.gdprConsentData.consentString)||(0,n.jH)(this.gdprConsentData.consentString)||(s.gdpr_consent=this.gdprConsentData.consentString),void 0===this.usPrivacyData||(0,n.xb)(this.usPrivacyData)||(0,n.jH)(this.usPrivacyData)||(s.us_privacy=this.usPrivacyData),void 0===a||(0,n.jH)(a)||(s.s=a),void 0===t.pd||(0,n.jH)(t.pd)||(s.pd=t.pd),void 0===t.provider||(0,n.jH)(t.provider)||(s.provider=t.provider);var d=t.abTesting||{enabled:!1};return d.enabled&&(s.ab_testing={enabled:!0,control_group_pct:d.controlGroupPct}),s}function $d(e){return e&&e.params&&e.params.partner&&"number"==typeof e.params.partner?e.storage&&e.storage.type&&e.storage.name?(e.storage.type!==Bd&&(0,n.yN)(Md+"storage type recommended to be '".concat(Bd,"'. In a future release this may become a strict requirement")),e.storage.name!==Nd&&(0,n.yN)(Md+"storage name recommended to be '".concat(Nd,"'. In a future release this may become a strict requirement")),!0):((0,n.H)(Md+"storage required to be set"),!1):((0,n.H)(Md+"partner required to be defined as a number"),!1)}function ec(e){return"".concat(Nd,"_").concat(e,"_nb")}function tc(e,t){ic(ec(e),t,30)}function rc(e){var t=function(e){var t,r,i=(t=ec(e),""===(r=zd.getDataFromLocalStorage("".concat(t,"_exp")))||r&&new Date(r).getTime()-Date.now()>0?zd.getDataFromLocalStorage(t):(zd.removeDataFromLocalStorage(t),null));return i?parseInt(i):0}(e)+1;return tc(e,t),t}function ic(e,t,r){zd.setDataInLocalStorage("".concat(e,"_exp"),function(e){return new Date(Date.now()+864e5*e).toUTCString()}(r)),zd.setDataInLocalStorage("".concat(e),t)}function nc(e){var t=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies,r=(0,a.Z)(e,"vendorData.purpose.consents.1"),i=(0,a.Z)(e,"vendorData.vendor.consents.".concat(131..toString()));return!!(!t||r&&i)}(0,O.Bx)("userId",Ld),(0,i.z)("id5IdSystem");var ac="identityLink",oc=(0,W.df)({moduleType:vt.y2,moduleName:ac}),sc={name:ac,gvlid:97,decode:e=>({idl_env:e}),getId(e,t){var r=e&&e.params||{};if(r&&"string"==typeof r.pid){var i=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,o=i?t.consentString:"",s=2===a.Z(t,"vendorData.tcfPolicyVersion");if(!i||o&&""!==o){var d="https://api.rlcdn.com/api/identity/envelope?pid=".concat(r.pid).concat(i?(s?"&ct=4&cv=":"&ct=1&cv=")+o:"");return{callback:function(e){window.ats?(n.PN("identityLink: ATS exists!"),window.ats.retrieveEnvelope((function(t){t?(n.PN("identityLink: An envelope can be retrieved from ATS!"),cc(!0),e(JSON.parse(t).envelope)):dc(d,e,r)}))):dc(d,e,r)}}}n.PN("identityLink: Consent string is required to call envelope API.")}else n.H("identityLink: requires partner id to be defined")}};function dc(e,t,r){var i,a={success:e=>{var r;if(e)try{r=JSON.parse(e)}catch(e){n.PN(e)}t(r&&r.envelope?r.envelope:"")},error:e=>{n.PN("identityLink: identityLink: ID fetch encountered an error",e),t()}};r.notUse3P||oc.getCookie("_lr_retry_request")||((i=new Date).setTime(i.getTime()+36e5),oc.setCookie("_lr_retry_request","true",i.toUTCString()),n.PN("identityLink: A 3P retrieval is attempted!"),cc(!1),(0,Ft.h)(e,a,void 0,{method:"GET",withCredentials:!0}))}function cc(e){var t=new Date;t.setTime(t.getTime()+2592e6),oc.setCookie("_lr_env_src_ats",e,t.toUTCString())}(0,O.Bx)("userId",sc),(0,i.z)("identityLinkIdSystem");var lc=(0,W.df)({moduleType:vt.y2,moduleName:"pubCommonId"}),uc="cookie",pc="html5",gc="_pubcid_optout",fc="PublisherCommonId";function mc(e,t){if(t===uc)return lc.getCookie(e);if(t===pc&&lc.hasLocalStorage()){var r=lc.getDataFromLocalStorage("".concat(e,"_exp"));if(!r)return lc.getDataFromLocalStorage(e);if(new Date(r).getTime()-Date.now()>0)return lc.getDataFromLocalStorage(e)}}function vc(e,t){return function(r,i){t?hc(t,e,(()=>{r(i()||e)}))():r(e)}}function hc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;if(e){var i=(0,n.en)(e);i.search.id=encodeURIComponent("pubcid:"+t);var a=(0,n.Q2)(i);return function(){(0,n.hq)(a,r)}}}function bc(){return!!(lc.cookiesAreEnabled()&&mc(gc,uc)||lc.hasLocalStorage()&&mc(gc,pc))}var yc={name:"sharedId",aliasName:"pubCommonId",gvlid:mt.$P,decode(e,t){if(!bc())return(0,n.PN)(" Decoded value PubCommonId "+e),{pubcid:e};(0,n.PN)("PubCommonId decode: Has opted-out")},getId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(bc())(0,n.PN)("PubCommonId: Has opted-out");else{var r=J.VP.getCoppa();if(!r){var{params:{create:i=!0,pixelUrl:a}={}}=e,o=t;if(!o){try{"object"==typeof window[fc]&&(o=window[fc].getId())}catch(e){}o||(o=i&&(0,n.wn)()?(0,n.DO)():void 0)}return{id:o,callback:vc(o,a)}}(0,n.PN)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId")}},extendId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(bc())return(0,n.PN)("PubCommonId: Has opted-out"),{id:void 0};var r=J.VP.getCoppa();if(r)(0,n.PN)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");else{var{params:{extend:i=!1,pixelUrl:a}={}}=e;if(i){if(a){var o=hc(a,t);return{callback:o}}return{id:t}}}},domainOverride:function(e,t){return function(){for(var t,r,i=document.domain.split("."),n="_gd".concat(Date.now(),"_").concat("sharedId"),a=0;a<i.length;a++){var o=i.slice(a).join(".");if(e.setCookie(n,"1",void 0,void 0,o),r=e.getCookie(n),e.setCookie(n,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,o),"1"!==r)return t;t=o}}}(lc)};(0,O.Bx)("userId",yc),(0,i.z)("sharedIdSystem");var _c=r(521),wc={appnexus:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1e3},appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1e3}};function Ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ic(Object(r),!0).forEach((function(t){(0,gt.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ic(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ec,Ac,Oc=new Set(["bidderCode","bidderRequestId","uniquePbsTid","bids","timeout"]),kc=Eo({processors:Co,context:{netRevenue:!0},imp(e,t,r){Object.assign(r,t.pbsData);var i=e(t,r);if((t.bids||[]).forEach((e=>{e.ortb2Imp&&Object.keys(e.ortb2Imp).length>0&&o(i,"ext.prebid.imp.".concat(e.bidder),e.ortb2Imp)})),Object.values(Oo).some((e=>i[e])))return i.secure=r.s2sBidRequest.s2sConfig.secure,i},request(e,t,r,i){if(t.length){var{s2sBidRequest:a,requestedBidders:s,eidPermissions:d}=i,c=e(t,r,i);return c.tmax=a.s2sConfig.timeout,o(c,"source.tid",r.auctionId),[c.app,c.dooh,c.site].forEach((e=>{var t;!e||null!==(t=e.publisher)&&void 0!==t&&t.id||o(e,"publisher.id",a.s2sConfig.accountId)})),(0,n.kJ)(d)&&d.length>0&&(s&&(0,n.kJ)(s)&&(d=d.map((e=>Sc(Sc({},e),{},{bidders:e.bidders.filter((e=>s.includes(e)))})))),o(c,"ext.prebid.data.eidpermissions",d)),c}(0,n.H)("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")},bidResponse(e,t,r){var i,n,a=r.actualBidRequests.get(r.seatbid.seat);null==a&&(a=r.actualBidRequests.get(null)),a&&Object.assign(r,{bidRequest:a,bidderRequest:r.actualBidderRequests.find((e=>e.bidderCode===a.bidder))});var o=e(t,r);o.requestBidder=null===(i=a)||void 0===i?void 0:i.bidder,null!==(n=o.native)&&void 0!==n&&n.ortb&&(o.adm=o.native.ortb),o.requestTimestamp=r.requestTimestamp;var s=0!==t.price?c.STATUS.GOOD:c.STATUS.NO_BID;return{bid:Object.assign((0,q.m)(s,{src:c.S2S.SRC,bidId:a?a.bidId||a.bid_Id:null,transactionId:r.adUnit.transactionId,auctionId:r.bidderRequest.auctionId}),o),adUnit:r.adUnit.code}},overrides:{[$e]:{id(e,t,r,i){t.id=i.impId},params(e,t,r,i){var n=i.s2sBidRequest.s2sConfig.adapterOptions;for(var a of i.actualBidRequests.values())ko(t,a,i,i),n&&n[a.bidder]&&Object.assign(t.ext.prebid.bidder[a.bidder],n[a.bidder])},bidfloor(e,t,r,i){var n;for(var a of i.actualBidRequests.values()){var o={};if(e(o,a,i),null==o.bidfloorcur||null==o.bidfloor){n=null;break}if(null==n)n=o;else{var s=sr(o.bidfloor,o.bidfloorcur,n.bidfloorcur);null!=s&&s<n.bidfloor&&(n=o)}}null!=n&&Object.assign(t,n)}},[Qe]:{fpd(e,t,r,i){var a,s,d;(0,n.Ee)(t,null===(a=i.s2sBidRequest.ortb2Fragments)||void 0===a?void 0:a.global),i.s2sBidRequest.s2sConfig.extPrebid&&"object"==typeof i.s2sBidRequest.s2sConfig.extPrebid&&o(t,"ext.prebid",(0,n.Ee)((null===(d=t.ext)||void 0===d?void 0:d.prebid)||{},i.s2sBidRequest.s2sConfig.extPrebid));var c=Object.entries((null===(s=i.s2sBidRequest.ortb2Fragments)||void 0===s?void 0:s.bidder)||{}).map((e=>{var[t,r]=e;return{bidders:[t],config:{ortb2:r}}}));c.length&&o(t,"ext.prebid.bidderconfig",c)},extPrebidAliases(e,t,r,i){i.actualBidderRequests.forEach((r=>e(t,r,i)))},sourceExtSchain(e,t,r,i){var n,s=(0,a.Z)(t,"ext.prebid.schains")||[],d=new Set(s.flatMap((e=>e.bidders)));s=Object.values(s.concat(i.actualBidderRequests.filter((e=>!d.has(e.bidderCode))).map((e=>({bidders:[e.bidderCode],schain:(0,a.Z)(e,"bids.0.schain")})))).filter((e=>{var{bidders:t,schain:r}=e;return(null==t?void 0:t.length)>0&&r})).reduce(((e,t)=>{var{bidders:r,schain:i}=t,a=JSON.stringify(i);return e.hasOwnProperty(a)||(e[a]={bidders:new Set,schain:i}),r.forEach((t=>e[a].bidders.add(t))),(null==n||e[a].bidders.size>n.bidders.size)&&(n=e[a]),e}),{})).map((e=>{var{bidders:t,schain:r}=e;return{bidders:Array.from(t),schain:r}})),null!=n&&o(t,"source.ext.schain",n.schain),s.length&&o(t,"ext.prebid.schains",s)}},[tt]:{serverSideStats(e,t,r,i){i.actualBidderRequests.forEach((n=>e(t,r,Sc(Sc({},i),{},{bidderRequest:n,bidRequests:n.bids}))))},fledgeAuctionConfigs(e,t,r,i){var n=Object.values(i.impContext).flatMap((e=>(e.fledgeConfigs||[]).map((t=>({adUnitCode:e.adUnit.code,config:t.config})))));n.length>0&&(t.fledgeAuctionConfigs=n)}}}}),Tc=g.vc.getConfig,Cc=c.S2S.SRC,Pc=0,xc={bidders:Object.freeze([]),timeout:1e3,syncTimeout:1e3,maxBids:1,adapter:"prebidServer",allowUnknownBidderCodes:!1,adapterOptions:{},syncUrlModifier:{},ortbNative:{context:1,plcmttype:1,eventtrackers:[{event:1,methods:[1]}]}};function Rc(e,t,r,i,a){if(Ec.length!==Pc){Pc++;var o={},s=Tc("userSync.filterSettings");if(s){var{all:d,iframe:c,image:l}=s,u=c||d,p=l||d;u&&(o=Object.assign({iframe:u},o)),p&&(o=Object.assign({image:p},o))}var g={uuid:(0,n.DO)(),bidders:e,account:a.accountId,filterSettings:o},f=a.userSyncLimit;(0,n.hj)(f)&&f>0&&(g.limit=f),t&&(g.gdpr=t.gdprApplies?1:0,!1!==t.gdprApplies&&(g.gdpr_consent=t.consentString)),r&&(g.us_privacy=r),i&&(g.gpp_sid=i.applicableSections,g.gpp=i.gppString),"boolean"==typeof a.coopSync&&(g.coopSync=a.coopSync);var m=JSON.stringify(g);(0,Ft.h)(Uc(a.syncEndpoint,t),(e=>{try{Dc((e=JSON.parse(e)).bidder_status,a)}catch(e){(0,n.H)(e)}}),m,{contentType:"text/plain",withCredentials:!0})}}function Dc(e,t){if(0!==e.length){var r=e.shift();r.no_cookie?function(e,t,r,i,a){a.syncUrlModifier&&"function"==typeof a.syncUrlModifier[r]&&(t=a.syncUrlModifier[r](e,t,r)),function(e,t,r,i,a){t?"image"===e||"redirect"===e?((0,n.ji)('Invoking image pixel user sync for bidder: "'.concat(r,'"')),(0,n.hq)(t,i,a)):"iframe"===e?((0,n.ji)('Invoking iframe user sync for bidder: "'.concat(r,'"')),(0,n.Vs)(t,i,a)):((0,n.H)('User sync type "'.concat(e,'" not supported for bidder: "').concat(r,'"')),i()):((0,n.H)('No sync url for bidder "'.concat(r,'": ').concat(t)),i())}(e,t,r,i,a.syncTimeout)}(r.usersync.type,r.usersync.url,r.bidder,n.ak.call(Dc,null,e,t),t):Dc(e,t)}}g.vc.setDefaults({s2sConfig:xc}),Tc("s2sConfig",(e=>{var{s2sConfig:t}=e;return function(e){if(e){var t=Array.isArray(e)?e:[e],r=[];return t.every(((t,i,a)=>{!function(e){["endpoint","syncEndpoint"].forEach((t=>{if((0,n.d8)(e[t])){var r=e[t];e[t]={p1Consent:r,noP1Consent:r}}!(0,n.PO)(e[t])||e[t].p1Consent&&e[t].noP1Consent||["p1Consent","noP1Consent"].forEach((r=>{e[t][r]||(0,n.yN)("s2sConfig.".concat(t,".").concat(r," not defined.  PBS request will be skipped in some P1 scenarios."))}))}))}(e);var o=function(e){if(e.defaultVendor){var t=e.defaultVendor,r=Object.keys(e);if(!wc[t])return(0,n.H)("Incorrect or unavailable prebid server default vendor option: "+t),!1;Object.keys(wc[t]).forEach((i=>{xc[i]!==e[i]&&(0,u.q9)(r,i)||(e[i]=wc[t][i])}))}return e.enabled="boolean"==typeof e.enabled&&e.enabled}(t);if(!1!==o){var s=function(e){var t=Object.keys(e);if(["accountId","endpoint"].filter((e=>!(0,u.q9)(t,e)&&((0,n.H)(e+" missing in server to server config"),!0))).length>0)return!1}(t);if(!1!==s)return Array.isArray(t.bidders)&&(a[i].bidders=t.bidders.filter((e=>-1===r.indexOf(e)&&(r.push(e),!0)))),!0}return(0,n.yN)("prebidServer: s2s config is disabled"),!1}))?Ec=t:void 0}}(t)}));var jc={};function Nc(e){var t,r,i=function(e,t){if([e,t].every(n.d8))return jc["".concat(e).concat(t)]}(e.auctionId,e.adId);(0,n.d8)(i)&&((0,n.ji)('Invoking image pixel for wurl on BID_WIN: "'.concat(i,'"')),(0,n.hq)(i),[t=e.auctionId,r=e.adId].every(n.d8)&&(jc["".concat(t).concat(r)]=void 0))}function Uc(e,t){return(0,ri.h)(t)?e.p1Consent:e.noP1Consent}function Bc(e){var t,r,i;return Array.isArray(e)&&e.length>0&&(t=e[0].gdprConsent,r=e[0].uspConsent,i=e[0].gppConsent),{gdprConsent:t,uspConsent:r,gppConsent:i}}var Mc=(0,O.z3)("sync",(function(e,t,r,i){var{onResponse:a,onError:o,onBid:s,onFledge:d}=i,{gdprConsent:c}=Bc(t),l=(0,n.I8)(e.ad_units),p=l.map((e=>e.bids.map((e=>e.bidder)).filter(n.tT))).reduce(n.xH,[]).filter(n.tT),f=e.metrics.measureTime("buildRequests",(()=>function(e,t,r,i,a){var o=(0,n.AB)(),s=new Set,d=[];r.forEach((e=>{var r=new Map;e.bids.forEach((i=>{null!=i.mediaTypes&&(0,n.yN)("Prebid Server adapter does not (yet) support bidder-specific mediaTypes for the same adUnit. Size mapping configuration will be ignored for adUnit: ".concat(e.code,", bidder: ").concat(i.bidder)),r.set(i.bidder,(0,n.zE)(i.bid_id,t))}));for(var i=e.code,a=1;s.has(i);)a++,i="".concat(e.code,"-").concat(a);s.add(i),d.push(Sc(Sc(Sc({},e),{},{adUnitCode:e.code},(0,n.iG)(r.values().next().value||{},["userId","userIdAsEids","schain"])),{},{pbsData:{impId:i,actualBidRequests:r,adUnit:e}}))}));var c=Sc(Sc({},Object.fromEntries(Object.entries(t[0]).filter((e=>{var[t]=e;return!Oc.has(t)})))),{},{fledgeEnabled:t.some((e=>e.fledgeEnabled))});return kc.toORTB({bidderRequest:c,bidRequests:d,context:{currency:g.vc.getConfig("currency.adServerCurrency")||"USD",ttl:e.s2sConfig.defaultTtl||60,requestTimestamp:o,s2sBidRequest:e,requestedBidders:i,actualBidderRequests:t,eidPermissions:a,nativeRequest:e.s2sConfig.ortbNative}})}(e,t,l,p,Ac))),m=f&&JSON.stringify(f);(0,n.PN)("BidRequest: "+m);var v=Uc(e.s2sConfig.endpoint,c);if(f&&m&&v){var h=e.metrics.startTiming("net");r(v,{success:function(t){var r;h();try{r=JSON.parse(t);var{bids:i,fledgeAuctionConfigs:o}=e.metrics.measureTime("interpretResponse",(()=>function(e,t){return kc.fromORTB({response:e,request:t})}(r,f)));i.forEach(s),o&&o.forEach(d)}catch(e){(0,n.H)(e)}!r||r.status&&(0,u.q9)(r.status,"Error")?((0,n.H)("error parsing response: ",r?r.status:"not valid JSON"),a(!1,p)):a(!0,p,r)},error:function(){h(),o.apply(this,arguments)}},m,{contentType:"text/plain",withCredentials:!0})}else(0,n.H)("PBS request not made.  Check endpoints.")}),"processPBSRequest");(0,n.EE)().setEidPermissions=function(e){Ac=e},J.ZP.registerBidAdapter(new function(){var e=new _c.Z("prebidServer");return e.callBids=function(e,t,r,i,o){var d=e.metrics=(0,X.Bf)((0,a.Z)(t,"0.metrics")).newMetrics().renameWith((t=>["adapter.s2s.".concat(t),"adapters.s2s.".concat(e.s2sConfig.defaultVendor,".").concat(t)]));i=d.startTiming("total").stopBefore(i),t.forEach((e=>(0,X.Bf)(e.metrics).join(d,{continuePropagation:!1})));var{gdprConsent:l,uspConsent:u,gppConsent:p}=Bc(t);Array.isArray(Ec)&&(e.s2sConfig&&e.s2sConfig.syncEndpoint&&Uc(e.s2sConfig.syncEndpoint,l)&&Rc(e.s2sConfig.bidders.map((e=>J.ZP.aliasRegistry[e]||e)).filter(((e,t,r)=>r.indexOf(e)===t)),l,u,p,e.s2sConfig),Mc(e,t,o,{onResponse:function(r,a,o){var d,f;r&&t.forEach((e=>s.j8(c.EVENTS.BIDDER_DONE,e))),function(e,t){var r,i;return(null==e||null===(r=e.extPrebid)||void 0===r?void 0:r.returnallbidstatus)&&(null==t||null===(i=t.ext)||void 0===i?void 0:i.seatnonbid)}(e.s2sConfig,o)&&(d=o.ext.seatnonbid,f=t[0].auctionId,s.j8(c.EVENTS.SEAT_NON_BID,{seatnonbid:d,auctionId:f})),i(),function(e,t,r,i){e.forEach((e=>{var a=J.ZP.getBidAdapter(e);a&&a.registerSyncs&&g.vc.runWithBidder(e,n.ak.call(a.registerSyncs,a,[],t,r,i))}))}(a,l,u,p)},onError:i,onBid:function(t){var i,a,o,{adUnit:s,bid:d}=t,l=d.metrics=e.metrics.fork().renameWith();l.checkpoint("addBidResponse"),null!=d.requestId&&null!=d.requestBidder||e.s2sConfig.allowUnknownBidderCodes?l.measureTime("addBidResponse.validate",(()=>(0,ft.JY)(s,d)))?(r(s,d),d.pbsWurl&&(i=d.auctionId,a=d.adId,o=d.pbsWurl,[i,a].every(n.d8)&&(jc["".concat(i).concat(a)]=o))):r.reject(s,d,c.REJECTION_REASON.INVALID):((0,n.yN)("PBS adapter received bid from unknown bidder (".concat(d.bidder,"), but 's2sConfig.allowUnknownBidderCodes' is not set. Ignoring bid.")),r.reject(s,d,c.REJECTION_REASON.BIDDER_DISALLOWED))},onFledge:e=>{var{adUnitCode:t,config:r}=e;(0,ft.BF)(t,r)}}))},s.on(c.EVENTS.BID_WON,Nc),Object.assign(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:Cc})},"prebidServer"),(0,i.z)("prebidServerBidAdapter");var qc,zc,Lc,Vc="Invalid schain object found: ",Fc=" should be a string",Hc=" should be an Integer",Zc=" should be an object",Gc={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},Kc=[];function Wc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,n.yi)(Gc,(e=>Kc.push(e))),J.ZP.makeBidRequests.after((function(e,t){var r=g.vc.getConfig("schain"),i=g.vc.getBidderConfig();t.forEach((e=>{var t=e.bidderCode,a=function(e){return i[e]&&i[e].schain||r}(t);e.bids.forEach((e=>{var r=function(e,t){var r=Gc.STRICT;if(function(e){return!(void 0===e||!(0,n.PO)(e)&&((0,n.H)(Vc+"the following schain config will not be used as schain is not an object.",e),1))}(e)){if((0,n.d8)(e.validation)&&-1!=Kc.indexOf(e.validation)&&(r=e.validation),r===Gc.OFF)return e.config;if(function(e,t){var r="Detected something wrong within an schain config:",i="";function a(e){i+="\n"+e}function o(){!0===t?(0,n.H)(r,e,i):(0,n.yN)(r,e,i)}if(!(0,n.PO)(e)&&(a("schain.config"+Zc),o(),t))return!1;if((0,n.hj)(e.complete)&&(0,n.U)(e.complete)||a("schain.config.complete"+Hc),(0,n.d8)(e.ver)||a("schain.config.ver"+Fc),(0,n.RI)(e,"ext")&&((0,n.PO)(e.ext)||a("schain.config.ext"+Zc)),(0,n.kJ)(e.nodes))e.nodes.forEach(((e,t)=>{(0,n.d8)(e.asi)||a("schain.config.nodes[".concat(t,"].asi")+Fc),(0,n.d8)(e.sid)||a("schain.config.nodes[".concat(t,"].sid")+Fc),(0,n.hj)(e.hp)&&(0,n.U)(e.hp)||a("schain.config.nodes[".concat(t,"].hp")+Hc),(0,n.RI)(e,"rid")&&((0,n.d8)(e.rid)||a("schain.config.nodes[".concat(t,"].rid")+Fc)),(0,n.RI)(e,"name")&&((0,n.d8)(e.name)||a("schain.config.nodes[".concat(t,"].name")+Fc)),(0,n.RI)(e,"domain")&&((0,n.d8)(e.domain)||a("schain.config.nodes[".concat(t,"].domain")+Fc)),(0,n.RI)(e,"ext")&&((0,n.PO)(e.ext)||a("schain.config.nodes[".concat(t,"].ext")+Zc))}));else if(a("schain.config.nodes should be an Array"),o(),t)return!1;return!(i.length>0&&(o(),t))}(e.config,!(r!==Gc.STRICT)))return e.config;(0,n.H)(Vc+"due to the 'strict' validation setting, this schain config will not be passed to bidder '".concat(t,"'.  See above error for details."))}return null}(a,t);r&&(e.schain=r)}))})),e(t)})),at({type:Qe,name:"sourceExtSchain",fn:function(e,t,r){if(!(0,a.Z)(e,"source.ext.schain")){var i=(0,a.Z)(r,"bidRequests.0.schain");i&&o(e,"source.ext.schain",i)}}}),(0,i.z)("schain"),function(e){var t,r;t=e.enums||(e.enums={}),(r=t.OutOfPageFormat||(t.OutOfPageFormat={}))[r.TOP_ANCHOR=2]="TOP_ANCHOR",r[r.BOTTOM_ANCHOR=3]="BOTTOM_ANCHOR",r[r.REWARDED=4]="REWARDED",r[r.INTERSTITIAL=5]="INTERSTITIAL"}(qc||(qc={})),function(e){e.Adagio="adagio",e.AdaptMx="amx",e.Adform="adf",e.AdUp="aduptech",e.Criteo="criteo",e.AppNexusAst="appnexusAst",e.AppNexus="appnexus",e.EmxDigital="emx_digital",e.ImproveDigital="improvedigital",e.IndexExchange="ix",e.Invibes="invibes",e.NanoInteractive="nanointeractive",e.JustPremium="justpremium",e.PubMatic="pubmatic",e.Ogury="ogury",e.OpenX="openx",e.SmartAdServer="smartadserver",e.Smartx="smartx",e.Unruly="unruly",e.Teads="teads",e.Triplelift="triplelift",e.Yieldlab="yieldlab",e.Seedtag="seedtag",e.Spotx="spotx",e.ShowHeroes="showheroesBs",e.StroeerCore="stroeerCore",e.Xaxis="xhb",e.DSPX="dspx",e.Rubicon="rubicon",e.Recognified="rads",e.Visx="visx",e.Vlyby="vlyby",e.Orbidder="orbidder",e.JustPremiumPushUpBillboard="pu",e.JustPremiumPushDownBillboard="pd",e.JustPremiumLeaderboard="as",e.JustPremiumFloorAd="fa",e.JustPremiumClassicFloorAd="cf",e.JustPremiumSideAd="sa",e.JustPremiumWallpaper="wp",e.JustPremiumMobileScroller="is",e.JustPremiumMobileSkin="mt",e.JustPremiumCascadeAd="ca",e.JustPremiumVideoWallpaper="wv",e.JustPremiumVideoFloorAd="fv",e.JustPremiumMobileStickyExpandable="ms",e.JustPremiumMobileVideo="mv"}(zc||(zc={})),function(e){var t,r,i,n;(function(e){e[e.STORE_INFORMATION_ON_DEVICE=1]="STORE_INFORMATION_ON_DEVICE",e[e.SELECT_BASIC_ADS=2]="SELECT_BASIC_ADS",e[e.CREATE_PERSONALISED_ADS_PROFILE=3]="CREATE_PERSONALISED_ADS_PROFILE",e[e.SELECT_PERSONALISED_ADS=4]="SELECT_PERSONALISED_ADS",e[e.CREATE_PERSONALISED_CONTENT_PROFILE=5]="CREATE_PERSONALISED_CONTENT_PROFILE",e[e.SELECT_PERSONALISED_CONTENT=6]="SELECT_PERSONALISED_CONTENT",e[e.MEASURE_AD_PERFORMANCE=7]="MEASURE_AD_PERFORMANCE",e[e.MEASURE_CONTENT_PERFORMANCE=8]="MEASURE_CONTENT_PERFORMANCE",e[e.APPLY_MARKET_RESEARCH=9]="APPLY_MARKET_RESEARCH",e[e.DEVELOP_IMPROVE_PRODUCTS=10]="DEVELOP_IMPROVE_PRODUCTS"})((i=e.responses||(e.responses={})).TCPurpose||(i.TCPurpose={})),(n=i.RestrictionType||(i.RestrictionType={}))[n.NOT_ALLOWED=0]="NOT_ALLOWED",n[n.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",n[n.REQUIRE_LI=2]="REQUIRE_LI",t=e.status||(e.status={}),(r=t.DisplayStatus||(t.DisplayStatus={})).VISIBLE="visible",r.HIDDEN="hidden",r.DISABLED="disabled",function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(t.CmpStatus||(t.CmpStatus={})),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(t.EventStatus||(t.EventStatus={}))}(Lc||(Lc={}));var Jc=e=>{var t=e.indexOf("=");return t>=0?[decodeURIComponent(e.slice(0,t)),decodeURIComponent(e.slice(t+1))]:[decodeURIComponent(e),""]},Xc=e=>{try{var t=e.startsWith("?")?e.slice(1):e;return t.length>0?new Map(t.split("&").filter((e=>e.length>0)).map(Jc)):new Map}catch(e){return console.error(e),new Map}};const Yc=(e,t)=>{var r,i=[],n="object"==typeof e.document&&e.document,a=n&&n.documentElement.doScroll,o="DOMContentLoaded",s=n&&(a?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);!s&&n&&n.addEventListener(o,r=()=>{if(n)for(n.removeEventListener(o,r),s=!0;r=i.shift();)r()}),s?setTimeout(t,0):i.push(t)};class Qc{mark(e){performance.mark(e)}measure(e,t,r){this.getMark(r)||performance.mark(r),performance.measure(e,t,r)}getMeasure(e){return performance.getEntriesByName(e,"measure")[0]}getMark(e){return performance.getEntriesByName(e,"mark")[0]}}class $c{mark(e){}measure(e,t,r){}getMeasure(e){}getMark(e){}}var el,tl=e=>e&&"performance"in e&&"mark"in e.performance&&"measure"in e.performance&&"getEntriesByName"in e.performance?new Qc:new $c;!function(e){e[e.FETCH=0]="FETCH",e[e.TAG=1]="TAG"}(el||(el={}));class rl{constructor(e,t){this.performanceService=e,this.window=t}loadScript(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.window.document.head;return this.awaitDomReady().then((()=>this.startPerformance(e.name))).then((()=>{switch(e.loadMethod){case el.FETCH:return this.loadAssetViaFetch(e,t);case el.TAG:return this.loadAssetViaTag(e,t)}})).then((()=>this.measurePerformance(e.name)))}loadJson(e,t){return this.startPerformance(e),this.window.fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then((t=>(this.measurePerformance(e),t.ok?t.json():t.text().then((e=>Promise.reject("".concat(t.statusText,": ").concat(e))))))).catch((t=>(this.measurePerformance(e),Promise.reject(t))))}loadAssetViaFetch(e,t){return this.window.fetch(e.assetUrl).then((e=>e.ok?Promise.resolve(e):Promise.reject(e))).then((e=>e.text())).then((e=>this.scriptTagWithBody(e))).then((e=>t.appendChild(e)))}scriptTagWithBody(e){var t=this.window.document.createElement("script");return t.type="text/javascript",t.async=!0,t.text=e,t}loadAssetViaTag(e,t){var r=this.scriptTagWithSrc(e.assetUrl);return new Promise(((e,i)=>{r.onload=e,r.onerror=i,t.appendChild(r)}))}scriptTagWithSrc(e){var t=this.window.document.createElement("script");return t.type="text/javascript",t.async=!0,t.src=e,t}awaitDomReady(){return new Promise((e=>{Yc(this.window,e)}))}startPerformance(e){this.performanceService.mark("".concat(e,"_load_start"))}measurePerformance(e){this.performanceService.mark("".concat(e,"_load_stop")),this.performanceService.measure("".concat(e,"_load_time"),"".concat(e,"_load_start"),"".concat(e,"_load_stop"))}}function il(e){return"background:".concat(e,"; color:#FFF; padding:3px; margin:3px; border-radius:5px; line-height: 15px;")}function nl(e){switch(e){case"debug":return il("#49A0CC");case"info":return il("#61A172");case"warn":return il("#FFC300");case"error":return il("#C70039")}}function al(e){switch(e){case"AdPipeline":return il("#74ABC6");case"GAM":return il("#BA0E5F");case"Faktor CMP":return il("#9374C6");case"MoliGlobal":return il("#403073");case"Prebid":return il("#4357AD");case"AdVisibilityService":return il("#d5ba3c");case"UserActivityService":return il("#19ad0e");case"Adex DMP":return il("#003E74");default:return il("#052E53")}}function ol(){return{debug(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];console.debug("%c[DEBUG]%c".concat(e,"%c").concat(t),nl("debug"),al(e),"",...i)},info(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];console.info("%c[INFO]%c".concat(e,"%c").concat(t),nl("info"),al(e),"",...i)},warn(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];console.warn("%c[WARN]%c".concat(e,"%c").concat(t),nl("warn"),al(e),"",...i)},error(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];console.error("%c[ERROR]%c".concat(e,"%c").concat(t),nl("error"),al(e),"",...i)}}}function sl(e,t){return function(e){var t=Xc(e.location.search).get("moliDebug");return!!t&&"true"===t.toLowerCase()}(t)?ol():e&&e.logger?e.logger:{debug:r=()=>{},info:r,warn:r,error:console.error};var r}class dl{constructor(e){this.logger=e,this.setLogger=e=>{this.logger=e}}debug(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.logger.debug(e,...r)}error(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.logger.error(e,...r)}info(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.logger.info(e,...r)}warn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.logger.warn(e,...r)}}function cl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ul=(e,t,r,i)=>{var n=e.slots.find((e=>e.domId===t));if(n){var a=ll(ll({},n),{},{domId:r});return ll(ll({},e),{},{slots:[...e.slots,a]})}return sl(e,i).error("MoliGlobal","no infinite ad slot configured!",e),e},pl=e=>({moduleType:e.moduleType,name:e.name,description:e.description,config:e.config()});function gl(e){return e.reduce(((e,t)=>e.concat(t)),[])}function fl(e,t,r){return r.indexOf(e)===t}function ml(e){return null!=e}class vl{constructor(e,t,r){this.labelSizeConfig=e,this.extraLabels=t,this.window=r;var i=e.filter((e=>r.matchMedia(e.mediaQuery).matches));this.isValid=0===e.length||!(e.length>0&&0===i.length);var n=gl(i.map((e=>e.labelsSupported)));this.supportedLabels=[...n,...t].filter(fl)}filterSlot(e){var t,r,i=!0;return this.supportedLabels.length&&null!==(t=e.labelAll)&&void 0!==t&&t.length&&(i=e.labelAll.every((e=>this.supportedLabels.indexOf(e)>-1))),!this.supportedLabels.length||!e.labelAny||null!==(r=e.labelAll)&&void 0!==r&&r.length||(i=e.labelAny.some((e=>this.supportedLabels.indexOf(e)>-1))),i}getSupportedLabels(){return this.supportedLabels}getDeviceLabel(){return this.getSupportedLabels().indexOf("desktop")>-1?"desktop":"mobile"}}var hl=Lc.status.EventStatus,bl=Lc.status.CmpStatus,yl=[Lc.responses.TCPurpose.STORE_INFORMATION_ON_DEVICE,Lc.responses.TCPurpose.SELECT_BASIC_ADS,Lc.responses.TCPurpose.CREATE_PERSONALISED_ADS_PROFILE,Lc.responses.TCPurpose.SELECT_PERSONALISED_ADS,Lc.responses.TCPurpose.CREATE_PERSONALISED_CONTENT_PROFILE,Lc.responses.TCPurpose.SELECT_PERSONALISED_CONTENT,Lc.responses.TCPurpose.MEASURE_AD_PERFORMANCE,Lc.responses.TCPurpose.MEASURE_CONTENT_PERFORMANCE,Lc.responses.TCPurpose.APPLY_MARKET_RESEARCH,Lc.responses.TCPurpose.DEVELOP_IMPROVE_PRODUCTS],_l=e=>{if(e){var[t,r,i]=e.split(".").reverse();switch("".concat(r,".").concat(t)){case"co.uk":case"com.br":return"".concat(i,".").concat(r,".").concat(t);default:return r?"".concat(r,".").concat(t):t}}};function wl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wl(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Sl=e=>{var[t,r,...i]=e.split("/"),[n,...a]=r.split(",");return 0===a.length?e:["",n,...i].join("/")},El=(e,t)=>{var r=/([A-Za-z0-9\_]+)/g,i=e.match(/[^{]+(?=})/g);return t&&i?(i.forEach((e=>{if(!e.match(r))throw new SyntaxError('invalid variable "'.concat(e,'" in path'));if(!t[e])throw new ReferenceError('path variable "'.concat(e,'" is not defined'))})),e.replace(new RegExp(Object.keys(t).map((e=>"{".concat(e,"}"))).join("|"),"g"),(e=>t[e.substr(1,e.length-2)]))):e},Al=Lc.responses.TCPurpose,Ol=(e,t)=>(Object.defineProperty(t,"name",{value:e}),t),kl=(e,t)=>(Object.defineProperty(t,"name",{value:e}),t),Tl=(e,t)=>{Object.defineProperty(t,"name",{value:e});var r=0;return kl(e,((e,i)=>r!==e.requestAdsCalls?(r=e.requestAdsCalls,t(e,i)):Promise.resolve()))},Cl=(e,t)=>(Object.defineProperty(t,"name",{value:e}),kl(e,((e,r)=>1===e.requestAdsCalls&&1===e.requestId?t(e,r):Promise.resolve()))),Pl=(e,t,r)=>{var i=Object.assign(r,{priority:t});return Object.defineProperty(r,"name",{value:e}),i},xl=(e,t)=>(Object.defineProperty(t,"name",{value:e}),t);class Rl{constructor(e,t,r,i){this.config=e,this.logger=t,this.window=r,this.reportingService=i,this.init=null,this.tcData=null,this.requestId=0,this.runPrepareRequestAds=(e,t)=>{var r=new Map;return this.config.prepareRequestAds.forEach((e=>{var t=r.get(e.priority);t?t.push(e):r.set(e.priority,[e])})),Array.from(r.entries()).sort(((e,t)=>{var[r]=e,[i]=t;return r>i?-1:1})).reduce(((r,i)=>{var[n,a]=i;return r.then((()=>(e.logger.debug("AdPipeline",e.requestId,"run prepareRequestAds with priority ".concat(n)),Promise.all(a.map((r=>r(e,t)))))))}),Promise.resolve(void 0))}}run(e,t,r,i){if(0===e.length)return Promise.resolve();this.requestId=this.requestId+1;var n=this.requestId;this.logger.debug("AdPipeline","starting run with requestId ".concat(n," on ").concat(r,". call"),e);var a=t.consent||{};return this.tcData=this.tcData?this.tcData:((e,t,r,i)=>("test"===i&&r.info("gdprApplies is set to false in test mode!"),"test"===i||!1===e.enabled?Promise.resolve({gdprApplies:!1,eventStatus:hl.TC_LOADED,cmpStatus:bl.LOADED,cmpId:0,cmpVersion:0,tcfPolicyVersion:void 0,listenerId:null}):new Promise(((i,n)=>{t.__tcfapi?t.__tcfapi("addEventListener",2,(a=>{"error"===a.cmpStatus?n(a):"useractioncomplete"!==a.eventStatus&&"tcloaded"!==a.eventStatus||(r.debug("Consent","consent ready",a),e.disableLegitimateInterest&&(e=>!!e.gdprApplies&&yl.some((t=>!e.purpose.consents[t]&&e.purpose.legitimateInterests[t])))(a)?n("user consent is missing for some purposes"):i(a),a.listenerId&&t.__tcfapi("removeEventListener",2,(()=>{}),a.listenerId))})):n("window.__tcfapi is not defined. Make sure that the stub code is inlined in the head tag")}))))(a,this.window,this.logger,t.environment),this.tcData.then((a=>{var o,s,d,c=[...(null===(o=t.targeting)||void 0===o?void 0:o.labels)||[]];a.gdprApplies&&a.purpose.consents[Al.STORE_INFORMATION_ON_DEVICE]?c.push("purpose-1"):a.gdprApplies||c.push("purpose-1");var l,u,p,g=new vl(t.labelSizeConfig||[],c,this.window),f=i&&null!==(s=t.buckets)&&void 0!==s&&s.bucket&&t.buckets.bucket[i]?t.buckets.bucket[i]:null,m=(l=this.window.location.hostname,u=g.getDeviceLabel(),p=null===(d=t.targeting)||void 0===d?void 0:d.adUnitPathVariables,Il(Il({},{device:u,domain:t.domain||_l(l)||"unknown"}),p)),v={requestId:n,requestAdsCalls:r,logger:this.logger,env:t.environment||"production",config:t,labelConfigService:g,reportingService:this.reportingService,window:this.window,tcData:a,bucket:f,adUnitPathVariables:m};this.init=this.init?this.init:this.logStage("init",n).then((()=>Promise.all(this.config.init.map((e=>e(v))))));var h="rejected-no-slots-after-filtering";return this.init.then((()=>this.logStage("configure",n).then((()=>Promise.all(this.config.configure.map((t=>t(v,e)))))))).then((()=>this.logStage("defineSlots",n).then((()=>this.config.defineSlots(v,e))))).then((e=>e.length?this.logStage("prepareRequestAds",n).then((()=>this.runPrepareRequestAds(v,e))).then((()=>this.logStage("requestBids",n))).then((()=>Promise.all(this.config.requestBids.map((t=>t(v,e)))))).then((()=>this.logStage("requestAds",n))).then((()=>this.config.requestAds(v,e))):Promise.reject(h))).catch((e=>e===h?Promise.resolve():(this.logger.error("AdPipeline","running ad pipeline failed with error",e),Promise.reject(e))))}))}logStage(e,t){return new Promise((r=>{this.logger.debug("AdPipeline",t,"stage: ".concat(e)),r()}))}}class Dl{constructor(e,t,r,i,n){this.performanceService=e,this.config=t,this.logger=r,this.env=i,this.window=n,this.slotRenderEndedEvent={},this.adUnitRegex=t.adUnitRegex||/\/\d*\//i;try{this.pageRequestId=this.uuidv4(),this.isSample=Math.random()<=t.sampleRate,r.debug("AdPerformanceService","isSample ".concat(this.isSample," (").concat(t.sampleRate,") | pageRequestId ").concat(this.pageRequestId))}catch(e){this.pageRequestId="00000000-0000-0000-0000-000000000000",this.isSample=!1,r.error("[ReportingService] Initializing failed",e)}}static getSingleMeasurementMetricMeasureName(e){switch(e){case"cmpLoad":return"cmp_load_time";case"dfpLoad":return"dfp_load_time";case"prebidLoad":return"prebid_load_time";case"a9Load":return"a9_load_time";case"ttfa":return"dfp_time_to_first_ad";case"ttfr":return"dfp_time_to_first_render"}}initialize(e){this.performanceService.mark("dfp_load_start"),this.measureAndReportFirstAdRenderTime(),this.measureAndReportFirstAdLoadTime(),this.initAdSlotMetrics()}markRefreshed(e){this.performanceService.mark("".concat(this.minimalAdUnitName(e.adUnitPath),"_refreshed"))}markPrebidSlotsRequested(e){this.performanceService.mark("prebid_requested_".concat(e))}measureAndReportPrebidBidsBack(e){var t=Dl.getSingleMeasurementMetricMeasureName("prebidLoad");this.performanceService.measure("".concat(t,"_").concat(e),"prebid_requested_".concat(e),"prebid_bids_back_".concat(e)),1===e&&this.performanceService.measure(t,"prebid_requested_".concat(e),"prebid_bids_back_".concat(e));var r=this.performanceService.getMeasure("".concat(t,"_").concat(e));r&&this.report({type:"prebidLoad",pageRequestId:this.pageRequestId,measurement:r})}markA9fetchBids(e){this.performanceService.mark("a9_requested_".concat(e))}measureAndReportA9BidsBack(e){var t=Dl.getSingleMeasurementMetricMeasureName("a9Load");this.performanceService.measure("".concat(t,"_").concat(e),"a9_requested_".concat(e),"a9_bids_back_".concat(e));var r=this.performanceService.getMeasure("".concat(t,"_").concat(e));1===e&&this.performanceService.measure(t,"a9_requested_".concat(e),"a9_bids_back_".concat(e)),r&&this.report({type:"a9Load",pageRequestId:this.pageRequestId,measurement:r})}markCmpInitialization(){this.performanceService.mark("cmp_load_start")}measureCmpLoadTime(){var e=Dl.getSingleMeasurementMetricMeasureName("cmpLoad");this.performanceService.mark("cmp_load_end"),this.performanceService.measure(e,"cmp_load_start","cmp_load_end");var t=this.performanceService.getMeasure(e);t&&this.report({type:"cmpLoad",pageRequestId:this.pageRequestId,measurement:t})}shouldTrack(){return this.isSample}report(e){this.shouldTrack()&&this.config.reporters.forEach((t=>t(e)))}measureAndReportFirstAdRenderTime(){switch(this.env){case"production":new Promise((e=>{var t=!1;this.window.googletag.pubads().addEventListener("slotRenderEnded",(()=>{t||(e(),t=!0)}))})).then((()=>{var e=Dl.getSingleMeasurementMetricMeasureName("ttfr");this.performanceService.measure(e,"dfp_load_start","dfp_time_to_first_render_end");var t=this.performanceService.getMeasure(e);t&&this.report({type:"ttfr",pageRequestId:this.pageRequestId,measurement:t})}));break;case"test":this.logger.warn("ReportingService","In test environment no time-to-first-render will be reported")}}measureAndReportFirstAdLoadTime(){switch(this.env){case"production":new Promise((e=>{var t=!1;this.window.googletag.pubads().addEventListener("slotOnload",(()=>{t||(e(),t=!0)}))})).then((()=>{var e=Dl.getSingleMeasurementMetricMeasureName("ttfa");this.performanceService.measure(e,"dfp_load_start","dfp_time_to_first_ad_end");var t=this.performanceService.getMeasure(e);t&&this.report({type:"ttfa",pageRequestId:this.pageRequestId,measurement:t})}));break;case"test":this.logger.warn("In test environment no time-to-first-loads will be reported")}}initAdSlotMetrics(){this.window.googletag.pubads().addEventListener("slotRenderEnded",(e=>{var t=this.minimalAdUnitName(e.slot.getAdUnitPath());this.performanceService.measure("".concat(t,"_rendered"),"dfp_load_start","".concat(t,"_rendered")),this.slotRenderEndedEvent[e.slot.getSlotElementId()]=e})),this.window.googletag.pubads().addEventListener("slotOnload",(e=>{var t=this.minimalAdUnitName(e.slot.getAdUnitPath());this.performanceService.mark("".concat(t,"_content_loaded")),this.performanceService.measure("".concat(t,"_render_content_loaded"),"".concat(t,"_rendered"),"".concat(t,"_content_loaded")),this.performanceService.measure("".concat(t,"_content_loaded_total"),"dfp_load_start","".concat(t,"_content_loaded"));var r=this.slotRenderEndedEvent[e.slot.getSlotElementId()],i=this.performanceService.getMeasure("".concat(t,"_rendered")),n=this.performanceService.getMeasure("".concat(t,"_render_content_loaded")),a=this.performanceService.getMeasure("".concat(t,"_content_loaded_total")),o=this.performanceService.getMark("".concat(t,"_refreshed"));if(a&&n&&i&&o&&r){delete this.slotRenderEndedEvent[e.slot.getSlotElementId()];var s={type:"adSlot",pageRequestId:this.pageRequestId,adUnitName:t,advertiserId:r.advertiserId,campaignId:r.campaignId,lineItemId:r.lineItemId||r.sourceAgnosticLineItemId,refresh:o,rendered:i,rendering:n,loaded:a};this.report(s)}}))}minimalAdUnitName(e){return e.replace(this.adUnitRegex,"")}reportAdSlotsMetric(e){var t={type:"adSlots",numberAdSlots:e.length,numberEmptyAdSlots:e.filter((e=>e.isEmpty)).length};return this.report(t),e}uuidv4(){return"crypto"in this.window&&"getRandomValues"in this.window.crypto?([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^this.window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}}var jl={initialize:()=>{},markRefreshed:()=>{},markPrebidSlotsRequested:()=>{},measureAndReportPrebidBidsBack:()=>{},markA9fetchBids:()=>{},measureAndReportA9BidsBack:()=>{},markCmpInitialization:()=>{},measureCmpLoadTime:()=>{}},Nl=(e,t)=>e[0]===t[0]&&e[1]===t[1];class Ul{constructor(e,t,r){this.sizeConfig=e,this.supportedLabels=t,this.window=r,this.filterSupportedSizes=e=>this.isValid?0===this.supportedSizes.length?e:this.supportedSizes.filter((t=>e.some((e=>"fluid"===t?"fluid"===e:"fluid"!==e&&Nl(e,t))))):[],this.areLabelsMatching=(e,t)=>(!e.labelAll||e.labelAll.every((e=>t.some((t=>t===e)))))&&(!e.labelNone||!e.labelNone.some((e=>t.some((t=>t===e)))));var i=0!==e.length?e.filter((e=>r.matchMedia(e.mediaQuery).matches&&this.areLabelsMatching(e,t))):[];this.isValid=0===e.length||!(e.length>0&&0===i.length),this.supportedSizes=gl(i.map((e=>e.sizesSupported))).map((e=>JSON.stringify(e))).filter(fl).map((e=>JSON.parse(e)))}static isFixedSize(e){return"fluid"!==e}filterSlot(e){return!e.sizes||0===e.sizes.length||this.filterSupportedSizes(e.sizes).length>0}}var Bl="moli-env",Ml=e=>"moli-test-slot-size-".concat(e),ql=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:localStorage;try{return t.getItem(e)}catch(r){return ol().debug("Could not read value with key ".concat(e," from browser storage"),t),null}},zl=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage;try{r.setItem(e,t)}catch(i){ol().debug("Could not set key ".concat(e," with value ").concat(t," to browser storage"),r)}},Ll=e=>"".concat(e,"__container"),Vl=e=>e.map((e=>{var t=document.getElementById(Ll(e.moliSlot.domId));return t?{slot:e,container:t}:void 0})).filter(ml),Fl=e=>e.filterSupportedSizes(e.moliSlot.sizes).filter(Ul.isFixedSize).filter((e=>{var[t,r]=e;return t>1&&r>1})),Hl=(e,t)=>{var r=Gl(e);if(r&&("hidden"===r||Wl(t,r)))return r;var i=Math.floor(Math.random()*t.length);return 0===t.length?[300,250]:t[i]},Zl=(e,t)=>zl(Ml(e.domId),JSON.stringify(t)),Gl=e=>{var t=ql(Ml(e.domId));if(t)try{var r=JSON.parse(t);return(e=>"hidden"===e||Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1])(r)?r:void 0}catch(e){return}},Kl=(e,t)=>{var[r,i]=e,[n,a]=t;return r===n&&i===a},Wl=(e,t)=>e.some((e=>Kl(e,t))),Jl=Lc.responses.TCPurpose,Xl=(e,t)=>({setCollapseEmptyDiv(){},addService(e){},getSlotElementId:()=>e,getAdUnitPath:()=>t,setTargeting(e,t){return this},getTargeting:e=>[],getTargetingKeys:()=>[],clearTargeting(e){},getResponseInformation:()=>null}),Yl=(e,t)=>{var r,i=t?t.keyValues:{},n=null!==(r=null==t?void 0:t.adManagerExcludes)&&void 0!==r?r:[];Object.keys(i).filter((e=>!n.includes(e))).forEach((t=>{var r=i[t];r&&e.googletag.pubads().setTargeting(t,r)}))},Ql=e=>!e.gdprApplies||e.vendor.consents[755]&&e.purpose.consents[Jl.STORE_INFORMATION_ON_DEVICE]&&[Jl.SELECT_BASIC_ADS,Jl.MEASURE_AD_PERFORMANCE,Jl.APPLY_MARKET_RESEARCH,Jl.DEVELOP_IMPROVE_PRODUCTS].every((t=>e.purpose.consents[t]||e.purpose.legitimateInterests[t])),$l=e=>{var t;return kl("gpt-configure",((r,i)=>(t||(t=new Promise((t=>{var i=e.environment||"production";switch(r.logger.debug("GAM","configure googletag"),i){case"production":Yl(r.window,e.targeting),r.window.googletag.pubads().enableAsyncRendering(),r.window.googletag.pubads().disableInitialLoad(),r.window.googletag.pubads().enableSingleRequest();var n=!Ql(r.tcData);return r.logger.debug("GAM","use limited ads",n),r.window.googletag.pubads().setPrivacySettings({limitedAds:n}),r.window.googletag.enableServices(),void t();case"test":return r.window.googletag.enableServices(),void t()}}))),t)))},eu=()=>(e,t)=>new Promise((r=>{switch(e.logger.debug("GAM","requestAds"),e.env){case"test":((e,t)=>{var r=((e,t)=>(t.forEach((t=>{var{adSlot:r,moliSlot:i}=t,n=Ll(i.domId),a=document.createElement("div");a.id=n;var o=document.getElementById(i.domId);o&&o.setAttribute("data-google-query-id","test"),((e,t)=>{var r=e.getSlotElementId(),i=document.getElementById(r);i&&(i.innerHTML=t)})(r,a.outerHTML),e.logger.debug("GAM","Set content for slot: [DomID] ".concat(i.domId," [AdUnitPath] ").concat(i.adUnitPath))})),Vl(t)))(e,t);r.forEach((e=>{var{slot:t,container:r}=e;r.innerHTML="",r.appendChild((e=>{var t=Fl(e),r=Hl(e.moliSlot,t);if("hidden"===r)return document.createElement("div");var i=document.createElement("div"),[n,a]=r;i.style.cssText="\n      position: relative; display: inline-flex; flex-direction: column; align-items: center; justify-content: center;\n      width: ".concat(n,"px; height: ").concat(a,"px; padding: 6px; border: 2px dotted gray; background-color: #fff;\n      background-image: linear-gradient(90deg, transparent 79px, #abced4 79px, #abced4 81px, transparent 81px), linear-gradient(#eee .1em, transparent .1em);\n      background-size: 100% 1.2em; box-sizing: border-box;\n    ");var o=document.createElement("h4");o.innerHTML="<strong>".concat(e.moliSlot.domId,"</strong>"),i.appendChild(o);var s=document.createElement("span");s.style.color="#656565";var d=e=>{var[t,r]=e;return s.innerText="(".concat(t,"x").concat(r,")")};d([n,a]),o.appendChild(s);var c=document.createElement("div");c.style.cssText="position: absolute; top: 5px; left: 5px",i.appendChild(c);var l=(t,r)=>{if("hidden"===t)i.style.display="none";else{var[n,a]=t;i.style.width="".concat(n,"px"),i.style.height="".concat(a,"px"),d(t),m(r)}Zl(e.moliSlot,t)},u="1px dotted white",p="1px solid black",g=document.createElement("button");g.innerText="hide",g.title="Once hidden, it can only be restored using the moli console (or by clearing local storage manually)",g.style.cssText="font-size: 10px; background: #656565; color: white; width: auto important!; border: ".concat(u,";"),g.addEventListener("click",(()=>l("hidden",g)));var f=[...t.map((e=>{var[t,i]=e,n=Kl(r,e),a=document.createElement("button");return a.innerText="".concat(t,"x").concat(i),a.style.cssText="font-size: 10px; background: #00a4a6; color: white; width: auto important!; border: ".concat(n?p:u,";"),a.addEventListener("click",(()=>l(e,a))),a})),g];f.forEach((e=>c.appendChild(e)));var m=e=>{f.forEach((e=>e.style.border=u)),e.style.border=p};return i})(t))}))})(e,t);break;case"production":e.window.googletag.pubads().refresh(t.map((e=>e.adSlot))),t.forEach((t=>{var{moliSlot:r}=t;return e.reportingService.markRefreshed(r)}));var i=t.map((e=>{var{moliSlot:t}=e;return"[DomID] ".concat(t.domId," [AdUnitPath] ").concat(t.adUnitPath)})).join("\n");e.logger.debug("GAM","Refresh ".concat(t.length," slot(s):\n").concat(i))}r()}));function tu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ru(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var iu=(e,t)=>{var r;return ru(ru({},e),{},{ext:ru(ru({},e.ext),{},{prebid:ru(ru({},null===(r=e.ext)||void 0===r?void 0:r.prebid),{},{storedrequest:t})})})};function nu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function au(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ou=e=>new Promise(((t,r)=>{e.window.setTimeout((()=>r("Prebid did not resolve in time. Maybe you forgot to import the prebid distribution in the ad tag")),5e3)})),su=e=>new Promise((t=>{e.pbjs=e.pbjs||{que:[]},e.pbjs.que.push(t)})),du=e=>!!e.moliSlot.prebid,cu=(e,t)=>{var r;return e?t((r=e,r&&2===r.length&&"number"==typeof r[0]&&"number"==typeof r[1]?[e]:e)).filter(Ul.isFixedSize):[]};function lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pu=Lc.responses.TCPurpose,gu=e=>!!e.moliSlot.a9,fu=e=>!e.gdprApplies||e.vendor.consents[793]&&[pu.STORE_INFORMATION_ON_DEVICE,pu.SELECT_BASIC_ADS,pu.CREATE_PERSONALISED_ADS_PROFILE,pu.SELECT_PERSONALISED_ADS,pu.MEASURE_AD_PERFORMANCE,pu.APPLY_MARKET_RESEARCH,pu.DEVELOP_IMPROVE_PRODUCTS].every((t=>e.purpose.consents[t]));class mu{constructor(e,t){this.logger=e,this.window=t,this.isInitialized=!1,this.adSlots={},this.passbackKeyValue="passback",this.passbackOriginKeyValue="passbackOrigin",this.findAdSlot=e=>e.adUnitPath?this.adSlots[e.adUnitPath]:e.domId?this.adSlots[e.domId]:void 0}addAdSlot(e){this.isInitialized||(this.isInitialized=!0,this.initMessageListener()),this.adSlots[e.moliSlot.domId]=e,this.adSlots[e.moliSlot.adUnitPath]=e}initMessageListener(){this.logger.debug("Passback Service","Add message listener"),this.window.addEventListener("message",(e=>{var t=this.parseMessageData(e.data);if(t){this.logger.debug("Passback Service","Received passback message",t);var r=this.findAdSlot(t);r&&(this.logger.debug("Passback Service","Process passback for ad slot"),r.adSlot.setTargeting(this.passbackKeyValue,"true"),r.adSlot.setTargeting(this.passbackOriginKeyValue,t.passbackOrigin),this.window.googletag.pubads().refresh([r.adSlot]),delete this.adSlots[r.moliSlot.domId],delete this.adSlots[r.moliSlot.adUnitPath])}}))}parseMessageData(e){if("string"==typeof e)try{var t=JSON.parse(e);return"passback"===t.type&&t.passbackOrigin&&(t.domId||t.adUnitPath)?t:null}catch(e){return null}return null}}class vu{constructor(e,t,r){this.assetService=e,this.window=t,this.adPipelineConfig=r,this.requestAdsCalls=0,this.adPipeline=new Rl({init:[()=>Promise.reject("AdPipeline not initialized yet")],configure:[],defineSlots:()=>Promise.resolve([]),prepareRequestAds:[],requestBids:[],requestAds:()=>Promise.resolve()},ol(),this.window,jl),this.initialize=(e,t)=>{var r=vu.getEnvironment(e),i=e.adServer||"gam",n="gam"===i;this.logger.setLogger(sl(e,this.window)),this.logger.debug("AdService","Initializing with environment ".concat(r," and ad server ").concat(i));var a,o,s=n&&e.reporting&&e.reporting.sampleRate>0?new Dl(tl(this.window),e.reporting,this.logger,r,this.window):jl,d=n?[(a=this.assetService,Ol("gpt-init",(e=>(o||(o=new Promise((t=>{e.logger.debug("GAM","init googletag stub"),e.window.googletag=e.window.googletag||{},e.window.googletag.cmd=e.window.googletag.cmd||[],e.window.googletag.cmd.push(t),a.loadScript({name:"gpt",loadMethod:el.TAG,assetUrl:Ql(e.tcData)?"https://securepubads.g.doubleclick.net/tag/js/gpt.js":"https://pagead2.googlesyndication.com/tag/js/gpt.js"})}))),o))))]:[],c=n?[$l(e)]:[];n&&t&&c.push(Tl("gpt-destroy-ad-slots",(e=>new Promise((t=>{e.logger.debug("GAM","destroy all ad slots"),e.window.googletag.destroySlots(),t()})))),Tl("gpt-reset-targeting",(e=>new Promise((t=>{"production"===e.env&&(e.logger.debug("GAM","reset top level targeting"),e.window.googletag.pubads().clearTargeting(),Yl(e.window,e.config.targeting)),t()})))));var l,u=[];n&&u.push(Pl("gpt-device-label-keyValue",10,(e=>new Promise((t=>{var r=e.labelConfigService.getDeviceLabel();e.logger.debug("GAM",'adding "device_label" key-value with values',r),e.window.googletag.pubads().setTargeting("device_label",r),t()})))),Pl("gpt-consent-keyValue",10,(e=>new Promise((t=>{var r=e.tcData,i=!r.gdprApplies||[Jl.STORE_INFORMATION_ON_DEVICE,Jl.SELECT_BASIC_ADS,Jl.CREATE_PERSONALISED_ADS_PROFILE,Jl.SELECT_PERSONALISED_ADS,Jl.CREATE_PERSONALISED_CONTENT_PROFILE,Jl.SELECT_PERSONALISED_CONTENT,Jl.MEASURE_AD_PERFORMANCE,Jl.MEASURE_CONTENT_PERFORMANCE,Jl.APPLY_MARKET_RESEARCH,Jl.DEVELOP_IMPROVE_PRODUCTS].every((e=>r.purpose.consents[e]));e.window.googletag.pubads().setTargeting("consent",i?"full":"none"),t()})))),(l=new mu(this.logger,this.window),Pl("passback-prepare-slots",10,((e,t)=>new Promise((r=>{t.filter((e=>e.moliSlot.passbackSupport)).forEach((t=>{e.logger.debug("passback","add passback support for slot",t.moliSlot.domId),l.addAdSlot(t)})),r()})))))),e.reporting&&u.push((e=>Pl("reporting-enabled",100,((t,r)=>(1===t.requestId&&(t.logger.debug("Reporting","initialize reporting",r),e.initialize(r.map((e=>e.moliSlot)))),Promise.resolve()))))(s));var p=[];if(e.prebid&&"production"===r&&(d.push(Ol("prebid-init",(e=>Promise.race([su(e.window),ou(e)])))),c.push(((e,t)=>{var r,i=e=>({validation:"relaxed",config:{ver:"1.0",complete:1,nodes:e}});return kl("prebid-configure",((n,a)=>(r||(r=new Promise((r=>{e.bidderSettings&&(n.window.pbjs.bidderSettings=e.bidderSettings),n.window.pbjs.setConfig(au(au(au({},e.config),{schain:i([t.supplyChainStartNode])}),{floors:e.config.floors||{}})),e.schain.nodes.forEach((e=>{var{bidder:r,node:a,appendNode:o}=e,s=[t.supplyChainStartNode];o&&s.push(a),n.window.pbjs.setBidderConfig({bidders:[r],config:{schain:i(s)}},!0)})),n.window.pbjs.registerSignalSources(),r()}))),r)))})(e.prebid,e.schain)),t&&c.push(kl("prebid-remove-adunits",(e=>new Promise((t=>{e.window.pbjs=e.window.pbjs||{que:[]};var r=e.window.pbjs.adUnits;r&&(e.logger.debug("Prebid","Destroying prebid adUnits",r),r.forEach((t=>e.window.pbjs.removeAdUnit(t.code)))),t()}))))),u.push((e=>Pl("prebid-prepare-adunits",10,((t,r)=>new Promise((i=>{var n=t.labelConfigService.getSupportedLabels(),a=t.labelConfigService.getDeviceLabel(),o=r.filter(du).map((r=>{var{moliSlot:i,priceRule:o,filterSupportedSizes:s}=r,d=t.config.targeting,c=d&&d.keyValues?d.keyValues:{},l=o?o.floorprice:void 0,u=o?{floors:{currency:e.config.currency.adServerCurrency,schema:{delimiter:"|",fields:["mediaType"]},values:{"*":o.floorprice}}}:null;return t.logger.debug("Prebid",t.requestId,"Price Rule",o,i.domId,u),((e,t)=>{if("function"==typeof t){var r=t(e);return Array.isArray(r)?r:[r]}return Array.isArray(t)?t:[t]})({keyValues:c,floorPrice:l,priceRule:o,labels:n,isMobile:"mobile"===a},i.prebid).map((e=>{var r,n,a,o,d=e.adUnit.mediaTypes.banner,c=e.adUnit.mediaTypes.video,l=e.adUnit.mediaTypes.native,p=d?s(d.sizes).filter(Ul.isFixedSize):[],g=c?cu(c.playerSize,s):[],f=e.adUnit.bids.filter((e=>t.labelConfigService.filterSlot(e))).map((e=>({bidder:e.bidder,params:e.params}))),m=!(g.length>0)||null!=c&&c.w||null!=c&&c.h?{}:{w:g[0][0],h:g[0][1]},v=c?{video:au(au({},c),{},{playerSize:0===g.length?void 0:g},m)}:void 0,h=d&&p.length>0?{banner:au(au({},d),{},{sizes:p})}:void 0,b=l?{native:au({},l)}:void 0,y=au(au({},e.adUnit.pubstack),{},{adUnitPath:El((null===(r=e.adUnit.pubstack)||void 0===r?void 0:r.adUnitPath)||i.adUnitPath,t.adUnitPathVariables)}),_=null===(n=e.adUnit.ortb2Imp)||void 0===n||null===(a=n.ext)||void 0===a||null===(o=a.prebid)||void 0===o?void 0:o.storedrequest,w=_&&_.id?au(au({},_),{},{id:El(_.id,t.adUnitPathVariables)}):null;return au(au(au(au({},e.adUnit),_&&w&&{ortb2Imp:iu(e.adUnit.ortb2Imp,w)}),{},{code:e.adUnit.code||i.domId},e.adUnit.pubstack?{pubstack:y}:{}),{},{mediaTypes:au(au(au({},v),h),b),bids:f},u)})).filter((e=>e.bids.length>0&&e.mediaTypes&&(e.mediaTypes.banner||e.mediaTypes.video||e.mediaTypes.native)&&!((e,t)=>!!t.pbjs.adUnits&&t.pbjs.adUnits.some((t=>e.code===t.code)))(e,t.window)))})),s=o.reduce(((e,t)=>[...e,...t]),[]);s.forEach((e=>{t.logger.debug("Prebid",t.requestId,"Prebid add ad unit: [Code] ".concat(e.code),e)})),t.window.pbjs.addAdUnits(s),i()})))))(e.prebid)),p.push(((e,t,r)=>xl("prebid-request-bids",((i,n)=>new Promise((a=>{var o,s=n.filter(du).map((e=>e.moliSlot.domId));if(0===s.length)return i.logger.debug("Prebid","skip request bids. All slots were filtered.",n.map((e=>e.moliSlot))),a();var d=!1;i.logger.debug("Prebid","Prebid request bids: \n\t\t\t".concat(s.join("\n\t\t\t"))),i.reportingService.markPrebidSlotsRequested(i.requestId),i.window.pbjs.requestBids({adUnitCodes:s,timeout:null===(o=i.bucket)||void 0===o?void 0:o.timeout,bidsBackHandler:(o,c,l)=>{i.logger.info("Prebid",l,o,n.map((e=>e.moliSlot.domId)));try{if(d)return void i.logger.warn("Prebid","ad server request already sent [".concat(i.requestId,"]"),l,n.map((e=>e.moliSlot)));if(!o)return i.logger.warn("Prebid","Undefined bid response map for ad unit codes: ".concat(s.join(", "))),a();if(d=!0,i.reportingService.measureAndReportPrebidBidsBack(i.requestId),"gam"===t){if(e.listener){var u=r&&r.keyValues?r.keyValues:{},p="function"==typeof e.listener?e.listener({keyValues:u}):e.listener;if(p.preSetTargetingForGPTAsync)try{p.preSetTargetingForGPTAsync(o,c,n)}catch(e){i.logger.error("Prebid","Failed to execute prebid preSetTargetingForGPTAsync listener. ".concat(e))}}i.window.pbjs.setTargetingForGPTAsync(s)}s.forEach((e=>{var t=o[e];t?i.logger.debug("Prebid",l,"Prebid bid response: [DomID]: ".concat(e," \n\t\t\t").concat(t.bids.map((e=>"[bidder] ".concat(e.bidder," [width] ").concat(e.width," [height] ").concat(e.height," [cpm] ").concat(e.cpm))))):i.logger.debug("Prebid",l,"Prebid bid response: [DomID] ".concat(e," ---\x3e no bid response"))})),a()}catch(e){i.logger.error("Prebid","DfpService:: could not resolve bidsBackHandler"+JSON.stringify(e)),a()}}})})))))(e.prebid,i,e.targeting))),e.a9&&"production"===r&&n&&(d.push(((e,t)=>Ol("a9-init",(r=>new Promise((i=>{r.window.apstag=r.window.apstag||{_Q:[],init:function(){r.window.apstag._Q.push(["i",arguments])},fetchBids:function(){r.window.apstag._Q.push(["f",arguments])},setDisplayBids:function(){},targetingKeys:function(){},dpa:function(){r.window.apstag._Q.push(["di",arguments])},rpa:function(){r.window.apstag._Q.push(["ri",arguments])},upa:function(){r.window.apstag._Q.push(["ui",arguments])}},fu(r.tcData)&&t.loadScript({name:"A9",loadMethod:el.TAG,assetUrl:e.scriptUrl?e.scriptUrl:"//c.amazon-adsystem.com/aax2/apstag.js"}),i()})))))(e.a9,this.assetService)),c.push(((e,t)=>kl("a9-configure",((r,i)=>new Promise((i=>{r.window.apstag.init({pubID:e.pubID,adServer:"googletag",bidTimeout:e.timeout,gdpr:{cmpTimeout:e.cmpTimeout},schain:{complete:1,ver:"1.0",nodes:[t.supplyChainStartNode,e.schainNode]}}),i()})))))(e.a9,e.schain)),c.push((e=>Cl("a9-publisher-audiences",((t,r)=>new Promise((r=>{var i=e.publisherAudience;if(i&&i.enabled){var n={hashedRecords:[{type:"email",record:i.sha256Email}]};if(t.logger.debug("A9","Enable publisher audiences"),t.window.apstag.rpa(n),t.window.__tcfapi){var a=!0;t.window.__tcfapi("addEventListener",2,(e=>{a?a=!1:e.eventStatus===Lc.status.EventStatus.USER_ACTION_COMPLETE&&(t.logger.debug("A9","Update publisher audience token"),t.window.apstag.upa(n))}))}}r()})))))(e.a9)),u.push(Pl("a9-clear-targeting",10,((e,t)=>0===e.requestId?(e.logger.debug("A9","skip ad slot clearing for first pipeline run"),Promise.resolve()):new Promise((r=>{e.logger.debug("A9","clear a9 targetings"),t.forEach((e=>{var{adSlot:t}=e;t.getTargetingKeys().filter((e=>"amznp"===e||"amznsz"===e||"amznbid"===e)).forEach((e=>t.clearTargeting(e)))})),r()}))))),p.push((e=>xl("a9-fetch-bids",((t,r)=>new Promise((i=>{if(!fu(t.tcData))return t.logger.debug("A9","Skip any due to missing consent"),void i();var n,a=r.filter(gu).filter((e=>{var r="video"===e.moliSlot.a9.mediaType,i=t.labelConfigService.filterSlot(e.moliSlot.a9),n=e.filterSupportedSizes(e.moliSlot.sizes).filter(Ul.isFixedSize).length>0;return i&&(r||n)})).map((r=>{var{moliSlot:i,priceRule:n,filterSupportedSizes:a}=r;if("video"===i.a9.mediaType)return{slotID:i.domId,mediaType:"video"};var o,s,d,c,l,u,p,g,f=e.supportedSizes?i.sizes.filter((t=>{var r;return null===(r=e.supportedSizes)||void 0===r?void 0:r.some((e=>Nl(e,t)))})):i.sizes,m=(d=i.adUnitPath,c=null!==(o=i.a9.slotNamePathDepth)&&void 0!==o?o:e.slotNamePathDepth,l=t.adUnitPathVariables,p=Sl(d),g=c?(u=c,p.split("/").slice(0,u+1).join("/")):p,El(g,l));return uu({slotID:i.domId,slotName:m,sizes:a(f).filter(Ul.isFixedSize)},e.enableFloorPrices&&n?{floor:{value:Math.ceil(null!==(s=t.window.pbjs)&&void 0!==s&&s.convertCurrency?100*t.window.pbjs.convertCurrency(n.floorprice,"EUR",e.floorPriceCurrency||"USD"):100*n.floorprice*1.19),currency:e.floorPriceCurrency||"USD"}}:{})}));t.logger.debug("A9","Fetch '".concat(a.length,"' A9 slots: ").concat(a.map((e=>"[slotID] ".concat(e.slotID))))),0===a.length?i():(t.reportingService.markA9fetchBids(t.requestId),t.window.apstag.fetchBids(uu({slots:a},(null===(n=t.bucket)||void 0===n?void 0:n.timeout)&&{bidTimeout:t.bucket.timeout}),(e=>{t.reportingService.measureAndReportA9BidsBack(t.requestId),t.window.apstag.setDisplayBids(),i()})))})))))(e.a9))),e.pipeline&&(d.push(...e.pipeline.initSteps),c.push(...e.pipeline.configureSteps),u.push(...e.pipeline.prepareRequestAdsSteps)),"test"===r){var g=(e=>Number(ql("moli-debug-delay",e.localStorage))||void 0)(this.window);g&&c.push((()=>((e,t)=>t?new Promise((r=>e.setTimeout(r,t))):Promise.resolve())(this.window,g)))}return this.adPipeline=new Rl({init:d,configure:c,defineSlots:n?(e,t)=>{var r=t.map((t=>{var r=new Ul(t.sizeConfig,e.labelConfigService.getSupportedLabels(),e.window),i=r.filterSupportedSizes;if(!r.filterSlot(t)||!e.labelConfigService.filterSlot(t))return Promise.resolve(null);var n=i(t.sizes),a=El(t.adUnitPath,e.adUnitPathVariables),o=e.window.googletag.pubads().getSlots().find((e=>e.getSlotElementId()===t.domId))||(()=>{if("test"===e.env)return null;var r=(()=>{switch(t.position){case"in-page":return e.window.googletag.defineSlot(a,n,t.domId);case"out-of-page":return e.window.googletag.defineOutOfPageSlot(a,t.domId);case"out-of-page-interstitial":return e.logger.debug("GAM","defined web interstitial for ".concat(a)),e.window.googletag.defineOutOfPageSlot(a,e.window.googletag.enums.OutOfPageFormat.INTERSTITIAL);case"out-of-page-bottom-anchor":return e.logger.debug("GAM","defined bottom anchor for ".concat(a)),e.window.googletag.defineOutOfPageSlot(a,e.window.googletag.enums.OutOfPageFormat.BOTTOM_ANCHOR);case"out-of-page-top-anchor":return e.logger.debug("GAM","defined top anchor for ".concat(a)),e.window.googletag.defineOutOfPageSlot(a,e.window.googletag.enums.OutOfPageFormat.TOP_ANCHOR)}})();return r&&e.window.googletag.display(r),r})();switch(e.env){case"production":var s;if(o)return o.setCollapseEmptyDiv(!1!==(null===(s=t.gpt)||void 0===s?void 0:s.collapseEmptyDiv)),o.addService(e.window.googletag.pubads()),e.logger.debug("GAM","Register slot: [DomID] ".concat(t.domId," [AdUnitPath] ").concat(t.adUnitPath)),Promise.resolve({moliSlot:t,adSlot:o,filterSupportedSizes:i});if("out-of-page-interstitial"===t.position||"out-of-page-top-anchor"===t.position||"out-of-page-bottom-anchor"===t.position)return e.logger.warn("GAM","".concat(t.position," is not supported")),Promise.resolve(null);var d="Slot: [DomID] ".concat(t.domId," [AdUnitPath] ").concat(t.adUnitPath," is already defined. You may have called requestAds() multiple times");return e.logger.error("GAM",d),Promise.reject(new Error(d));case"test":return Promise.resolve({moliSlot:t,adSlot:Xl(t.domId,t.adUnitPath),filterSupportedSizes:i});default:return Promise.reject("invalid environment: ".concat(e.config.environment))}}));return Promise.all(r).then((e=>e.filter(ml)))}:(e,t)=>{var r=t.map((t=>{var r=new Ul(t.sizeConfig,e.labelConfigService.getSupportedLabels(),e.window),i=r.filterSupportedSizes;if(!r.filterSlot(t)||!e.labelConfigService.filterSlot(t))return Promise.resolve(null);var n={getAdUnitPath:()=>t.adUnitPath};switch(e.env){case"production":case"test":return Promise.resolve({moliSlot:t,adSlot:n,filterSupportedSizes:i});default:return Promise.reject("invalid environment: ".concat(e.config.environment))}}));return Promise.all(r).then((e=>e.filter(ml)))},prepareRequestAds:u,requestBids:p,requestAds:n?eu():(e,t)=>new Promise(((t,r)=>{e.logger.debug("Prebid","start rendering");try{switch(e.env){case"test":e.logger.debug("Prebid","No test slot support yet");break;case"production":e.window.pbjs.getHighestCpmBids().filter((e=>e&&e.adId)).forEach((t=>{var r=e.window.document.getElementById(t.adUnitCode);if(r){var i,n=document.createElement("div");n.style.setProperty("border","0pt none");var a=document.createElement("iframe");a.scrolling="no",a.frameBorder="0",a.marginHeight="0",a.marginHeight="0",a.name="prebid_ads_iframe_".concat(t.adUnitCode),a.title="3rd party ad content",a.sandbox.add("allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"),a.setAttribute("aria-label","Advertisment"),a.style.setProperty("border","0"),a.style.setProperty("margin","0"),a.style.setProperty("overflow","hidden"),n.appendChild(a),r.appendChild(n);var o=null===(i=a.contentWindow)||void 0===i?void 0:i.document;o?e.window.pbjs.renderAd(o,t.adId):e.logger.error("Prebid","No access to iframe contentWindow for ad unit".concat(t.adUnitCode))}else e.logger.error("Prebid","Could not locate ad slot with id ".concat(t.adUnitCode))}))}t()}catch(e){r(e)}}))},this.logger,this.window,s),new Promise((t=>{Yc(this.window,(()=>{this.logger.debug("DOM","dom ready"),t(e)}))}))},this.requestAds=(e,t,r)=>{this.requestAdsCalls=this.requestAdsCalls+1,this.logger.info("AdService","RequestAds[".concat(this.requestAdsCalls,"]"),t);try{var i,n=e.slots.map((e=>this.isManualSlot(e)?t.some((t=>t===e.domId))?e:null:this.isInfiniteSlot(e)?r.some((t=>t.artificialDomId===e.domId))?e:null:e)).filter(ml).filter(this.isSlotAvailable);if(null!==(i=e.buckets)&&void 0!==i&&i.enabled){var a=new Map;return n.forEach((e=>{var t=e.behaviour.bucket||"default",r=a.get(t);r?r.push(e):a.set(t,[e])})),Promise.all(Array.from(a.entries()).map((t=>{var[r,i]=t;return this.logger.debug("AdPipeline","running bucket ".concat(r,", slots:"),i),this.adPipeline.run(i,e,this.requestAdsCalls).then((()=>i))}))).then(gl)}return this.adPipeline.run(n,e,this.requestAdsCalls).then((()=>n))}catch(e){return this.logger.error("AdPipeline","slot filtering failed",e),Promise.reject(e)}},this.getAdPipeline=()=>this.adPipeline,this.setLogger=e=>{this.logger.setLogger(e)},this.isManualSlot=e=>"manual"===e.behaviour.loaded,this.isInfiniteSlot=e=>"infinite"===e.behaviour.loaded,this.isSlotAvailable=e=>!!this.window.document.getElementById(e.domId)||"out-of-page-interstitial"===e.position||"out-of-page-top-anchor"===e.position||"out-of-page-bottom-anchor"===e.position,this.logger=new dl(ol()),r&&(this.adPipeline=new Rl(r,this.logger,t,jl))}static getEnvironment(e){return e.environment||"production"}refreshAdSlots(e,t){if(0===e.length)return Promise.resolve();var r=[...t.slots.filter(this.isManualSlot).filter((t=>e.some((e=>e===t.domId)))),...t.slots.filter(this.isInfiniteSlot).filter((t=>e.some((e=>e===t.domId))))];if(e.length!==r.length){var i=e.filter((e=>!r.some((t=>t.domId===e))));this.logger.warn("AdService","Trying to refresh slots that are not available",i)}return this.logger.debug("AdService","refresh ad slots",r,t.targeting),this.adPipeline.run(r,t,this.requestAdsCalls)}refreshBucket(e,t){var r;if(null===(r=t.buckets)||void 0===r||!r.enabled)return Promise.resolve();var i=t.slots.filter(this.isManualSlot).filter((t=>t.behaviour.bucket===e));return this.logger.debug("AdService","refresh ad buckets",i,t.targeting),this.adPipeline.run(i,t,this.requestAdsCalls,e)}}function hu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yu=e=>{var t=(e=>new rl(tl(e),e))(e),r=new vu(t,e),i=e,n={state:"configurable",initialize:!1,isSinglePageApp:!1,keyValues:{},labels:[],modules:[],moduleMeta:[],reporting:{reporters:[]},refreshSlots:[],refreshInfiniteSlots:[],hooks:{beforeRequestAds:[],afterRequestAds:[]},adUnitPathVariables:{}};function a(t,r){switch(n.state){case"configurable":n.keyValues[t]=r;break;case"configured":n.config.targeting?n.config.targeting.keyValues[t]=r:n.config=bu(bu({},n.config),{},{targeting:{keyValues:{[t]:r},adManagerExcludes:[]}});break;case"spa-finished":case"spa-requestAds":n.keyValues=bu({[t]:r},n.keyValues);break;default:sl(n.config,e).error("MoliGlobal","Setting key-value after configuration: ".concat(t," : ").concat(r))}}function o(t){switch(n.state){case"configurable":case"spa-requestAds":case"spa-finished":n.labels.push(t);break;case"configured":var r;null!==(r=n.config.targeting)&&void 0!==r&&r.labels?n.config.targeting.labels.push(t):n.config=bu(bu({},n.config),{},{targeting:{keyValues:n.config.targeting?n.config.targeting.keyValues:{},adManagerExcludes:n.config.targeting?n.config.targeting.adManagerExcludes:[],labels:[t]}});break;default:sl(n.config,e).error("MoliGlobal","Adding label after configure: ".concat(t))}}function s(){switch(n.state){case"configurable":return n.initialize=!0,Promise.resolve(n);case"configured":d(),c(n.config.domain);var{moduleMeta:i,isSinglePageApp:a,refreshSlots:o,refreshInfiniteSlots:s}=n,l=n.config;s.length>0&&s.forEach((t=>{l=ul(l,t.idOfConfiguredSlot,t.artificialDomId,e)})),n.modules.forEach((i=>{sl(l,e).debug("MoliGlobal","initialize ".concat(i.moduleType," module ").concat(i.name),i.config()),i.init(l,t,r.getAdPipeline)})),n.hooks&&n.hooks.beforeRequestAds&&n.hooks.beforeRequestAds.forEach((e=>e(l)));var u=n.hooks.afterRequestAds;if(a){var p=r.initialize(l,a).then((()=>l)),g={state:"spa-requestAds",configFromAdTag:n.configFromAdTag,config:l,initialized:p,href:e.location.href,labels:[],keyValues:{},adUnitPathVariables:{},hooks:n.hooks,refreshSlots:[],refreshInfiniteSlots:[],moduleMeta:i};return n=g,p.then((()=>r.requestAds(l,o,s))).then((()=>{if("spa-requestAds"===n.state&&n.href===e.location.href){r.refreshAdSlots(n.refreshSlots,n.config),u.forEach((e=>e("spa-finished")));var t=bu(bu({},n),{},{state:"spa-finished",refreshSlots:[]});return n=t,t}return"spa-finished"===n.state||"spa-requestAds"===n.state?(sl(n.config,e).debug("MoliGlobal","A previous requestAds() was slower than the following requestAds() call"),n):Promise.reject("reached invalid state [".concat(n.state,"]"))}))}return n={state:"requestAds",config:l,moduleMeta:i},r.initialize(l,a).then((e=>r.requestAds(e,o,s))).then((()=>(n={state:"finished",config:l,moduleMeta:i},u.forEach((e=>e("finished"))),Promise.resolve(n)))).catch((t=>(sl(l,e).error("MoliGlobal",t),n={state:"error",config:l,error:t,moduleMeta:i},u.forEach((e=>e("error"))),Promise.resolve(n))));case"spa-requestAds":case"spa-finished":"spa-requestAds"===n.state&&sl(n.config,e).debug("MoliGlobal","requestAds is being called while the previous requestAds() hasn't finished yet"),d(),c(n.config.domain);var{hooks:f,moduleMeta:m}=n,v=n.hooks.afterRequestAds,h=n.hooks.beforeRequestAds,b=n,{initialized:y,href:_,keyValues:w,labels:I,configFromAdTag:S}=n,E="spa-finished"===n.state?n.refreshSlots:[],A="spa-finished"===n.state?n.refreshInfiniteSlots:[];return n=bu(bu({},b),{},{state:"spa-requestAds",refreshSlots:[]}),y.then((t=>_===e.location.href?Promise.reject("You are trying to refresh ads on the same page, which is not allowed."):Promise.resolve(t))).then((e=>bu(bu({},e),{},{targeting:{keyValues:bu(bu({},S.targeting&&S.targeting.keyValues?S.targeting.keyValues:{}),w),labels:[...S.targeting&&S.targeting.labels?S.targeting.labels:[],...I],adUnitPathVariables:b.adUnitPathVariables,adManagerExcludes:S.targeting?S.targeting.adManagerExcludes:[]}}))).then((e=>(h.forEach((t=>t(e))),r.requestAds(e,E,A).then((()=>e))))).then((t=>("spa-requestAds"===n.state&&r.refreshAdSlots(n.refreshSlots,t),n={state:"spa-finished",configFromAdTag:S,config:t,initialized:y,href:e.location.href,hooks:f,labels:[],keyValues:{},adUnitPathVariables:{},refreshSlots:[],refreshInfiniteSlots:[],moduleMeta:m},v.forEach((e=>e("spa-finished"))),n)));case"requestAds":return sl(n.config,e).error("MoliGlobal","Trying to requestAds twice. Already requesting ads."),Promise.reject();case"finished":return sl(n.config,e).error("MoliGlobal","Trying to requestAds twice. Already finished."),Promise.reject();case"error":return sl(n.config,e).error("MoliGlobal","Trying to requestAds twice. Already finished, but with an error.",n.error),Promise.reject()}}function d(){var t="ABtest",r=Xc(e.location.search).get(t);a(t,(r?Number(r):Math.floor(100*Math.random())+1).toString())}function c(t){var r=t||_l(e.location.hostname);r&&o(r)}return{que:{push(e){e(i.moli)}},version:"4.7.7",setTargeting:a,addLabel:o,setLogger:function(e){switch(n.state){case"configurable":n.logger=e;break;case"configured":n.config=bu(bu({},n.config),{},{logger:e});break;default:e.error("Setting a custom logger is not allowed after configuration")}},setSampleRate:function(t){switch(n.state){case"configurable":n.reporting.sampleRate=t;break;case"configured":n.config=bu(bu({},n.config),{},{reporting:bu(bu({},n.config.reporting),{},{sampleRate:t,reporters:n.config.reporting?n.config.reporting.reporters:[]})});break;default:sl(n.config,e).error("MoliGlobal","Trying to setSampleRate. Already configured.",n.config)}},setAdUnitPathVariables:function(t){switch(n.state){case"configurable":case"spa-requestAds":case"spa-finished":n.adUnitPathVariables=t;break;case"configured":var r;n.config=bu(bu({},n.config),{},{targeting:{keyValues:n.config.targeting?n.config.targeting.keyValues:{},labels:null!==(r=n.config.targeting)&&void 0!==r&&r.labels?n.config.targeting.labels:[],adUnitPathVariables:t,adManagerExcludes:n.config.targeting?n.config.targeting.adManagerExcludes:[]}});break;default:sl(n.config,e).error("MoliGlobal","Setting unit path variables after configuration: ".concat(t))}},resolveAdUnitPath:function(t,r){var i=(r||{}).removeNetworkChildId||!1,a=El(t,function(){var t,r=_l(e.location.hostname)||"unknown";switch(n.state){case"configurable":return bu(bu({},n.adUnitPathVariables),{},{domain:r,device:"unknown"});case"configured":case"requestAds":case"spa-requestAds":case"spa-finished":case"finished":case"error":var i=new vl(n.config.labelSizeConfig||[],[],e);return bu(bu({},null===(t=n.config.targeting)||void 0===t?void 0:t.adUnitPathVariables),{},{domain:n.config.domain||r,device:i.getDeviceLabel()})}}());return i?Sl(a):a},addReporter:function(t){switch(n.state){case"configurable":n.reporting.reporters.push(t);break;case"configured":n.config=bu(bu({},n.config),{},{reporting:bu(bu({},n.config.reporting),{},{sampleRate:n.config.reporting?n.config.reporting.sampleRate:0,reporters:[...n.config.reporting?n.config.reporting.reporters:[],t]})});break;default:sl(n.config,e).error("MoliGlobal","Trying to setSampleRate. Already configured.",n.config)}},beforeRequestAds:function(t){switch(n.state){case"configurable":case"configured":n.hooks.beforeRequestAds.push(t);break;default:sl(n.config,e).error("MoliGlobal","Trying to add a hook beforeRequestAds. Already configured.",n.config)}},afterRequestAds:function(t){switch(n.state){case"configurable":case"configured":n.hooks.afterRequestAds.push(t);break;default:sl(n.config,e).error("MoliGlobal","Trying to add a hook afterRequestAds. Already configured.",n.config)}},getConfig:function(){switch(n.state){case"configurable":return null;case"configured":case"requestAds":case"spa-requestAds":case"spa-finished":case"finished":case"error":return n.config}},registerModule:function(t){if("configurable"===n.state)return n.modules.push(t),void n.moduleMeta.push(pl(t));sl(n.config,e).error("Registering a module is only allowed within the ad tag before the ad tag is configured")},configure:function(t){switch(n.state){case"configurable":var r=n.initialize,i=(e=>(e=>[{source:"queryParam",environment:Xc(e.location.search).get("moliEnv")},{source:"sessionStorage",environment:ql(Bl,e.sessionStorage)},{source:"localStorage",environment:ql(Bl,e.localStorage)}].map((e=>{var{source:t,environment:r}=e;return r&&(e=>!!["production","test"].find((t=>t===e)))(r)?{source:t,environment:r}:void 0})).filter(ml))(e)[0]||void 0)(e),a=n.modules;"queryParam"===(null==i?void 0:i.source)&&((e,t)=>{zl(Bl,e,t)})(i.environment,e.sessionStorage),n={state:"configured",configFromAdTag:t,config:bu(bu(bu({},t),i&&{environment:i.environment}),{},{targeting:{keyValues:bu(bu({},t.targeting&&t.targeting.keyValues?t.targeting.keyValues:{}),n.keyValues),labels:[...t.targeting&&t.targeting.labels?t.targeting.labels:[],...n.labels],adUnitPathVariables:n.adUnitPathVariables,adManagerExcludes:t.targeting?t.targeting.adManagerExcludes:[]},reporting:bu(bu({},t.reporting),{},{sampleRate:n.reporting.sampleRate?n.reporting.sampleRate:t.reporting&&t.reporting.sampleRate?t.reporting.sampleRate:0,reporters:[...t.reporting?t.reporting.reporters:[],...n.reporting.reporters]}),logger:n.logger||t.logger}),modules:a,moduleMeta:a.map(pl),hooks:n.hooks,isSinglePageApp:n.isSinglePageApp,refreshSlots:[...n.refreshSlots],refreshInfiniteSlots:[...n.refreshInfiniteSlots]},r&&s();break;case"configured":sl(n.config,e).error("MoliGlobal","Trying to configure moli tag twice. Already configured.",n.config);break;case"requestAds":sl(n.config,e).error("MoliGlobal","Trying to configure moli tag twice. Already requesting ads.");break;case"finished":sl(n.config,e).error("MoliGlobal","Trying to configure moli tag twice. Already finished.");break;case"error":sl(n.config,e).error("MoliGlobal","Trying to configure moli tag twice. Already finished, but with an error.",n.error)}},enableSinglePageApp:function(){switch(n.state){case"configurable":case"configured":n.isSinglePageApp=!0;break;case"spa-requestAds":case"spa-finished":break;default:sl(n.config,e).error("MoliGlobal","Trying enable single page app. Already configured.",n.config)}},requestAds:s,refreshAdSlot:function(t){var i="string"==typeof t?[t]:t;switch(n.state){case"configurable":case"configured":case"spa-requestAds":return n.refreshSlots.push(...i),Promise.resolve("queued");case"spa-finished":return n.href===e.location.href?r.refreshAdSlots(i,n.config).then((()=>"refreshed")):(n.refreshSlots.push(...i),Promise.resolve("queued"));case"finished":case"requestAds":return r.refreshAdSlots(i,n.config).then((()=>"refreshed"));default:return sl(n.config,e).error("MoliGlobal","refreshAdSlot is not allowed in state ".concat(n.state),n.config),Promise.reject("not allowed in state ".concat(n.state))}},refreshBucket:function(t){function a(e){var r=e.slots.filter((e=>e.behaviour.bucket===t));return null==r?void 0:r.map((e=>e.domId))}switch(n.state){case"configurable":var o,s=null===(o=i.moli.getConfig())||void 0===o?void 0:o.slots.filter((e=>e.behaviour.bucket===t)),d=null==s?void 0:s.map((e=>e.domId));return null!=d&&d.length?(n.refreshSlots.push(...d),Promise.resolve("queued")):Promise.reject("no configurable domIds for buckets");case"configured":var c=a(n.config);return n.refreshSlots.push(...c),Promise.resolve("queued");case"spa-requestAds":var l=a(n.config);return n.refreshSlots.push(...l),Promise.resolve("queued");case"spa-finished":if(n.href===e.location.href)return r.refreshBucket(t,n.config).then((()=>"refreshed"));var u=a(n.config);return n.refreshSlots.push(...u),Promise.resolve("queued");case"finished":case"requestAds":return r.refreshBucket(t,n.config).then((()=>"refreshed"));default:return sl(n.config,e).error("MoliGlobal","refreshAdSlot is not allowed in state ".concat(n.state),n.config),Promise.reject("not allowed in state ".concat(n.state))}return Promise.reject("no slots in buckets found")},refreshInfiniteAdSlot:function(t,i){switch(n.state){case"configurable":case"configured":case"spa-requestAds":return n.refreshInfiniteSlots.push({artificialDomId:t,idOfConfiguredSlot:i}),Promise.resolve("queued");case"spa-finished":return n.href===e.location.href?(n=bu(bu({},n),{},{config:ul(n.config,i,t,e)}),r.refreshAdSlots([t],n.config).then((()=>"refreshed"))):(n.refreshInfiniteSlots.push({artificialDomId:t,idOfConfiguredSlot:i}),Promise.resolve("queued"));case"finished":case"requestAds":return n=bu(bu({},n),{},{config:ul(n.config,i,t,e)}),r.refreshAdSlots([t],n.config).then((()=>"refreshed"));default:return sl(n.config,e).error("MoliGlobal","refreshInfiniteAdSlot is not allowed in state ".concat(n.state),n.config),Promise.reject("not allowed in state ".concat(n.state))}},getModuleMeta:function(){return n.moduleMeta},getState:function(){return n.state},openConsole:function(e){"configurable"===n.state||t.loadScript({assetUrl:e||"https://highfivve.github.io/moli-ad-tag/assets/js/moli-debug.min.js",loadMethod:el.TAG,name:"moli-debugger"})},getAssetLoaderService:function(){return t}}},_u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{url:"https://assets.h5v.eu/prebid-outstream/3/bundle.js",render:r=>wu(r,e,t),backupOnly:!0}},wu=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.renderer?e.renderer.push((()=>{var i,n;return null===(i=(n=window).outstreamPlayer)||void 0===i?void 0:i.call(n,e,t,r)})):ol().error("Can not initialize prebid outstream player, because bid.renderer is not defined")};function Iu(e){return"[object Object]"===toString.call(e)}function Su(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(!r.length)return e;var n=r.shift();if(Iu(e)&&Iu(n))for(var a in n)Iu(n[a])?(e[a]||Object.assign(e,{[a]:{}}),Su(e[a],n[a])):Array.isArray(n[a])?e[a]?Array.isArray(e[a])&&(e[a]=e[a].concat(n[a])):Object.assign(e,{[a]:n[a]}):Object.assign(e,{[a]:n[a]});return Su(e,...r)}var Eu,Au=e=>{var{currentVersion:t}=e;try{switch(typeof t){case"number":return t.toFixed();case"string":var r=Number(t);return Number.isNaN(r)?void 0:r.toFixed();default:return}}catch(e){return}},Ou={features:{},abTestCohorts:{},vertical:{platform:"gf",name:"gutefrage",domain:"gutefrage.net",fullDomain:"www.gutefrage.net"}},ku=new class{constructor(e,t){this.moduleConfig=e,this.name="zeotap",this.description="Provides Zeotap functionality (data collection and identity plus) to Moli.",this.moduleType="identity",this.gvlid=301,this.loadScriptCount=0,this.hasConsent=e=>!e.gdprApplies||e.vendor.consents[this.gvlid]&&e.purpose.consents[Lc.responses.TCPurpose.STORE_INFORMATION_ON_DEVICE]&&e.purpose.consents[Lc.responses.TCPurpose.CREATE_PERSONALISED_ADS_PROFILE]&&e.purpose.consents[Lc.responses.TCPurpose.SELECT_PERSONALISED_ADS]&&e.purpose.consents[Lc.responses.TCPurpose.CREATE_PERSONALISED_CONTENT_PROFILE]&&e.purpose.consents[Lc.responses.TCPurpose.SELECT_PERSONALISED_CONTENT]&&e.purpose.consents[Lc.responses.TCPurpose.MEASURE_AD_PERFORMANCE]&&e.purpose.consents[Lc.responses.TCPurpose.APPLY_MARKET_RESEARCH]&&e.purpose.consents[Lc.responses.TCPurpose.DEVELOP_IMPROVE_PRODUCTS],this.loadScript=e=>{var t,{mode:r,dataKeyValues:i,exclusionKeyValues:n,assetUrl:a,hashedEmailAddress:o,countryCode:s}=this.moduleConfig;if(!this.assetLoaderService)return Promise.reject("Zeotap module :: no asset loader found, module not initialized yet?");if("default"===r&&this.loadScriptCount>0)return Promise.reject("Zeotap module :: can't reload script in default mode.");var d=this.makeKeyValuesMap(null===(t=e.targeting)||void 0===t?void 0:t.keyValues);if(n.some((e=>this.isExclusionKeyValueSet(e,d))))return Promise.reject("Zeotap module :: targeting exclusions prevented loading the script.");var c=i.map((e=>this.parameterFromKeyValue(e,d))).join("&"),l=!!this.moduleConfig.hashedEmailAddress&&0===this.loadScriptCount,u=a+"&idp=".concat(l?1:0)+(c.length>0?"&".concat(c):"")+(s?"&ctry=".concat(s):"")+(o?"&z_e_sha2_l=".concat(o):"");return this.loadScriptCount++,this.assetLoaderService.loadScript({name:this.name,loadMethod:el.TAG,assetUrl:u})},this.parameterFromKeyValue=(e,t)=>{var r=t.get(e.keyValueKey);return Array.isArray(r)?"".concat(e.parameterKey,"=").concat(encodeURIComponent(r.join(","))):"".concat(e.parameterKey,"=").concat(encodeURIComponent(r||""))},this.isExclusionKeyValueSet=(e,t)=>{var r=t.get(e.keyValueKey);return Array.isArray(r)?r.indexOf(e.disableOnValue)>-1:r===e.disableOnValue},this.makeKeyValuesMap=e=>e?new Map(Object.keys(e).map((t=>[t,e[t]])).filter((e=>{var[,t]=e;return!!t}))):new Map,this.window=t}config(){return this.moduleConfig}init(e,t){this.assetLoaderService=t,this.logger=sl(e,this.window),e.pipeline=e.pipeline||{initSteps:[],configureSteps:[],prepareRequestAdsSteps:[]},"default"===this.moduleConfig.mode?e.pipeline.initSteps.push(Ol(this.name,(e=>(this.hasConsent(e.tcData)&&this.loadScript(e.config),Promise.resolve())))):e.pipeline.configureSteps.push(kl(this.name,(e=>(this.loadScript(e.config).catch((t=>e.logger.error(this.name,t))),Promise.resolve()))))}}({assetUrl:"//spl.zeotap.com/mapper.js?env=mWeb&eventType=pageview&zdid=1081",mode:"default",dataKeyValues:[{keyValueKey:"channel",parameterKey:"zcat"},{keyValueKey:"subChannel",parameterKey:"zscat"},{keyValueKey:"tags",parameterKey:"zcid"}],exclusionKeyValues:[{keyValueKey:"channel",disableOnValue:"MedicalHealth"},{keyValueKey:"channel",disableOnValue:"ReligionAndSpirituality"}]},window);class Tu{constructor(e){this.pubstackConfig=e,this.name="pubstack",this.description="prebid analytics integration",this.moduleType="reporting"}config(){return this.pubstackConfig}init(e,t){e.pipeline=e.pipeline||{initSteps:[],configureSteps:[],prepareRequestAdsSteps:[]},e.pipeline.initSteps.push(Ol("pubstack",(e=>(t.loadScript({name:"pubstack",loadMethod:el.TAG,assetUrl:"https://boot.pbstck.com/v1/tag/".concat(this.pubstackConfig.tagId)}),Promise.resolve()))))}}function Cu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}!function(e){e.BlockSkinSlot="BlockSkinSlot",e.BlockOtherSlots="BlockOtherSlots",e.NoBlocking="NoBlocking"}(Eu||(Eu={}));var Pu="gf_content_1",xu="gf_content_2",Ru="gf_content_3",Du="gf_content_4",ju="gf_content_5",Nu="gf_content_x",Uu="gf_floorad",Bu="gf_header",Mu="gf_stickyad",qu="gf_sidebar_1",zu="gf_sidebar_2",Lu="gf_sidebar_left",Vu="gf_wallpaper_pixel",Fu=new class{constructor(e,t){this.skinModuleConfig=e,this.window=t,this.name="skin",this.description="Block other ad slots if a wallpaper has won the auction",this.moduleType="prebid",this.getConfigEffect=(e,t)=>{var{trackSkinCpmLow:r}=this.skinModuleConfig,i=t[e.skinAdSlotDomId],n=t=>{var r=e.formatFilter.some((e=>{switch(e.bidder){case"justpremium":return t.bidder===zc.JustPremium&&t.format===e.format;case"dspx":return t.bidder===zc.DSPX;case"visx":return t.bidder===zc.Visx;default:return!1}}));return t.cpm>0&&r},a=gl(Object.keys(t).map((e=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({adSlotId:e},t[e]))).filter((t=>[...e.blockedAdSlotDomIds,e.skinAdSlotDomId].indexOf(t.adSlotId)>-1)).filter((e=>ml(e.bids))).map((e=>e.bids.filter((e=>!n(e))).sort(((e,t)=>t.cpm-e.cpm)).slice(0,1)))),o=a.reduce(((e,t)=>e+t.cpm),0),s=i?i.bids.filter(n).sort(((e,t)=>t.cpm-e.cpm)):[],d=s.length>0?s[0].cpm>o?Eu.BlockOtherSlots:Eu.BlockSkinSlot:Eu.NoBlocking;return this.log&&(this.log.debug(this.name,"nonSkinBids",a),this.log.debug(this.name,"skinBids",s)),r&&d===Eu.BlockSkinSlot&&(r({skin:s[0].cpm,combinedNonSkinSlots:o},e,s[0]),this.log&&this.log.debug(this.name,"trackSkinCpmLow",a)),e.enableCpmComparison?d:s.length>0?Eu.BlockOtherSlots:Eu.NoBlocking},this.selectConfig=e=>this.skinModuleConfig.configs.map((t=>({skinConfig:t,configEffect:this.getConfigEffect(t,e)}))).find((e=>{var{configEffect:t}=e;return t!==Eu.NoBlocking})),this.destroyAdSlot=e=>t=>{var r=e.map((e=>e.adSlot)).filter((e=>e.getSlotElementId()===t));this.window.googletag.destroySlots(r)},this.hideAdSlot=e=>t=>{var r=this.window.document.getElementById(t);try{r&&(e.debug("SkinModule","Set display:none for ".concat(t)),r.style.setProperty("display","none"))}catch(r){e.error("SkinModule","Couldn't set the the wallpaper div ".concat(t," to display:none;"),r)}}}config(){return this.skinModuleConfig}init(e,t){var r=sl(e,this.window);if(this.log=r,e.prebid){var i=this.skinModuleConfig.configs.reduce(((e,t)=>[...e,t.skinAdSlotDomId,...t.blockedAdSlotDomIds]),[]).filter((t=>!e.slots.some((e=>e.domId===t))));i.length>0?r.error("SkinModule","Couldn't find one or more ids in the ad slot config:",i):e.prebid.listener?r.error("SkinModule","Couldn't define prebidListener, because there was already set one."):e.prebid.listener={preSetTargetingForGPTAsync:(e,t,i)=>{var n=this.selectConfig(e);if(n){var{skinConfig:a,configEffect:o}=n;o===Eu.BlockOtherSlots?(r.debug("SkinModule","Skin configuration applied",a),a.blockedAdSlotDomIds.forEach(this.destroyAdSlot(i)),a.hideBlockedSlots&&a.blockedAdSlotDomIds.forEach(this.hideAdSlot(r)),a.hideSkinAdSlot&&this.hideAdSlot(r)(a.skinAdSlotDomId)):a.enableCpmComparison&&(r.debug("SkinModule","Skin configuration ignored because cpm was low",a),this.destroyAdSlot(i)(a.skinAdSlotDomId))}else this.skinModuleConfig.configs.filter((e=>e.destroySkinSlot)).map((e=>e.skinAdSlotDomId)).filter(fl).forEach(this.destroyAdSlot(i))}}}else r.error("SkinModule","Prebid isn't configured!")}}({trackSkinCpmLow:(e,t,r)=>{window._ubq||(window._ubq=[]),window._ubq.push(["_trackEvent","ads","skin-cpm",JSON.stringify({bidder:r.bidder,skinCpm:e.skin,combinedCpm:e.combinedNonSkinSlots}),(e.combinedNonSkinSlots-e.skin).toFixed(2),window.matchMedia("(max-width: 767px)").matches?"mobile":"desktop"])},configs:[{formatFilter:[{bidder:"appnexus"},{bidder:"appnexusAst"},{bidder:"dspx"},{bidder:"visx"},{bidder:"justpremium",format:"wp"},{bidder:"justpremium",format:"wv"}],skinAdSlotDomId:Vu,hideSkinAdSlot:!1,hideBlockedSlots:!1,blockedAdSlotDomIds:[Bu,qu,zu,Lu,Uu],enableCpmComparison:!0},{formatFilter:[{bidder:"justpremium",format:"mt"}],skinAdSlotDomId:xu,hideSkinAdSlot:!1,hideBlockedSlots:!0,blockedAdSlotDomIds:[Mu],enableCpmComparison:!1},{formatFilter:[{bidder:"justpremium",format:"ca"}],skinAdSlotDomId:Bu,hideSkinAdSlot:!1,hideBlockedSlots:!0,blockedAdSlotDomIds:[Mu],enableCpmComparison:!1}]},window),Hu=new class{constructor(e,t){this.blocklistUrlsConfig=e,this.window=t,this.name="Blocklist URLs",this.description="Blocks ad requests entirely or adds key-values for blocklistd urls",this.moduleType="policy",this.isBlocklisted=(e,t,r)=>e.urls.some((e=>{var{pattern:i,matchType:n}=e;switch(n){case"exact":return t===i;case"contains":return t.indexOf(i)>-1;case"regex":try{var a=RegExp(i).test(t);return a&&r.debug(this.name,"Url '".concat(t,"' matched pattern '").concat(i,"'")),a}catch(e){return r.error(this.name,"Invalid pattern ".concat(i),e),console.log(this.name,"Invalid pattern ".concat(i),e),!1}}}))}config(){return this.blocklistUrlsConfig}init(e,t){var r=sl(e,this.window);if("test"!==e.environment){r.debug(this.name,"Initialize module with config",this.blocklistUrlsConfig),e.pipeline=e.pipeline||{initSteps:[],configureSteps:[],prepareRequestAdsSteps:[]};var i=this.getBlocklist(this.blocklistUrlsConfig.blocklist,t,r);switch(this.blocklistUrlsConfig.mode){case"key-value":var n=this.blocklistUrlsConfig.key,a=this.blocklistUrlsConfig.isBlocklistedValue||"true";return void e.pipeline.prepareRequestAdsSteps.push(Pl("blocklist-urls",100,(()=>i().then((e=>{r.debug(this.name,"using blocklist",e),this.isBlocklisted(e,this.window.location.href,r)&&this.window.googletag.pubads().setTargeting(n,a)})))));case"block":return void e.pipeline.configureSteps.push(kl("blocklist-urls",(()=>i().then((e=>{if(r.debug(this.name,"using blocklist",e),this.isBlocklisted(e,this.window.location.href,r))return Promise.reject("blocklisted url found. Abort ad pipeline run")})))))}}else r.debug(this.name,"ad tag in test mode. Blocklist module is disabled")}getBlocklist(e,t,r){switch(e.provider){case"static":return()=>Promise.resolve(e.blocklist);case"dynamic":var i;return()=>(i||(i=this.loadConfigWithRetry(t,e.endpoint,3).catch((e=>(r.error(this.name,"Fetching blocklisted urls failed",e),{urls:[]})))),i)}}loadConfigWithRetry(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r<=0?Promise.reject(i):e.loadJson("blocklist-urls.json",t).catch((i=>new Promise((e=>setTimeout(e,100/r))).then((()=>this.loadConfigWithRetry(e,t,r-1,i)))))}}({mode:"block",blocklist:{provider:"dynamic",endpoint:"https://violations.h5v.eu/media/gutefrage.json"}},window);function Zu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Gu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class Ku{constructor(e,t){this.moduleConfig=e,this.window=t,this.description="Module for passing first party data to prebid auctions",this.moduleType="prebid",this.name="prebid-first-party-data"}config(){return this.moduleConfig}init(e,t,r){var i=sl(e,this.window);this.log=i,e.pipeline=e.pipeline||{initSteps:[],configureSteps:[],prepareRequestAdsSteps:[]},e.pipeline.configureSteps.push(kl("prebid-fpd-module-configure",(e=>Ku.setPrebidFpdConfig(e,this.config(),i))))}static setPrebidFpdConfig(e,t,r){if(e.config.prebid){var i,n=(null===(i=e.config.targeting)||void 0===i?void 0:i.keyValues)||{},a=t.gptTargetingMappings,o=e.window.pbjs.readConfig().ortb2||{},s=Su({},t.staticPrebidFirstPartyData,o);if(a){var d,c,l,u=Gu({cat:[],sectioncat:[],pagecat:[]},s.site);if(a.cat){var p,g,f,m=Ku.extractKeyValueArray(a.cat,n);null===(p=u.cat)||void 0===p||p.push(...m),null===(g=u.pagecat)||void 0===g||g.push(...m),null===(f=u.sectioncat)||void 0===f||f.push(...m)}if(a.sectionCat&&(u.sectioncat=Ku.extractKeyValueArray(a.sectionCat,n)),a.pageCat&&(u.pagecat=Ku.extractKeyValueArray(a.pageCat,n)),u.cat&&(u.cat=u.cat.filter(fl)),u.sectioncat&&(u.sectioncat=u.sectioncat.filter(fl)),u.pagecat&&(u.pagecat=u.pagecat.filter(fl)),t.iabDataProviderName||!a.iabV2&&!a.iabV3||r.error("PrebidFirstPartyDataModule","Targeting for iabV2 or iabV3 was defined, but iabDataProviderName was not configured. Data Segments will not be set."),u.content=Gu(Gu({},u.content),{},{data:null!==(d=null===(c=u.content)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.filter((e=>e.name!==t.iabDataProviderName)))&&void 0!==d?d:[]}),a.iabV2&&t.iabDataProviderName){var v,h=Ku.extractKeyValueArray(a.iabV2,n),b={name:t.iabDataProviderName,ext:{segtax:6},segment:h.map((e=>({id:e}))).filter(fl)};null===(v=u.content.data)||void 0===v||v.push(b)}if(a.iabV3&&t.iabDataProviderName){var y,_=Ku.extractKeyValueArray(a.iabV3,n),w={name:t.iabDataProviderName,ext:{segtax:7},segment:_.map((e=>({id:e}))).filter(fl)};null===(y=u.content.data)||void 0===y||y.push(w)}s.site=u}e.window.pbjs.setConfig({ortb2:s})}return Promise.resolve()}static extractKeyValueArray(e,t){var r=t[e];return r?"string"==typeof r?[r]:r:[]}}var Wu=new Ku({staticPrebidFirstPartyData:{},gptTargetingMappings:{cat:"openrtb_page_cat",iabV3:"iab_v3"},iabDataProviderName:"gutefrage.net"},window),Ju=[zc.AdaptMx,zc.Adform,zc.ImproveDigital,zc.OpenX,zc.SmartAdServer,zc.Triplelift,zc.StroeerCore],Xu=Ju.map((e=>({bidder:e}))),Yu=[{bidder:zc.AppNexusAst,appendNode:!Ju.includes(zc.AppNexusAst),node:{asi:"appnexus.com",sid:"8343",hp:1}},{bidder:zc.AppNexus,appendNode:!Ju.includes(zc.AppNexus),node:{asi:"appnexus.com",sid:"8343",hp:1}},{bidder:zc.Criteo,appendNode:!Ju.includes(zc.Criteo),node:{asi:"criteo.com",sid:"B-059178",hp:1}},{bidder:zc.IndexExchange,appendNode:!Ju.includes(zc.IndexExchange),node:{asi:"indexexchange.com",sid:"185799",hp:1}},{bidder:zc.JustPremium,appendNode:!0,node:{asi:"justpremium.com",sid:"2832",hp:1}},{bidder:zc.PubMatic,appendNode:!Ju.includes(zc.PubMatic),node:{asi:"pubmatic.com",sid:"156843",hp:1}},{bidder:zc.Rubicon,appendNode:!Ju.includes(zc.Rubicon),node:{asi:"rubiconproject.com",sid:"21406",hp:1}},{bidder:zc.Teads,appendNode:!Ju.includes(zc.Teads),node:{asi:"teads.tv",sid:"14492",hp:1}},{bidder:zc.Triplelift,appendNode:!Ju.includes(zc.Triplelift),node:{asi:"triplelift.com",sid:"10164",hp:1}},{bidder:zc.Visx,appendNode:!Ju.includes(zc.Visx),node:{asi:"yoc.com",sid:"5615",hp:1}}];const Qu=JSON.parse('{"currentVersion":591}');var $u=r.t(Qu,2),ep=(e,t,r)=>(e.abTestCohorts["gf-AB-GD-5036_criteo_storage_access"],{bidderSettings:{standard:{storageAllowed:!0}},config:{useBidCache:!0,priceGranularity:{buckets:[{precision:2,max:10,increment:.01},{precision:2,max:20,increment:.05},{precision:2,max:30,increment:.5},{precision:2,max:99,increment:1}]},bidderTimeout:2250,enableSendAllBids:!1,targetingControls:{alwaysIncludeDeals:!0,addTargetingKeys:["SOURCE","ADOMAIN"]},floors:{enforcement:{enforceJS:!1,enforcePBS:!1}},publisherDomain:window.location.origin,pageUrl:window.location.href,consentManagement:{gdpr:{rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:t},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:t},{purpose:"measurement",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:t}],cmpApi:"iab",timeout:500,allowAuctionWithoutConsent:!0}},userSync:{auctionDelay:50,syncDelay:6e3,filterSettings:{iframe:{bidders:[zc.Adagio,zc.PubMatic,zc.IndexExchange,zc.JustPremium,zc.Rubicon,zc.Visx,zc.Yieldlab],filter:"include"},image:{bidders:"*",filter:"include"}},userIds:[{name:"unifiedId",params:{partner:"732jplk"},storage:{type:"html5",name:"pbjs-unifiedid",expires:60}},{name:"criteo"},{name:"id5Id",params:{partner:435},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},{name:"identityLink",params:{pid:"12245"},storage:{type:"html5",name:"idl_env",expires:30}},{name:"sharedId",params:{pixelUrl:"/ads/sharedid",create:!1},storage:{name:"_sharedID",type:"cookie",expires:30}}],encryptedSignalSources:{sources:[{source:["id5-sync.com","adserver.org","liveramp.com","criteo.com","pubcid.org"],encrypt:!1}]},ppid:"pubcid.org"},currency:{adServerCurrency:"EUR",granularityMultiplier:1,defaultRates:{USD:{EUR:.8695652174}}},s2sConfig:[{accountId:"gutefrage",adapter:"prebidServer",endpoint:{p1Consent:"https://prebid-server.h5v.eu/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.h5v.eu/cookie_sync"},bidders:t,enabled:!0,timeout:2e3,extPrebid:{analytics:{h5v:{moliVersion:r,adTagVersion:Au($u)}}}}],improvedigital:{singleRequest:!0,usePrebidSizes:!0},rubicon:{singleRequest:!0}},schain:{nodes:Yu}}),tp="(max-width: 767px)",rp="(min-width: 468px) and (max-width: 767px)",ip="(min-width: 728px) and (max-width: 767px)",np="(min-width: 768px)",ap="(min-width: 768px)",op="(min-width: 836px)",sp="(min-width: 936px)",dp="(min-width: 1006px)",cp=[{labelsSupported:["mobile-468"],mediaQuery:rp},{labelsSupported:["mobile-728"],mediaQuery:ip},{labelsSupported:["desktop-728"],mediaQuery:ap},{labelsSupported:["desktop-800"],mediaQuery:op},{labelsSupported:["desktop-970"],mediaQuery:dp},{mediaQuery:"(min-width: 1310px)",labelsSupported:["sky-120"]},{mediaQuery:"(min-width: 1350px)",labelsSupported:["sky-160"]},{mediaQuery:"(min-width: 1424px)",labelsSupported:["sky-200"]},{mediaQuery:"(min-width: 1624px)",labelsSupported:["sky-300"]},{labelsSupported:["mobile"],mediaQuery:tp},{labelsSupported:["desktop"],mediaQuery:np}],lp=[[300,250],[320,50],[336,280],[320,480],[320,100],[300,50]],up=[300,169],pp=[605,340],gp=[[250,250],[280,180],[300,300],[300,250],[300,150],[300,100],[300,50],[320,150],[320,100],[320,50],[336,280],[372,280],[316,185],[320,250],[320,480],[320,320],[1,1]],fp=[[536,165],[605,165],[728,90],[800,250],[580,400]],mp=[...gp,...fp],vp=["fluid",...gp],hp=["fluid",...gp,...fp],bp=[[320,480],[300,250],[320,100],[320,50]],yp=[[800,250],[728,90]],_p=[{mediaQuery:tp,sizesSupported:["fluid",[100,100],[250,250],[280,180],[300,50],[300,75],[300,100],[300,150],up,[300,250],[300,300],[300,600],[316,185],[320,50],[320,75],[320,100],[320,150],[320,250],[320,480],[320,320],[1,1]]},{mediaQuery:"(min-width: 392px) and ".concat(tp),sizesSupported:[[336,280],[372,280]]},{mediaQuery:"(min-width: 677px)",sizesSupported:[[605,165],pp,[1,1]]},{mediaQuery:np,sizesSupported:["fluid",[728,90],[580,400]]},{mediaQuery:"(min-width: 836px)",sizesSupported:[[800,250]]}],wp=[[300,600],[160,600],[120,600]],Ip=[{mediaQuery:"(min-width: 1350px)",sizesSupported:[[120,600]]},{mediaQuery:"(min-width: 1360px)",sizesSupported:[[160,600]]},{mediaQuery:"(min-width: 1500px)",sizesSupported:[[300,250],[300,600]]}],Sp=(e,t)=>e?"string"==typeof e?[e]:e:t,Ep=(e,t)=>e?"string"==typeof e?e:e.join(","):t,Ap=(e,t,r)=>({bidder:zc.AppNexusAst,params:{placementId:"".concat(e),keywords:{channel:Sp(t.keyValues.channel,[""])}},labelAll:[zc.AppNexusAst,...r]}),Op=(e,t,r)=>({bidder:zc.AppNexus,params:{placementId:e,keywords:[{key:"channel",value:Sp(t.keyValues.channel,[""])}]},labelAll:[zc.AppNexus,...r]}),kp=(e,t)=>({bidder:zc.Criteo,params:{networkId:864,publisherSubId:e},labelAll:[zc.Criteo,...t]}),Tp=(e,t,r)=>({bidder:zc.DSPX,params:{placement:e,pfilter:Object.assign({},r?{injTagId:r}:{})},labelAll:[zc.DSPX,...t]}),Cp=(e,t)=>({adUnit:{pubstack:{tags:t},mediaTypes:{banner:{sizes:[[1,1]]}},bids:[Tp("1074",["autofrage"],e),Tp("1075",["computerfrage"],e),Tp("1076",["finanzfrage"],e),Tp("1078",["gutefrage","mobile"],e),Tp("1438",["gutefrage","desktop"],e),Tp("1084",["gesundheitsfrage"],e),Tp("1080",["motorradfrage"],e),Tp("1081",["reisefrage"],e),Tp("1082",["sportlerfrage"],e)]}}),Pp=(e,t)=>({bidder:zc.IndexExchange,params:{siteId:e},labelAll:[zc.IndexExchange,...t]}),xp=(e,t,r)=>({bidder:zc.JustPremium,params:{zone:e,allow:t},labelAll:[zc.JustPremium,...r]}),Rp=(e,t)=>({bidder:zc.PubMatic,params:{publisherId:"156843",adSlot:e,currency:"EUR"},labelAll:[zc.PubMatic,...t]}),Dp=(e,t,r)=>({bidder:zc.PubMatic,params:Object.assign(Object.assign({publisherId:"156843",adSlot:e,currency:"EUR"},r?{kadfloor:r.toFixed(2)}:{}),{video:{mimes:["video/mp4","video/webm","video/flv","video/ogg","video/H264"]}}),labelAll:[zc.PubMatic,...t]}),jp=zc.Teads,Np=(e,t,r)=>({bidder:jp,params:{placementId:t,pageId:e},labelAll:[zc.Teads,...r]}),Up=(e,t,r)=>({bidder:jp,params:{placementId:t,pageId:e},labelAll:[zc.Teads,...r]}),Bp=(e,t,r)=>{return{bidder:zc.Yieldlab,params:{adslotId:e,supplyId:"7103487",targeting:{channel:(i=t.keyValues.channel,i?Array.isArray(i)?i.join(""):i:"")}},labelAll:[zc.Yieldlab,...r]};var i},Mp=(e,t)=>({bidder:zc.Rubicon,params:{accountId:"21406",siteId:"297922",zoneId:e},labelAll:[zc.Rubicon,...t]}),qp=e=>e.features["GD-5131-native-ortb"]?{sendTargetingKeys:!1,ortb:{assets:[{id:1,required:1,title:{len:60}},{id:2,required:1,img:{type:3,wmin:191,hmin:100}},{id:3,required:0,img:{type:1,wmin:50,hmin:50}},{id:4,required:0,data:{type:2}},{id:5,required:0,data:{type:1}},{id:6,required:0,data:{type:12}}],privacy:1}}:{sendTargetingKeys:!1,title:{required:!0,len:60},body:{required:!1,len:300},image:{required:!0,sizes:[1200,627],aspect_ratios:[{ratio_height:100,ratio_width:191},{ratio_height:4,ratio_width:3},{ratio_height:1,ratio_width:1},{ratio_height:16,ratio_width:9},{ratio_height:5,ratio_width:3}]},cta:{required:!1},sponsoredBy:{required:!1},icon:{required:!1,sizes:[100,100],aspect_ratios:[{ratio_height:1,ratio_width:1},{ratio_height:4,ratio_width:3}]},clickUrl:{required:!1,sendId:!0},privacyIcon:{required:!1},privacyLink:{required:!1}},zp=(e,t)=>({bidder:zc.Visx,params:{uid:e},labelAll:[zc.Visx,...t]}),Lp=(e,t)=>({bidder:"orbidder",params:{accountId:"highfivve",placementId:e,keyValues:{}},labelAll:[zc.Orbidder,...t]}),Vp=(e,t)=>({bidder:"smartx",params:{tagId:"Nu68JuOWAvrbzoyrOR9a7A",publisherId:"13802",siteId:"27885",bidfloor:.3,bidfloorcur:"EUR",outstream_options:{slot:t,title:"",skipOffset:0,startOpen:"true",endingScreen:"true",desiredBitrate:800}},labelAll:[...e,"smartx"]}),Fp=(e,t)=>({bidder:zc.Invibes,params:{placementId:e,customEndpoint:"https://bid3.videostep.com/Bid/VideoAdContent"},labelAll:[zc.Invibes,...t]}),Hp=(e,t,r)=>({bidder:zc.Adagio,params:{organizationId:"1329",site:"gutefrage",pagetype:r,adUnitElementId:e,placement:t},labelAll:[zc.Adagio]}),Zp=(e,t,r,i)=>({bidder:zc.Seedtag,params:{publisherId:e,adUnitId:t,placement:r},labelAll:[...i,"mobile",zc.Seedtag]}),Gp=e=>{if(!e.priceRule||e.priceRule.main)return[];var t=e.keyValues.pbs_test,r=e.keyValues.ab_cohort,i=r?["abCohort=".concat(r)]:[],n=t?["pbsTest=".concat(t)]:[];return["uprModel=".concat(e.priceRule.model),"uprId=".concat(e.priceRule.priceRuleId),...i,...n]},Kp=e=>{var t="matchMedia"in window&&window.matchMedia(tp).matches,r=/^\/frage\/.*|^\/g\/frage\/.*/gm.test(window.location.pathname)?"default":"other";return[{domId:Bu,adUnitPath:"/33559401,22597236956/gutefrage/gf_header/{device}/{vertical}",labelAny:["mobile","desktop"],sizes:["fluid",[300,50],[300,75],[300,100],[320,50],[320,75],[320,100],[468,60],[728,90],[800,250],[900,250],[970,80],[970,90],[970,250],[1,1]],position:"in-page",behaviour:{loaded:"eager",bucket:t?"mobile-content":"page"},gpt:{collapseEmptyDiv:!1},a9:{labelAll:["a9"]},prebid:e=>[{adUnit:{pubstack:{tags:Gp(e)},mediaTypes:{banner:{sizes:[[320,100],[320,50],[300,50],[300,100],[970,250],[800,250],[728,90],[970,90],[970,80]]}},bids:[Rp("2479271",["mobile"]),Rp("2479285",["desktop"])]}},{adUnit:{pubstack:{tags:Gp(e)},mediaTypes:{banner:{sizes:[[300,50],[320,50],[300,75],[300,100],[320,75],[320,100],[468,60],[728,90],[800,250],[900,250],[970,80],[970,90],[970,250]]}},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_header/{device}/{vertical}/{domain}"}},data:{keywords:Ep(e.keyValues.channel,""),channel:Sp(e.keyValues.channel,[""])}}},bids:[Hp(Bu,"header",r),Ap(17719459,e,["mobile"]),Op(17719459,e,["mobile"]),Ap(17719478,e,["desktop"]),Op(17719478,e,["desktop"]),Pp("431317",["mobile"]),Pp("431330",["desktop"]),Mp("1499098",["mobile"]),Mp("1499128",["desktop"]),kp("gutefrage.header.mobile",["mobile"]),kp("gutefrage.header.desktop",["desktop"]),Lp("gutefrage.header.mobile",["mobile"]),Lp("gutefrage.header.desktop",["desktop"]),zp(912810,["mobile"]),Bp("9830383",e,["mobile"]),Bp("9830446",e,["desktop-800"]),...Xu]}}],sizeConfig:[{mediaQuery:tp,sizesSupported:["fluid",[300,50],[300,75],[300,100],[320,50],[320,75],[320,100],[1,1]]},{mediaQuery:rp,sizesSupported:[[468,60]]},{mediaQuery:ip,sizesSupported:[[728,90]]},{mediaQuery:ap,sizesSupported:[[1,1],[728,90]]},{mediaQuery:op,sizesSupported:[[800,250]]},{mediaQuery:sp,sizesSupported:[[900,250]]},{mediaQuery:dp,sizesSupported:[[970,80],[970,90],[970,250]]}]},{domId:Pu,adUnitPath:"/33559401,22597236956/gutefrage/gf_content_1/{device}/{vertical}",labelAny:["mobile"],sizes:[...vp,[300,600]],position:"in-page",behaviour:{loaded:"manual",bucket:"mobile-content"},gpt:{collapseEmptyDiv:!1},a9:{labelAll:["a9","mobile"]},prebid:t=>[{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:[...gp,[300,600]]}},bids:[Lp("gutefrage.content_1.mobile",["mobile"]),Bp("9830395",t,["mobile"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{native:qp(e)},bids:[Bp("14512542",t,["mobile"]),Bp("14512541",t,["desktop"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:[[300,600],...bp]}},bids:[Rp("2479272",["mobile"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:[...gp,[300,600]]},native:qp(e)},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_content_1/{device}/{vertical}/{domain}"}},data:{keywords:Ep(t.keyValues.channel,""),channel:Sp(t.keyValues.channel,[""])}}},bids:[Hp(Pu,"content_1",r),Ap(17719460,t,["mobile"]),Op(17719460,t,["mobile"]),Pp("431318",["mobile"]),Mp("1499100",["mobile"]),kp("gutefrage.content_1.mobile",["mobile"]),zp(912804,["mobile"]),Np(121330,131650,["mobile","gutefrage"]),Up(121396,131726,["mobile","gesundheitsfrage"]),Up(121428,131758,["mobile","motorradfrage"]),Up(121447,131777,["mobile","computerfrage"]),Up(121466,131803,["mobile","sportlerfrage"]),Up(121484,131821,["mobile","reisefrage"]),Up(121496,131833,["mobile","autofrage"]),...Xu]}}],sizeConfig:_p},{domId:xu,adUnitPath:"/33559401,22597236956/gutefrage/gf_content_2/{device}/{vertical}",labelAny:["mobile","desktop"],sizes:[...hp,[100,100],up,pp],position:"in-page",behaviour:{loaded:"manual",bucket:t?"mobile-content":"content"},passbackSupport:!0,gpt:{collapseEmptyDiv:!1},a9:{labelAll:["a9"]},prebid:t=>[Cp(xu,Gp(t)),{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:lp}},bids:[Pp("431319",["mobile"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:mp}},bids:[Lp("gutefrage.content_2.desktop",["desktop"]),Lp("gutefrage.content_2.mobile",["mobile"]),Bp("9830402",t,["mobile"]),Fp("invibes_gutefrage",["desktop","gutefrage"]),Fp("invibes_gutefrage2",["mobile","gutefrage"]),Fp("invibes_gesundheitsfrage",["desktop","gesundheitsfrage"]),Fp("invibes_gesundheitsfrage2",["mobile","gesundheitsfrage"]),Fp("invibes_finanzfrage",["desktop","finanzfrage"]),Fp("invibes_finanzfrage2",["mobile","finanzfrage"]),Fp("invibes_reisefrage",["desktop","reisefrage"]),Fp("invibes_reisefrage2",["mobile","reisefrage"]),Fp("invibes_sportlerfrage",["desktop","sportlerfrage"]),Fp("invibes_sportlerfrage2",["mobile","sportlerfrage"]),Fp("invibes_computerfrage",["desktop","computerfrage"]),Fp("invibes_computerfrage2",["mobile","computerfrage"]),Fp("invibes_autofrage",["desktop","autofrage"]),Fp("invibes_autofrage2",["mobile","autofrage"]),Fp("invibes_motorradfrage",["desktop","motorradfrage"]),Fp("invibes_motorradfrage2",["mobile","motorradfrage"]),Zp("5098-9593-01","29742002","inArticle",["autofrage"]),Zp("1725-9562-01","29742019","inArticle",["computerfrage"]),Zp("9939-9908-01","29742062","inArticle",["finanzfrage"]),Zp("2345-0896-01","29742196","inArticle",["gesundheitsfrage"]),Zp("6362-7352-01","29742240","inArticle",["gutefrage"]),Zp("0014-9774-01","29742258","inArticle",["motorradfrage"]),Zp("2988-1608-01","29742261","inArticle",["reisefrage"]),Zp("4102-1591-01","29742284","inArticle",["sportlerfrage"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{native:qp(e)},bids:[Bp("14512543",t,["desktop"]),Bp("14512544",t,["mobile"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:[...bp,...yp]}},bids:[Dp("2479273",[])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:[...mp,up,pp]},video:{context:"outstream",playerSize:[up,pp],mimes:["video/mp4","video/MPV","video/H264","video/webm","video/ogg"],startdelay:1,minduration:1,maxduration:30,playbackmethod:[1,3,4,6,5],placement:2,api:[1,2,3,5,6,4],protocols:[1,4,2,5,3,6,7,8],skip:1,renderer:Object.assign(Object.assign({},_u("gf_content_2")),{render:e=>wu(e,"gf_content_2")})},native:qp(e)},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_content_2/{device}/{vertical}/{domain}"}},data:{keywords:Ep(t.keyValues.channel,""),channel:Sp(t.keyValues.channel,[""])}}},bids:[Hp(xu,"content_2",r),Ap(17719462,t,["mobile"]),Op(17719462,t,["mobile"]),Ap(17719465,t,["desktop"]),Op(17719465,t,["desktop"]),Pp("431321",["desktop"]),kp("gutefrage.content_2.desktop",["desktop"]),kp("gutefrage.content_2.mobile",["mobile"]),Bp("10436117",t,["mobile"]),Bp("10436114",t,["desktop"]),Bp("9830405",t,["desktop-800"]),Mp("1499102",[]),xp("51921",["is","mt"],["mobile"]),zp(912805,["mobile"]),Up(92425,100164,["mobile","autofrage"]),Up(94001,101794,["mobile","computerfrage"]),Up(93999,101792,["mobile","finanzfrage"]),Up(93997,101790,["mobile","gesundheitsfrage"]),Up(93425,101788,["mobile","motorradfrage"]),Up(93993,101786,["mobile","reisefrage"]),Up(93990,101783,["mobile","sportlerfrage"]),Np(94073,101869,["mobile","gutefrage","Automotive"]),Np(94075,101871,["mobile","gutefrage","StyleAndFashion"]),Np(94077,101873,["mobile","gutefrage","VideoGaming"]),Np(94079,101875,["mobile","gutefrage","Travel"]),Np(94081,101877,["mobile","gutefrage","TechnologyAndComputing"]),Np(94083,101879,["mobile","gutefrage","Sports"]),Np(94085,101881,["mobile","gutefrage","Shopping"]),Np(94087,101883,["mobile","gutefrage","RealEstate"]),Np(94089,101885,["mobile","gutefrage","Pets"]),Np(94122,101919,["mobile","gutefrage","PersonalAndFinance"]),Np(94124,101921,["mobile","gutefrage","MedicalHealth"]),Np(94126,101923,["mobile","gutefrage","HomeAndGarden"]),Np(94128,101925,["mobile","gutefrage","HobbiesAndInterest"]),Np(94130,101927,["mobile","gutefrage","HealthyLiving"]),Np(94132,101929,["mobile","gutefrage","FoodAndDrink"]),Np(94134,101931,["mobile","gutefrage","FamilyAndRelationships"]),Np(94136,101933,["mobile","gutefrage","Education"]),Np(94138,101935,["mobile","gutefrage","Careers"]),Up(92425,100164,["desktop","autofrage"]),Up(94001,101794,["desktop","computerfrage"]),Up(93999,101792,["desktop","finanzfrage"]),Up(93997,101790,["desktop","gesundheitsfrage"]),Up(93995,101788,["desktop","motorradfrage"]),Up(93993,101786,["desktop","reisefrage"]),Up(93990,101783,["desktop","sportlerfrage"]),Np(94072,101868,["desktop","gutefrage","Automotive"]),Np(94074,101870,["desktop","gutefrage","StyleAndFashion"]),Np(94076,101872,["desktop","gutefrage","VideoGaming"]),Np(94078,101874,["desktop","gutefrage","Travel"]),Np(94080,101876,["desktop","gutefrage","TechnologyAndComputing"]),Np(94082,101878,["desktop","gutefrage","Sports"]),Np(94084,101880,["desktop","gutefrage","Shopping"]),Np(94086,101882,["desktop","gutefrage","RealEstate"]),Np(94088,101884,["desktop","gutefrage","Pets"]),Np(94121,101918,["desktop","gutefrage","PersonalAndFinance"]),Np(94123,101920,["desktop","gutefrage","MedicalHealth"]),Np(94125,101922,["desktop","gutefrage","HomeAndGarden"]),Np(94127,101924,["desktop","gutefrage","HobbiesAndInterest"]),Np(94129,101926,["desktop","gutefrage","HealthyLiving"]),Np(94131,101928,["desktop","gutefrage","FoodAndDrink"]),Np(94133,101930,["desktop","gutefrage","FamilyAndRelationships"]),Np(94135,101932,["desktop","gutefrage","Education"]),Np(94137,101934,["desktop","gutefrage","Careers"]),Up(94142,101939,["desktop","testfrage"]),Up(94140,101937,["mobile","testfrage"]),Vp(["mobile"],"gf_content_2"),Vp(["desktop"],"gf_content_2"),...Xu]}}],sizeConfig:_p},{domId:Ru,adUnitPath:"/33559401,22597236956/gutefrage/gf_content_3/{device}/{vertical}",labelAny:["mobile","desktop"],sizes:hp,position:"in-page",behaviour:{loaded:e.features.viewability?"manual":"eager",bucket:"content"},gpt:{collapseEmptyDiv:!1},a9:{labelAll:["a9"]},prebid:t=>[{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:lp}},bids:[Pp("431323",["mobile"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:mp}},bids:[Lp("gutefrage.content_3.desktop",["desktop"]),Lp("gutefrage.content_3.mobile",["mobile"]),Bp("9830412",t,["mobile"]),Bp("9830413",t,["desktop"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{native:qp(e)},bids:[Bp("14512546",t,["mobile"]),Bp("14512545",t,["desktop"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:[...bp,...yp]}},bids:[Rp("2479275",["mobile"]),Rp("2479276",["desktop"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:mp},native:qp(e)},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_content_3/{device}/{vertical}/{domain}"}},data:{keywords:Ep(t.keyValues.channel,""),channel:Sp(t.keyValues.channel,[""])}}},bids:[Hp(Ru,"content_3",r),Ap(17719466,t,["mobile"]),Op(17719466,t,["mobile"]),Ap(17719467,t,["desktop"]),Op(17719467,t,["desktop"]),Pp("431322",["desktop"]),Mp("1499104",[]),kp("gutefrage.content_3.desktop",["desktop"]),kp("gutefrage.content_3.mobile",["mobile"]),zp(912806,["mobile"]),Np(121330,131650,["mobile","gutefrage"]),Np(121330,131650,["desktop","gutefrage"]),Up(121396,131726,["mobile","gesundheitsfrage"]),Up(121396,131726,["desktop","gesundheitsfrage"]),Up(121413,131743,["mobile","finanzfrage"]),Up(121413,131743,["desktop","finanzfrage"]),Up(121428,131758,["mobile","motorradfrage"]),Up(121428,131758,["desktop","motorradfrage"]),Up(121447,131777,["mobile","computerfrage"]),Up(121447,131777,["desktop","computerfrage"]),Up(121466,131803,["mobile","sportlerfrage"]),Up(121466,131803,["desktop","sportlerfrage"]),Up(121484,131821,["mobile","reisefrage"]),Up(121484,131821,["desktop","reisefrage"]),Up(121496,131833,["mobile","autofrage"]),Up(121496,131833,["desktop","autofrage"]),...Xu]}}],sizeConfig:_p},{domId:Du,adUnitPath:"/33559401,22597236956/gutefrage/gf_content_4/{device}/{vertical}",labelAny:["mobile","desktop"],sizes:hp,position:"in-page",behaviour:{loaded:e.features.viewability?"manual":"eager",bucket:"content"},gpt:{collapseEmptyDiv:!1},a9:{labelAll:["a9"]},prebid:t=>[{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:lp}},bids:[Pp("431323",["mobile"]),Lp("gutefrage.content_4.desktop",["desktop"]),Bp("9830422",t,["mobile"]),Bp("9830425",t,["desktop"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{native:qp(e)},bids:[Bp("14512548",t,["mobile"]),Bp("14512547",t,["desktop"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:[...bp,...yp]}},bids:[Rp("2479277",["mobile"]),Rp("2479278",["desktop"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:mp},native:qp(e)},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_content_4/{device}/{vertical}/{domain}"}},data:{keywords:Ep(t.keyValues.channel,""),channel:Sp(t.keyValues.channel,[""])}}},bids:[Hp(Du,"content_4",r),Ap(17719468,t,["mobile"]),Op(17719468,t,["mobile"]),Ap(17719600,t,["desktop"]),Op(17719600,t,["desktop"]),Pp("431324",["desktop"]),Mp("1499106",[]),kp("gutefrage.content_4.desktop",["desktop"]),kp("gutefrage.content_4.mobile",["mobile"]),zp(912807,["mobile"]),Np(121330,131650,["mobile","gutefrage"]),Np(121330,131650,["desktop","gutefrage"]),Up(121396,131726,["mobile","gesundheitsfrage"]),Up(121396,131726,["desktop","gesundheitsfrage"]),Up(121413,131743,["mobile","finanzfrage"]),Up(121413,131743,["desktop","finanzfrage"]),Up(121428,131758,["mobile","motorradfrage"]),Up(121428,131758,["desktop","motorradfrage"]),Up(121447,131777,["mobile","computerfrage"]),Up(121447,131777,["desktop","computerfrage"]),Up(121466,131803,["mobile","sportlerfrage"]),Up(121466,131803,["desktop","sportlerfrage"]),Up(121484,131821,["mobile","reisefrage"]),Up(121484,131821,["desktop","reisefrage"]),Up(121496,131833,["mobile","autofrage"]),Up(121496,131833,["desktop","autofrage"]),...Xu]}}],sizeConfig:_p},{domId:ju,adUnitPath:"/33559401,22597236956/gutefrage/gf_content_5/{device}/{vertical}",labelAny:["mobile","desktop"],sizes:hp,sizeConfig:[..._p],position:"in-page",behaviour:{loaded:e.features.viewability?"manual":"eager",bucket:"content"},gpt:{collapseEmptyDiv:!1},a9:{labelAll:["a9"]},prebid:t=>[{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:lp}},bids:[Pp("431325",["mobile"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:mp}},bids:[Lp("gutefrage.content_5.desktop",["desktop"]),Bp("9830432",t,["mobile"]),Bp("14371531",t,["desktop"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{native:qp(e)},bids:[Bp("14370935",t,["mobile"]),Bp("14370904",t,["desktop"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:[...bp,...yp]}},bids:[Rp("2479279",["mobile"]),Rp("3242891",["desktop"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:mp},native:qp(e)},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_content_5/{device}/{vertical}/{domain}"}},data:{keywords:Ep(t.keyValues.channel,""),channel:Sp(t.keyValues.channel,[""])}}},bids:[Hp(ju,"content_5",r),Ap(17719473,t,["mobile"]),Op(17719473,t,["mobile"]),Ap(20310748,t,["desktop"]),Op(20310748,t,["desktop"]),Pp("547279",["desktop"]),Mp("1499108",[]),kp("gutefrage.content_5.desktop",["desktop"]),kp("gutefrage.content_5.mobile",["mobile"]),zp(912808,["mobile"]),Np(121330,131650,["mobile","gutefrage"]),Np(121330,131650,["desktop","gutefrage"]),Up(121396,131726,["mobile","gesundheitsfrage"]),Up(121396,131726,["desktop","gesundheitsfrage"]),Up(121413,131743,["mobile","finanzfrage"]),Up(121413,131743,["desktop","finanzfrage"]),Up(121428,131758,["mobile","motorradfrage"]),Up(121428,131758,["desktop","motorradfrage"]),Up(121447,131777,["mobile","computerfrage"]),Up(121447,131777,["desktop","computerfrage"]),Up(121466,131803,["mobile","sportlerfrage"]),Up(121466,131803,["desktop","sportlerfrage"]),Up(121484,131821,["mobile","reisefrage"]),Up(121484,131821,["desktop","reisefrage"]),Up(121496,131833,["mobile","autofrage"]),Up(121496,131833,["desktop","autofrage"]),...Xu]}}]},{domId:Nu,adUnitPath:"/33559401,22597236956/gutefrage/gf_content_x/{device}/{vertical}",labelAny:["mobile","desktop"],sizes:[...hp,[300,169]],position:"in-page",behaviour:{loaded:e.features.viewability?"manual":"eager",bucket:"content"},gpt:{collapseEmptyDiv:!1},a9:{labelAll:["a9"]},prebid:t=>[{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:mp}},bids:[Lp("gutefrage.content_x.desktop",["desktop"]),Lp("gutefrage.content_x.mobile",["mobile"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:[...bp,...yp]}},bids:[Rp("3242890",["mobile"]),Rp("3242887",["desktop"])]}},{adUnit:{pubstack:{tags:Gp(t)},mediaTypes:{banner:{sizes:[...mp,[300,169]]},native:qp(e)},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_content_x/{device}/{vertical}/{domain}"}},data:{keywords:Ep(t.keyValues.channel,""),channel:Sp(t.keyValues.channel,[""])}}},bids:[Hp(Nu,"content_x",r),Ap(19722547,t,["mobile"]),Op(19722547,t,["mobile"]),Ap(19722592,t,["desktop"]),Op(19722592,t,["desktop"]),kp("gutefrage.content_x.desktop",["desktop"]),kp("gutefrage.content_x.mobile",["mobile"]),Pp("547275",["mobile"]),Pp("547276",["desktop"]),zp(912809,["mobile"]),Bp("10970784",t,["mobile"]),Bp("10970836",t,["desktop-800"]),Mp("1783954",[]),Np(121330,131650,["mobile","gutefrage"]),Np(121330,131650,["desktop","gutefrage"]),Up(121396,131726,["mobile","gesundheitsfrage"]),Up(121396,131726,["desktop","gesundheitsfrage"]),Up(121413,131743,["mobile","finanzfrage"]),Up(121413,131743,["desktop","finanzfrage"]),Up(121428,131758,["mobile","motorradfrage"]),Up(121428,131758,["desktop","motorradfrage"]),Up(121447,131777,["mobile","computerfrage"]),Up(121447,131777,["desktop","computerfrage"]),Up(121466,131803,["mobile","sportlerfrage"]),Up(121466,131803,["desktop","sportlerfrage"]),Up(121484,131821,["mobile","reisefrage"]),Up(121484,131821,["desktop","reisefrage"]),Up(121496,131833,["mobile","autofrage"]),Up(121496,131833,["desktop","autofrage"]),...Xu]}}],sizeConfig:_p},{domId:Uu,adUnitPath:"/33559401,22597236956/gutefrage/gf_floorad/{device}/{vertical}",labelAll:["desktop"],sizes:[[1,1],[728,90],[800,225],[800,250]],position:"in-page",behaviour:{loaded:"eager",bucket:"page"},prebid:e=>({adUnit:{pubstack:{tags:Gp(e)},mediaTypes:{banner:{sizes:[[1,1],[728,90],[800,225],[800,250]]}},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_floorad/{device}/{vertical}/{domain}"}},data:{keywords:Ep(e.keyValues.channel,""),channel:Sp(e.keyValues.channel,[""])}}},bids:[Hp(Uu,"floorad",r),xp("51284",["pu","cf","fv"],["desktop"]),Ap(21248110,e,["desktop"]),Op(21248110,e,["desktop"]),Mp("2008338",["desktop"]),Bp("12217773",e,["desktop"]),Lp("gutefrage.floorad.desktop",["desktop"])]}}),sizeConfig:[{mediaQuery:np,sizesSupported:[[1,1],[728,90]]},{mediaQuery:op,sizesSupported:[[800,225],[800,250]]}]},{domId:Mu,adUnitPath:"/33559401,22597236956/gutefrage/gf_stickyad/{device}/{vertical}",labelAll:["mobile"],position:"in-page",sizes:["fluid",[320,50],[300,50],[1,1]],sizeConfig:[{mediaQuery:tp,sizesSupported:["fluid",[300,50],[320,50]]},{mediaQuery:tp,labelAll:["dspx-footer-ad"],sizesSupported:[[1,1]]},{mediaQuery:tp,labelAll:["finanzfrage"],sizesSupported:[[1,1]]}],behaviour:{loaded:"eager",bucket:"mobile-content"},a9:{labelAll:["a9","mobile"]},prebid:e=>({adUnit:{pubstack:{tags:Gp(e)},mediaTypes:{banner:{sizes:[[320,50],[300,50],[1,1]]}},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_mobile_stickyad/{device}/{vertical}/{domain}"}},data:{keywords:Ep(e.keyValues.channel,""),channel:Sp(e.keyValues.channel,[""])}}},bids:[Hp(Mu,"header",r),Ap(17719474,e,["mobile"]),Op(17719474,e,["mobile"]),Pp("431326",["mobile"]),Mp("1499112",["mobile"]),Rp("2479280",["mobile"]),kp("gutefrage.mobile_stickyad.mobile",["mobile"]),Lp("gutefrage.mobile_stickyad.mobile",["mobile"]),xp("51921",["ms","mv"],["mobile"]),zp(912811,["mobile"]),Zp("5098-9593-01","29742001","inScreen",["autofrage"]),Zp("1725-9562-01","29742017","inScreen",["computerfrage"]),Zp("9939-9908-01","29742061","inScreen",["finanzfrage"]),Zp("2345-0896-01","29742192","inScreen",["gesundheitsfrage"]),Zp("6362-7352-01","29742239","inScreen",["gutefrage"]),Zp("0014-9774-01","29742257","inScreen",["motorradfrage"]),Zp("2988-1608-01","29742260","inScreen",["reisefrage"]),Zp("4102-1591-01","29742283","inScreen",["sportlerfrage"]),Bp("9830434",e,["mobile"]),...Xu]}})},{domId:qu,adUnitPath:"/33559401,22597236956/gutefrage/gf_sidebar_1/{device}/{vertical}",labelAll:["desktop"],sizes:wp,position:"in-page",behaviour:{loaded:"eager",bucket:"page"},a9:{labelAll:["a9","desktop"]},prebid:e=>({adUnit:{pubstack:{tags:Gp(e)},mediaTypes:{banner:{sizes:wp}},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_sidebar_1/{device}/{vertical}/{domain}"}},data:{keywords:Ep(e.keyValues.channel,""),channel:Sp(e.keyValues.channel,[""])}}},bids:[Hp(qu,"sidebar_1",r),Ap(17719475,e,["desktop"]),Op(17719475,e,["desktop"]),Pp("431327",["desktop"]),Rp("2479281",["desktop"]),Mp("1499118",["desktop"]),kp("gutefrage.sidebar_1.desktop",["desktop"]),Lp("gutefrage.sidebar_1.desktop",["desktop"]),Bp("9830437",e,["desktop"]),zp(924586,["desktop"]),Np(121330,131650,["desktop","gutefrage"]),Up(121396,131726,["desktop","gesundheitsfrage"]),Up(121413,131743,["desktop","finanzfrage"]),Up(121428,131758,["desktop","motorradfrage"]),Up(121447,131777,["desktop","computerfrage"]),Up(121466,131803,["desktop","sportlerfrage"]),Up(121484,131821,["desktop","reisefrage"]),Up(121496,131833,["desktop","autofrage"]),...Xu]}}),sizeConfig:Ip},{domId:zu,adUnitPath:"/33559401,22597236956/gutefrage/gf_sidebar_2/{device}/{vertical}",labelAll:["desktop"],sizes:[...wp,[300,250]],position:"in-page",behaviour:{loaded:"eager",bucket:"page"},a9:{labelAll:["a9","desktop"]},prebid:e=>({adUnit:{pubstack:{tags:Gp(e)},mediaTypes:{banner:{sizes:[...wp,[300,250]]}},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_sidebar_2/{device}/{vertical}/{domain}"}},data:{keywords:Ep(e.keyValues.channel,""),channel:Sp(e.keyValues.channel,[""])}}},bids:[Hp(zu,"sidebar_2",r),Ap(17719477,e,["desktop"]),Op(17719477,e,["desktop"]),Pp("431329",["desktop"]),Rp("2479283",["desktop"]),Mp("1499124",["desktop"]),kp("gutefrage.sidebar_2.desktop",["desktop"]),Lp("gutefrage.sidebar_2.desktop",["desktop"]),Bp("9830440",e,["desktop"]),zp(924611,["desktop"]),Np(121330,131650,["desktop","gutefrage"]),Up(121396,131726,["desktop","gesundheitsfrage"]),Up(121413,131743,["desktop","finanzfrage"]),Up(121428,131758,["desktop","motorradfrage"]),Up(121447,131777,["desktop","computerfrage"]),Up(121466,131803,["desktop","sportlerfrage"]),Up(121484,131821,["desktop","reisefrage"]),Up(121496,131833,["desktop","autofrage"]),...Xu]}}),sizeConfig:Ip},{domId:Lu,adUnitPath:"/33559401,22597236956/gutefrage/gf_sidebar_left/{device}/{vertical}",labelAll:["desktop"],sizes:wp,position:"in-page",behaviour:{loaded:"eager",bucket:"page"},a9:{labelAll:["a9","desktop"]},prebid:e=>({adUnit:{pubstack:{tags:Gp(e)},mediaTypes:{banner:{sizes:wp}},ortb2Imp:{ext:{prebid:{storedrequest:{id:"/33559401/gutefrage/gf_sidebar_left/{device}/{vertical}/{domain}"}},data:{keywords:Ep(e.keyValues.channel,""),channel:Sp(e.keyValues.channel,[""])}}},bids:[Hp(Lu,"sidebar_left",r),Ap(17719476,e,["desktop"]),Op(17719476,e,["desktop"]),Pp("431328",["desktop"]),Rp("2479283",["desktop"]),Mp("1499120",["desktop"]),kp("gutefrage.sidebar_left.desktop",["desktop"]),Lp("gutefrage.sidebar_left.desktop",["desktop"]),Bp("9830442",e,["desktop"]),zp(924879,["desktop"]),Np(121330,131650,["desktop","gutefrage"]),Up(121396,131726,["desktop","gesundheitsfrage"]),Up(121413,131743,["desktop","finanzfrage"]),Up(121428,131758,["desktop","motorradfrage"]),Up(121447,131777,["desktop","computerfrage"]),Up(121466,131803,["desktop","sportlerfrage"]),Up(121484,131821,["desktop","reisefrage"]),Up(121496,131833,["desktop","autofrage"]),...Xu]}}),sizeConfig:[{mediaQuery:"(min-width: 1100px)",sizesSupported:["fluid",[120,600]]},{mediaQuery:"(min-width: 1200px)",sizesSupported:[[160,600]]},{mediaQuery:"(min-width: 1500px)",sizesSupported:[[300,600]]}]},{domId:Vu,adUnitPath:"/33559401,22597236956/gutefrage/gf_wallpaper_pixel/{device}/{vertical}",labelAll:["desktop"],sizes:[[1,1],[1,2]],position:"in-page",behaviour:{loaded:"eager",bucket:"page"},sizeConfig:[{mediaQuery:np,sizesSupported:[[1,1],[1,2]]}],prebid:e=>({adUnit:{pubstack:{},mediaTypes:{banner:{sizes:[[1,1]]}},bids:[Ap(26608937,e,["desktop","GD-4695-adnami-skin"]),xp("51284",["wp","wv"],["desktop"]),Tp("708",["desktop","gutefrage"]),Tp("721",["desktop","autofrage"]),Tp("722",["desktop","motorradfrage"]),Tp("723",["desktop","finanzfrage"]),Tp("724",["desktop","gesundheitsfrage"]),Tp("725",["desktop","computerfrage"]),Tp("726",["desktop","sportlerfrage"]),Tp("727",["desktop","reisefrage"]),zp(922249,["desktop"])]}})}]};window._ubq||(window._ubq=[]);window._ubq;var Wp="footer-ad-close-button",Jp="[data-ref=".concat(Wp,"]"),Xp=(e,t,r,i)=>n=>{var a=n.slot,o=e.document.body.querySelector("[data-ref=h5-footer-ad-container]"),s=e.document.getElementById(t);if(!o||!s||a.getSlotElementId()!==t||n.isEmpty||n.advertiserId&&r.includes(n.advertiserId)||e.matchMedia("(max-width: 767px)").matches)i.debug("[footer-ad]","remove footer ad container");else if(!e.document.body.querySelector(Jp)){var d=document.createElement("button");d.classList.add("h5-footer-ad-close"),d.setAttribute("aria-label","Anzeige entfernen"),d.setAttribute("data-ref",Wp),s.classList.add("h5-footer-ad"),Array.isArray(n.size)&&n.size[1]>200&&e.matchMedia("(max-height: 800px)").matches&&s.classList.add("is-shifted-bottom"),o.classList.add("h5-footer-ad-container"),o.style.setProperty("display","block"),o.appendChild(d),d.addEventListener("click",(()=>{a.getSlotElementId()===t&&o&&(e.googletag.destroySlots([a]),o.remove())}))}},Yp="[data-ref=sticky-ad]",Qp="[data-ref=sticky-ad-close]",$p=(e,t,r)=>new Promise((i=>{var n=a=>{a.slot.getSlotElementId()===e&&(a.isEmpty?(i("empty"),r.googletag.pubads().removeEventListener("slotRenderEnded",n)):a.advertiserId&&t.includes(a.advertiserId)?(i("disallowed"),r.googletag.pubads().removeEventListener("slotRenderEnded",n)):i("standard"))};r.googletag.pubads().addEventListener("slotRenderEnded",n)})),eg=(e,t)=>new Promise((r=>{var i=n=>{n.slot.getSlotElementId()===e&&(r(),t.googletag.pubads().removeEventListener("slotOnload",i))};t.googletag.pubads().addEventListener("slotOnload",i)})),tg=new class{constructor(e){this.stickyFooterAdConfig=e,this.name="sticky-footer-ads",this.description="sticky footer ad creatives",this.moduleType="creatives"}config(){return this.stickyFooterAdConfig}init(e,t){e.pipeline=e.pipeline||{initSteps:[],configureSteps:[],prepareRequestAdsSteps:[]},e.pipeline.configureSteps.push(Cl(this.name,(e=>(this.stickyFooterAdConfig.mobileStickyDomId&&((e,t,r,i,n)=>{var a=e.document.querySelector(Yp),o=e.document.querySelector(Qp);if(a&&o){if(o.addEventListener("click",(()=>{a.style.setProperty("display","none");var t=e.googletag.pubads().getSlots().find((e=>e.getSlotElementId()===i));t&&e.googletag.destroySlots([t])}),{once:!0,passive:!0}),"production"===t){var s=t=>{var[o]=t;return r.debug("mobile-sticky-ad","result ".concat(o)),"disallowed"===o?(r.debug("mobile-sticky-ad","hide mobile sticky container"),a&&a.style.setProperty("display","none"),Promise.resolve()):"standard"===o?Promise.all([$p(i,n,e),eg(i,e)]).then(s):Promise.resolve()};Promise.all([$p(i,n,e),eg(i,e)]).then(s)}}else r.warn("[mobile-sticky]","Could not find adSticky container ".concat(Yp," or closeButton ").concat(Qp),a,o)})(e.window,e.env,e.logger,this.stickyFooterAdConfig.mobileStickyDomId,this.stickyFooterAdConfig.disallowedAdvertiserIds),this.stickyFooterAdConfig.desktopFloorAdDomId&&((e,t,r,i,n)=>{"production"===t?e.googletag.pubads().addEventListener("slotRenderEnded",Xp(e,i,n,r)):Xp(e,i,n,r)({advertiserId:1,size:[728,90],isEmpty:!1,slot:{getSlotElementId:()=>i}})})(e.window,e.env,e.logger,this.stickyFooterAdConfig.desktopFloorAdDomId,this.stickyFooterAdConfig.disallowedAdvertiserIds),Promise.resolve()))))}}({mobileStickyDomId:Mu,desktopFloorAdDomId:Uu,disallowedAdvertiserIds:[4854061678,4530183984,5190595432,4944998360,5260581978]}),rg=e=>Object.fromEntries(e.sort().map((e=>[e,1]))),ig=(e,t,r)=>"number"===t?Number(e[r]):e[r],ng=(e,t,r)=>void 0===e||Number.isNaN(e)?ag(t,r):Array.isArray(e)?e.sort().join(","):e,ag=(e,t)=>(t.warn("Adex DMP","using defaultValue",e.defaultValue,"as fallback for key",e.key),"list"===e.adexValueType?e.defaultValue?rg(e.defaultValue):void 0:e.defaultValue);function og(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function sg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?og(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):og(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function cg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dg(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lg=Lc.responses.TCPurpose,ug=new class{constructor(e,t){this.moduleConfig=e,this.window=t,this.name="the-adex-dmp",this.description="Moli DMP module for The Adex.",this.moduleType="dmp",this.isLoaded=!1,this.hasRequiredConsent=e=>!e.gdprApplies||e.vendor.consents[44]&&[lg.STORE_INFORMATION_ON_DEVICE,lg.SELECT_BASIC_ADS,lg.CREATE_PERSONALISED_ADS_PROFILE,lg.SELECT_PERSONALISED_ADS,lg.CREATE_PERSONALISED_CONTENT_PROFILE,lg.SELECT_PERSONALISED_CONTENT,lg.MEASURE_AD_PERFORMANCE,lg.MEASURE_CONTENT_PERFORMANCE,lg.APPLY_MARKET_RESEARCH,lg.DEVELOP_IMPROVE_PRODUCTS].every((t=>e.purpose.consents[t]))}config(){return this.moduleConfig}init(e,t,r){var{spaMode:i}=this.config();e.pipeline=e.pipeline||{initSteps:[],configureSteps:[],prepareRequestAdsSteps:[]},i?e.pipeline.configureSteps.push(kl("DMP module setup",(e=>this.track(e,t)))):e.pipeline.initSteps.push(Ol("DMP module setup",(e=>this.track(e,t))))}track(e,t){var r,{adexCustomerId:i,adexTagId:n,spaMode:a,mappingDefinitions:o,appConfig:s}=this.config(),d=null===(r=e.config.targeting)||void 0===r?void 0:r.keyValues;if(!d)return e.logger.warn("Adex DMP","targeting key/values are empty"),Promise.resolve();var c=o.map((t=>{switch(t.adexValueType){case"map":return((e,t,r)=>{var i=e[t.key],n=ig(e,t.valueType,t.valueKey);if(!(!i||Array.isArray(i)||void 0===n&&void 0===t.defaultValue||"number"===t.valueType&&Number.isNaN(n)&&void 0===t.defaultValue)){var a=ng(n,t,r);return{[t.attribute]:{[i]:a}}}r.warn("Adex DMP","values for key ".concat(t.key,"/valueKey ").concat(t.valueKey," were empty or key was an array. Key/Value:"),i,n)})(d,t,e.logger);case"list":return((e,t,r)=>{var i=ig(e,"string",t.key);if((void 0!==i||void 0!==t.defaultValue&&0!==t.defaultValue.length)&&"number"!=typeof i){var n=((e,t,r)=>void 0===e?ag(t,r):Array.isArray(e)?rg(e):{[e]:1})(i,t,r);return{[t.attribute]:n}}r.warn("Adex DMP",'value for key "'.concat(t.key,'" was empty or number. Value:'),i)})(d,t,e.logger);default:return((e,t,r)=>{var i=ig(e,t.adexValueType,t.key);if(!(void 0===i&&void 0===t.defaultValue||"number"===t.adexValueType&&(Number.isNaN(i)&&void 0===t.defaultValue||Array.isArray(i)))){var n=ng(i,t,r);return{[t.attribute]:n}}r.warn("Adex DMP","value for key ".concat(t.key," was empty or key was an array. Value:"),i)})(d,t,e.logger)}})).filter(ml);if(0===o.length&&0===c.length&&e.logger.warn("Adex DMP","no Adex key/values produced"),this.window._adexc=this.window._adexc||[],this.window._adexc.push(["/".concat(i,"/").concat(n,"/"),"ut","_kv",[c.reduce(((e,t)=>cg(cg({},e),t)),{}),a?1:0]]),this.hasRequiredConsent(e.tcData)&&!this.isLoaded){this.isLoaded=!0;var l=ml(s)&&ml(d[s.advertiserIdKey])&&("android"===d[s.clientTypeKey]||"ios"===d[s.clientTypeKey]);if(null!=s&&s.advertiserIdKey&&l){var u,p=e.tcData.gdprApplies?e.tcData.tcString:void 0,g=d[s.advertiserIdKey];"string"==typeof g&&((e,t,r,i,n,a,o,s)=>{var d=(e=>"android"===e?"aaid":"ios"===e?"idfa":void 0)("string"==typeof n?n:n[0]),c=i.reduce(((e,t)=>sg(sg({},e),t)),{}),l=i.length?"&kv=".concat(JSON.stringify(c)):"",u=s?"&gdpr_consent=".concat(s):"";a("https://api.theadex.com/collector/v1/ifa/c/".concat(e,"/t/").concat(t,"/request?&ifa=").concat(r,"&ifa_type=").concat(d).concat(l).concat(u)).catch((e=>o.error(e)))})(i,s.adexMobileTagId?s.adexMobileTagId:n,g,c,null!==(u=d[s.clientTypeKey])&&void 0!==u?u:"",e.window.fetch,e.logger,p)}else t.loadScript({name:this.name,assetUrl:"https://dmp.theadex.com/d/".concat(i,"/").concat(n,"/s/adex.js"),loadMethod:el.TAG})}return Promise.resolve()}}({mappingDefinitions:[{adexValueType:"map",attribute:"gf_iab_cat",key:"channel",valueKey:"subChannel",defaultValue:"None",valueType:"string"},{adexValueType:"string",attribute:"gf_device_type",key:"device_type"},{adexValueType:"string",attribute:"gf_page_searchterm",key:"page_searchterm"},{adexValueType:"string",attribute:"gf_page_tag",key:"page_tag"},{adexValueType:"string",attribute:"gf_target_audience_gender",key:"target_audience_gender"},{adexValueType:"list",attribute:"gf_iab_v3",key:"iab_v3"}],spaMode:!1,adexCustomerId:"808",adexTagId:"3280"},window);class pg{constructor(e,t,r){this.yieldConfig=e,this.log=t,this.window=r,this.emptyAdUnitPriceRulesResponse={rules:{},browser:"None"},this.adUnitPricingRuleResponse=Promise.resolve(this.emptyAdUnitPriceRulesResponse),this.isEnabled=!1,this.device="mobile",this.adUnitPathVariables={}}init(e,t,r){switch(this.device=e,this.adUnitPathVariables=t,this.yieldConfig.provider){case"none":this.log.warn("YieldOptimizationService","Yield optimization is disabled!"),this.isEnabled=!1,this.adUnitPricingRuleResponse=Promise.resolve(this.emptyAdUnitPriceRulesResponse);break;case"static":this.log.warn("YieldOptimizationService","Yield optimization is static!"),this.isEnabled=!0,this.adUnitPricingRuleResponse=Promise.resolve({rules:this.yieldConfig.config.rules,browser:"None"});break;case"dynamic":this.isEnabled=!0;var i=this.yieldConfig.excludedAdUnitPaths,n=r.filter((e=>i.indexOf(e)<0)).map((e=>El(e,this.adUnitPathVariables)));this.adUnitPricingRuleResponse=this.loadConfigWithRetry(this.yieldConfig.configEndpoint,3,n).then((e=>(this.log.info("YieldOptimizationService","loaded pricing rules for device ".concat(this.device),e),e))).catch((e=>(this.log.error("YieldOptimizationService","failed to initialize service",e),this.emptyAdUnitPriceRulesResponse)));break;default:this.isEnabled=!1,this.adUnitPricingRuleResponse=Promise.reject("Unknown config provider")}return Promise.resolve()}getPriceRule(e){return this.adUnitPricingRuleResponse.then((t=>t.rules[El(e,this.adUnitPathVariables)]))}getBrowser(){return this.adUnitPricingRuleResponse.then((e=>e.browser||"None"))}setTargeting(e,t){var r=El(e.getAdUnitPath(),this.adUnitPathVariables);return this.adUnitPricingRuleResponse.then((i=>{var n=i.rules[r];return"gam"===t&&(n?(this.log.debug("YieldOptimizationService","set price rule id ".concat(n.priceRuleId," for ").concat(r,". Main traffic share ").concat(n.main,". cpm is ").concat(n.floorprice)),e.setTargeting("upr_id",n.priceRuleId.toFixed(0)),e.setTargeting("upr_model",n.model||"static"),n.main&&e.setTargeting("upr_main","true")):this.isEnabled&&this.log.warn("YieldOptimizationService","No price rule found for ".concat(r))),n}))}loadConfigWithRetry(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t<=0?Promise.reject(i):this.window.fetch(e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({device:this.device,key:"adUnitPath",adUnitPaths:r})}).then((e=>e.ok?e.json():e.text().then((t=>Promise.reject("".concat(e.statusText,": ").concat(t)))))).then((e=>"object"!=typeof e?Promise.reject("response is not an object"):null===e?Promise.reject("response is null"):this.isAdunitPricesRulesResponse(e)?this.validateRules(e.rules)?e:Promise.reject("At least one rule object was not valid"):Promise.reject("response is missing rules property"))).catch((r=>new Promise((e=>setTimeout(e,100/t))).then((()=>this.loadConfigWithRetry(e,t-1,r)))))}isAdunitPricesRulesResponse(e){return e.hasOwnProperty("rules")}isPriceRules(e){return"object"==typeof e&&null!==e}validateRules(e){return!!this.isPriceRules(e)&&Object.keys(e).every((t=>{var r=e[t];return"object"==typeof r&&null!==r&&"boolean"==typeof r.main&&"number"==typeof r.floorprice&&"number"==typeof r.priceRuleId}))}}var gg=new class{constructor(e,t){this.yieldModuleConfig=e,this.window=t,this.name="YieldOptimization",this.description="Provides floors and UPR ids",this.moduleType="yield",this.yieldOptimizationInit=e=>Ol("yield-optimization-init",(t=>{var r=t.config.slots.filter((e=>t.labelConfigService.filterSlot(e))).map((e=>e.adUnitPath)).filter(fl);return e.init(t.labelConfigService.getDeviceLabel(),t.adUnitPathVariables,r)})),this.yieldOptimizationPrepareRequestAds=e=>Pl("yield-optimization",100,((t,r)=>{t.logger.debug("YieldOptimizationService",t.requestId,"applying price rules");var i=t.config.adServer||"gam",n=r.map((t=>e.setTargeting(t.adSlot,i).then((e=>t.priceRule=e))));return Promise.all(n).then((()=>e.getBrowser())).then((e=>{"production"===t.env&&"gam"===i&&t.window.googletag.pubads().setTargeting("upr_browser",e)}))}))}config(){return this.yieldModuleConfig}init(e,t){this.log=sl(e,this.window);var r=new pg(this.yieldModuleConfig,this.log,this.window);e.pipeline=e.pipeline||{initSteps:[],configureSteps:[],prepareRequestAdsSteps:[]},e.pipeline.initSteps.push(this.yieldOptimizationInit(r)),e.pipeline.prepareRequestAdsSteps.push(this.yieldOptimizationPrepareRequestAds(r))}}({provider:"dynamic",configEndpoint:"https://yield.h5v.eu/config/gutefrage",excludedAdUnitPaths:["/33559401,22597236956/gutefrage/gf_wallpaper_pixel"]},window);function fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fg(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function hg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vg(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class bg{constructor(e,t){this.moduleConfig=e,this.name="emetriq",this.description="Provides Emetriq data collection functionality to Moli.",this.moduleType="dmp",this.gvlid="213",this.window=t}config(){return this.moduleConfig}init(e,t){e.pipeline=e.pipeline||{initSteps:[],configureSteps:[],prepareRequestAdsSteps:[]},e.pipeline.initSteps.push(Ol(this.name,(e=>{var r,i=bg.staticCustomParams(null===(r=e.config.targeting)||void 0===r?void 0:r.keyValues,this.moduleConfig.customMappingDefinition);return bg.syncDelay(e,this.moduleConfig.syncDelay).then((r=>{switch(this.moduleConfig.os){case"web":this.loadEmetriqScript(e,this.moduleConfig,r,i,t);break;case"android":case"ios":((e,t,r,i,n,a)=>{var o=((e,t)=>{var r,i=null===(r=e.config.targeting)||void 0===r?void 0:r.keyValues[t];return i?"&device_id=".concat("string"==typeof i?i:i[0]):""})(e,t.advertiserIdKey),s=e.tcData.gdprApplies?"gdpr=1&gdpr_consent=".concat(e.tcData.tcString):"gdpr=0",d=t.linkOrKeyword.link?"&link=".concat(encodeURIComponent(t.linkOrKeyword.link)):"",c=t.linkOrKeyword.keywords?"&keywords=".concat(encodeURIComponent(t.linkOrKeyword.keywords)):"",l="",u=mg(mg({},t.additionalIdentifier),r);Object.entries(u).forEach((e=>{var[t,r]=e;l+="&".concat(t,"=").concat(encodeURIComponent(r))}));var p="",g=mg(mg({},t.customKeywords),i);Object.entries(g).forEach((e=>{var[t,r]=e;p+="&".concat(t,"=").concat(encodeURIComponent(r))})),n("https://aps.xplosion.de/data?sid=".concat(t.sid).concat(o,"&os=").concat(t.os,"&app_id=").concat(t.appId).concat(c).concat(d).concat(l).concat(p,"&").concat(s)).catch((e=>a.error(e)))})(e,this.moduleConfig,r,i,e.window.fetch,e.logger)}})),Promise.resolve()})))}loadEmetriqScript(e,t,r,i,n){return"test"===e.env||e.tcData.gdprApplies&&!e.tcData.vendor.consents[this.gvlid]?Promise.resolve():(this.window._enqAdpParam=hg(hg(hg({},t._enqAdpParam),r),i),n.loadScript({name:this.name,loadMethod:el.TAG,assetUrl:"https://ups.xplosion.de/loader/".concat(t._enqAdpParam.sid,"/default.js")}))}static syncDelay(e,t){return t?"number"==typeof t?new Promise((r=>e.window.setTimeout((()=>r({})),t))):e.window.pbjs?new Promise((t=>{e.window.pbjs.que.push((()=>{var r=()=>{t(bg.prebidIdentifiers(e)),e.window.pbjs.offEvent("auctionEnd",r)};e.window.pbjs.onEvent("auctionEnd",r)}))})):(e.logger.error("emetriq","No sync delay, because window.pbjs is not defined!"),Promise.resolve({})):Promise.resolve({})}static staticCustomParams(e,t){var r=null!=e?e:{},i={};return(null!=t?t:[]).forEach((e=>{var{param:t,key:n}=e,a=r[n];a&&(i[t]="string"==typeof a?a:a.join(","))})),i}static prebidIdentifiers(e){var t={},r=e.window.pbjs.getUserIds();return r.amxId&&(t.id_amxid=r.amxId),r.idl_env&&(t.id_liveramp=r.idl_env),r.IDP&&(t.id_zeotap=r.IDP),r.pubcid&&(t.id_sharedid=r.pubcid),r.id5id&&(t.id_id5=r.id5id.uid),t}}var yg=new bg({os:"web",syncDelay:"pbjs",_enqAdpParam:{sid:29540},customMappingDefinition:[{key:"iab_v3",param:"c_iabv3ids"}]},window),_g=new class{constructor(e,t){this.moduleConfig=e,this._window=t,this.name="moli-lazy-load",this.description="Moli implementation of an ad lazy load module.",this.moduleType="lazy-load",this.initialized=!1,this.registerIntersectionObservers=e=>{var t;if(!this.initialized){this.initialized=!0,null===(t=this.logger)||void 0===t||t.debug(this.name,"initialize moli lazy load module");var r=this.moduleConfig.slots,i=this.moduleConfig.buckets,n=this.moduleConfig.infiniteSlots;r.forEach((t=>{var r=new this.window.IntersectionObserver((e=>{var t;null===(t=this.logger)||void 0===t||t.debug(this.name,"lazy-load slots called with",e),e.forEach((e=>{var t;e.isIntersecting&&(null===(t=this.logger)||void 0===t||t.debug(this.name,"Trigger ad slot with DOM ID ".concat(e.target.id)),this.window.moli.refreshAdSlot(e.target.id),r.unobserve(e.target))}))}),{root:t.options.rootId?this.window.document.getElementById(t.options.rootId):null,threshold:t.options.threshold,rootMargin:t.options.rootMargin});t.domIds.forEach((t=>{var i,n=e.slots.find((e=>e.domId===t));if(n){if("manual"!==n.behaviour.loaded){var a;null===(a=this.logger)||void 0===a||a.warn(this.name,"Lazy-load configured for slot without manual loading behaviour. ".concat(t))}else if("manual"===n.behaviour.loaded){var o=this.window.document.querySelector("#".concat(t));o&&r.observe(o)}}else null===(i=this.logger)||void 0===i||i.warn(this.name,"Lazy-load non-existing slot with domID ".concat(t))}))})),i.forEach((t=>{var r,i,n,a=new this.window.IntersectionObserver((r=>{r.forEach((r=>{var i;if(r.isIntersecting&&r.target.id===t.observedDomId)if((null===(i=e.slots.find((e=>e.domId===t.observedDomId)))||void 0===i?void 0:i.behaviour.bucket)!==t.bucket){var n;null===(n=this.logger)||void 0===n||n.warn(this.name,"".concat(t.observedDomId," doesn't belong to ").concat(t.bucket))}else{var o,s=e.slots.filter((e=>e.behaviour.bucket===t.bucket)).map((e=>e.domId));null===(o=this.logger)||void 0===o||o.debug("Refresh ".concat(t.bucket),"Trigger ad slots with DOM IDs [".concat(s.join(", "),"]")),this.window.moli.refreshBucket(t.bucket),a.unobserve(r.target)}}))}),{root:t.options.rootId?window.document.getElementById(t.options.rootId):null,threshold:t.options.threshold,rootMargin:t.options.rootMargin});if(null!==(r=e.buckets)&&void 0!==r&&r.enabled||null===(n=this.logger)||void 0===n||n.warn(this.name,"GlobalBucket config isn't enabled"),null!==(i=e.buckets)&&void 0!==i&&i.bucket&&e.buckets.bucket[t.bucket]){var o=this.window.document.querySelector("#".concat(t.observedDomId));o&&a.observe(o)}else{var s;null===(s=this.logger)||void 0===s||s.error(this.name,"Lazy-load non-existing bucket with name ".concat(t.bucket))}})),(n||[]).forEach((t=>{var r="data-h5-serial-number",i=e.slots.find((e=>"infinite"===e.behaviour.loaded));if(i){var n=new this.window.IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){var t,a,o,s=null===(t=e.target.attributes)||void 0===t||null===(a=t.getNamedItem(r))||void 0===a?void 0:a.value,d="".concat(i.domId,"-").concat(s);e.target.setAttribute("id",d),null===(o=this.logger)||void 0===o||o.debug(this.name,"Trigger ad slot with newly created DOM ID ".concat(d)),this.window.moli.refreshInfiniteAdSlot(d,i.domId),n.unobserve(e.target)}}))}),{root:t.options.rootId?this.window.document.getElementById(t.options.rootId):null,threshold:t.options.threshold,rootMargin:t.options.rootMargin});this.window.document.querySelectorAll(t.selector).forEach(((e,t)=>{e.setAttribute(r,"".concat(t+1)),e&&n.observe(e)}))}else{var a;null===(a=this.logger)||void 0===a||a.warn(this.name,"No infinite-scrolling slots configured!")}}))}},this.window=t}config(){return this.moduleConfig}init(e){this.logger=sl(e,this.window),e.pipeline=e.pipeline||{initSteps:[],configureSteps:[],prepareRequestAdsSteps:[]},e.pipeline.initSteps.push(Ol(this.name,(()=>(this.registerIntersectionObservers(e),Promise.resolve()))))}}({slots:[{domIds:[Ru,Du,ju,Nu],options:{rootMargin:"400px 0px"}}],buckets:[],infiniteSlots:[]},window);class wg{constructor(e,t,r,i,n,a,o){var s;this.userActivityService=e,this.refreshInterval=t,this.refreshIntervalOverrides=r,this.useIntersectionObserver=i,this.disableAdVisibilityChecks=n,this.window=a,this.logger=o,this.isSlotTracked=e=>this.visibilityRecords.has(e),this.removeSlotTracking=e=>{var t;null===(t=this.logger)||void 0===t||t.debug("AdVisibilityService","removing slot visibility tracking for ".concat(e.getSlotElementId()),e),this.visibilityRecords.delete(e.getSlotElementId())},this.handleGoogletagAdVisibilityChanged=e=>{var t,r=e.slot,i=this.visibilityRecordForGoogletagEvent(e);i&&(null===(t=this.logger)||void 0===t||t.debug("AdVisibilityService","Visibility of slot ".concat(r.getSlotElementId()," changed. Visible area: ").concat(e.inViewPercentage,"%")),this.updateVisibilityRecord(i,e.inViewPercentage/100))},this.updateVisibilityRecord=(e,t)=>{if(e.latestStartVisible){var r,i=this.window.performance.now()-e.latestStartVisible;null===(r=this.logger)||void 0===r||r.debug("AdVisibilityService","added ".concat(Math.round(i),"ms visibility to ").concat(e.slot.getSlotElementId())),e.durationVisibleSum+=i}var n,a;t>=this.minimalAdVisibilityRatio?(e.latestStartVisible=this.window.performance.now(),null===(n=this.logger)||void 0===n||n.debug("AdVisibilityService","ad ".concat(e.slot.getSlotElementId()," visible"))):(e.latestStartVisible=void 0,null===(a=this.logger)||void 0===a||a.debug("AdVisibilityService","ad ".concat(e.slot.getSlotElementId()," not visible")))},this.visibilityRecordForGoogletagEvent=e=>this.visibilityRecords.get(e.slot.getSlotElementId()),this.minimalAdVisibilityRatio=n?0:.5,this.visibilityRecords=new Map,i&&"IntersectionObserver"in this.window&&(this.intersectionObserver=new IntersectionObserver((e=>this.handleObservedAdVisibilityChanged(e)),{threshold:this.minimalAdVisibilityRatio})),i||this.window.googletag.pubads().addEventListener("slotVisibilityChanged",this.handleGoogletagAdVisibilityChanged),this.userActivityService.addUserActivityChangedListener((e=>this.handleUserActivityChanged(e))),this.setUpdateTimer(!0),null===(s=this.logger)||void 0===s||s.debug("AdVisibilityService","initialized")}trackSlot(e,t){var r,i=e.getSlotElementId(),n=this.window.document.getElementById(i);n&&(null===(r=this.logger)||void 0===r||r.debug("AdVisibilityService","tracking slot ".concat(e.getSlotElementId()),e),this.isSlotTracked(i)&&this.removeSlotTracking(e),this.visibilityRecords.set(e.getSlotElementId(),{slot:e,latestStartVisible:this.disableAdVisibilityChecks?this.window.performance.now():void 0,durationVisibleSum:0,refreshCallback:t}),this.intersectionObserver&&this.intersectionObserver.observe(n))}setUpdateTimer(e){e?this.visibilityUpdateTimer=this.window.setInterval((()=>this.updateAdVisibilityDuration()),wg.updateVisibilityInterval):(this.window.clearInterval(this.visibilityUpdateTimer),this.visibilityUpdateTimer=void 0)}updateAdVisibilityDuration(){this.visibilityRecords.forEach((e=>{if(e.latestStartVisible){var t,r=this.window.performance.now(),i=Math.round(r-e.latestStartVisible);e.durationVisibleSum+=i,e.latestStartVisible=r,null===(t=this.logger)||void 0===t||t.debug("AdVisibilityService","added ".concat(i,"ms visibility to ").concat(e.slot.getSlotElementId(),", now totalling at ").concat(e.durationVisibleSum,"ms"))}})),Array.from(this.visibilityRecords.values()).filter((e=>{var t=this.refreshIntervalOverrides[e.slot.getSlotElementId()]||this.refreshInterval;return e.durationVisibleSum>t})).forEach((e=>{var t;null===(t=this.logger)||void 0===t||t.debug("AdVisibilityService","refreshing ad ".concat(e.slot.getSlotElementId()," after ").concat(e.durationVisibleSum,"ms visibility")),e.latestStartVisible=this.window.performance.now(),e.durationVisibleSum=-wg.consecutiveDurationToRefresh,e.refreshCallback(e.slot)}))}handleObservedAdVisibilityChanged(e){e.forEach((e=>{var t,r=this.visibilityRecordForEntry(e);r&&(null===(t=this.logger)||void 0===t||t.debug("AdVisibilityService","Visibility of slot ".concat(r.slot.getSlotElementId()," changed. Visible area: ").concat(100*e.intersectionRatio,"%")),this.updateVisibilityRecord(r,e.intersectionRatio))}))}handleUserActivityChanged(e){this.visibilityRecords.forEach((e=>{e.latestStartVisible&&(e.latestStartVisible=this.window.performance.now())})),this.setUpdateTimer(e)}visibilityRecordForEntry(e){return this.visibilityRecords.get(e.target.id)}}wg.updateVisibilityInterval=1e3,wg.consecutiveDurationToRefresh=1500;var Ig=new Map([["strict",{userActivityDuration:1e4,userBecomingInactiveDuration:5e3}],["moderate",{userActivityDuration:12e3,userBecomingInactiveDuration:8e3}],["lax",{userActivityDuration:15e3,userBecomingInactiveDuration:12e3}]]);class Sg{constructor(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{level:"strict"},i=arguments.length>2?arguments[2]:void 0;if(this.window=e,this.userActivityLevelControl=r,this.logger=i,this.isActive=!0,this.handleUserInteraction=()=>this.userActive(),this.handleUserIdle=()=>this.userInactive(),this.handleUserBecomingIdle=()=>this.userBecomingInactive(),this.handlePageVisibilityChanged=()=>{this.window.document.hidden?this.userInactive():this.userActive()},this.listener=[],this.window.document.addEventListener("visibilitychange",this.handlePageVisibilityChanged),null===(t=this.logger)||void 0===t||t.debug("UserActivityService","initialized"),"custom"===r.level)this.userActivityDuration=r.userActivityDuration,this.userBecomingInactiveDuration=r.userBecomingInactiveDuration;else{var{userActivityDuration:n,userBecomingInactiveDuration:a}=Ig.get(r.level);this.userActivityDuration=n,this.userBecomingInactiveDuration=a}this.userActive()}addUserActivityChangedListener(e){this.listener.push(e)}userActive(){var e;this.isActive||(this.isActive=!0,this.listener.forEach((e=>e(this.isActive))),null===(e=this.logger)||void 0===e||e.debug("UserActivityService","user has become active")),Sg.observedEvents.forEach((e=>this.window.removeEventListener(e,this.handleUserInteraction))),this.userInactiveTimer&&this.window.clearTimeout(this.userInactiveTimer),this.userBecomingIdleTimer&&this.window.clearTimeout(this.userBecomingIdleTimer),this.userInactiveTimer=this.window.setTimeout(this.handleUserIdle,this.userActivityDuration),this.userBecomingIdleTimer=this.window.setTimeout(this.handleUserBecomingIdle,this.userBecomingInactiveDuration)}userInactive(){var e;this.isActive=!1,Sg.observedEvents.forEach((e=>this.window.addEventListener(e,this.handleUserInteraction))),this.listener.forEach((e=>e(this.isActive))),null===(e=this.logger)||void 0===e||e.debug("UserActivityService","user has become inactive")}userBecomingInactive(){var e;Sg.observedEvents.forEach((e=>this.window.addEventListener(e,this.handleUserInteraction))),null===(e=this.logger)||void 0===e||e.debug("UserActivityService","user will shortly become inactive")}}function Eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ag(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Eg(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Sg.observedEvents=["mousemove","touchstart","scroll","keypress"];var Og=new class{constructor(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"native-ad-reload";this.moduleConfig=e,this.window=t,this.reloadKeyValue=r,this.name="moli-ad-reload",this.description="Moli implementation of an ad reload module.",this.moduleType="ad-reload",this.refreshIntervalMs=2e4,this.requestAdsCalls=0,this.initialized=!1,this.initialize=(e,t,r)=>{"test"!==e.env?this.initialized||(e.logger.debug("AdReload","initialize moli ad reload module"),this.setupAdVisibilityService(e.config,e.window),this.setupSlotRenderListener(t,r,e.window),this.initialized=!0):e.logger.info("AdReload","disabled in environment test")},this.setupAdVisibilityService=(e,t)=>{this.adVisibilityService=new wg(new Sg(t,this.moduleConfig.userActivityLevelControl,this.logger),this.refreshIntervalMs,this.moduleConfig.refreshIntervalMsOverrides||{},!1,!!this.moduleConfig.disableAdVisibilityChecks,t,this.logger)},this.setupSlotRenderListener=(e,t,r)=>r.googletag.pubads().addEventListener("slotRenderEnded",(r=>{var i,{slot:n,campaignId:a,advertiserId:o,yieldGroupIds:s,isEmpty:d}=r,c=n.getSlotElementId(),l=e.indexOf(c)>-1,u=!a||-1===this.moduleConfig.excludeOrderIds.indexOf(a),p=!!a&&this.moduleConfig.includeOrderIds.indexOf(a)>-1,g=!!o&&this.moduleConfig.includeAdvertiserIds.indexOf(o)>-1,f=!!s&&this.moduleConfig.includeYieldGroupIds.some((e=>s.indexOf(e)>-1)),m=!d&&l&&u&&(p||g||f);m||this.logTrackingDisallowedReason(c,{slotIsEmpty:d,slotIsMonitored:l,orderIdNotExcluded:u,orderIdIncluded:p,advertiserIdIncluded:g,yieldGroupIdIncluded:f},s,a,o);var v=!(null===(i=this.adVisibilityService)||void 0===i||!i.isSlotTracked(c));m?this.adVisibilityService.trackSlot(n,t):v&&this.adVisibilityService.removeSlotTracking(n)})),this.reloadAdSlot=e=>t=>{var r=t.getSlotElementId(),i=e.slots.find((e=>e.domId===r)),n=this.getAdPipeline&&this.getAdPipeline();if(i&&n){var a;null===(a=this.logger)||void 0===a||a.debug("AdReload","fired slot reload",i.domId);var o=this.maybeOptimizeSlotForCls(i,t);t.setTargeting(this.reloadKeyValue,"true"),n.run([o],Ag(Ag({},e),{},{slots:[...e.slots.filter((e=>{var{domId:t}=e;return t!==r})),o]}),this.requestAdsCalls)}},this.maybeOptimizeSlotForCls=(e,t)=>{var r=e.domId;if(this.moduleConfig.optimizeClsScoreDomIds.indexOf(r)>-1){var i,n=this.window.document.getElementById(r);if(n&&n.style){var a,o=n.scrollHeight;n.style.setProperty("height","".concat(o,"px"));var s=e.sizes.filter((e=>"fluid"!==e&&e[1]<=o));return null===(a=this.logger)||void 0===a||a.debug("AdReload","CLS optimization: slot ".concat(r," received fixed height ").concat(o,"px"),"new sizes:",s),s.length<e.sizes.filter((e=>"fluid"!==e)).length&&this.window.googletag.destroySlots([t]),Ag(Ag({},e),{},{sizes:s})}null===(i=this.logger)||void 0===i||i.warn("AdReload","CLS optimization: slot ".concat(r," to be optimized but not found in DOM."))}return e},this.logTrackingDisallowedReason=(e,t,r,i,n)=>{var a,o,s,d,{slotIsEmpty:c,slotIsMonitored:l,orderIdNotExcluded:u,orderIdIncluded:p,advertiserIdIncluded:g,yieldGroupIdIncluded:f}=t;c&&(null===(a=this.logger)||void 0===a||a.debug("AdReload",e,"slot not tracked: reported empty")),l||null===(o=this.logger)||void 0===o||o.debug("AdReload",e,"slot not tracked: excluded by DOM id"),u||null===(s=this.logger)||void 0===s||s.debug("AdReload",e,"slot not tracked: excluded by order id",i),p||g||f||null===(d=this.logger)||void 0===d||d.debug("AdReload",e,"slot not tracked: neither order id",i,"nor advertiser id",n,"nor yieldGroup id",r,"included")},e.refreshIntervalMs&&(this.refreshIntervalMs=e.refreshIntervalMs)}config(){return this.moduleConfig}isInitialized(){return this.initialized}init(e,t,r){this.getAdPipeline=r,this.logger=sl(e,this.window);var i=e.slots.filter((e=>-1===this.moduleConfig.excludeAdSlotDomIds.indexOf(e.domId))).map((e=>e.domId)),n=this.reloadAdSlot(e);this.logger.debug("AdReload","monitoring slots",i),e.pipeline=e.pipeline||{initSteps:[],configureSteps:[],prepareRequestAdsSteps:[]},e.pipeline.configureSteps.push(kl(this.name,(e=>(this.requestAdsCalls=e.requestAdsCalls,this.initialize(e,i,n),Promise.resolve()))))}}({excludeAdSlotDomIds:[xu,Vu],optimizeClsScoreDomIds:[Pu,xu,Ru,Du,ju,Nu,Bu],includeAdvertiserIds:[37700201,5186404074,5023969586,5014348234,4455968149,4405587483,35910161,5034948161,32808401,43576481,4438964633,4747758710,4438857036,5073645287,4535058683,4868041394,4554684890,4554837988,4621582512,5212042310,4807611833,4436052918,4987642514,4817777208,4858047317,4641216415,4846953737,4944998360,108918,4658844199,4939939133,4881505388],includeOrderIds:[345910361,2253976751,2253976781,2253976697,2253975557,2253975098,2192599584,2254421475,2192552351,2192297455,2254151164,2253976937,2102538624,2102442895,2102538621,2102506691,2102276108,2102342393,2102381460,2102342390,2102299096,2102278244],excludeOrderIds:[2291325516,2294900119,2295192144,2294762327,2674487191],includeYieldGroupIds:[443900,412220,108918],refreshIntervalMs:15e3,userActivityLevelControl:{level:"moderate"}},window,"native-ad-reload"),kg=new class{constructor(e){this.confiantConfig=e,this.name="confiant",this.description="ad fraud detection and protection module",this.moduleType="ad-fraud",this.gvlid="56"}config(){return this.confiantConfig}init(e,t){e.pipeline=e.pipeline||{initSteps:[],configureSteps:[],prepareRequestAdsSteps:[]},e.pipeline.initSteps.push(Ol(this.name,(e=>this.loadConfiant(e,t))))}loadConfiant(e,t){return"test"===e.env||e.tcData.gdprApplies&&!e.tcData.vendor.consents[this.gvlid]||t.loadScript({name:this.name,loadMethod:el.TAG,assetUrl:this.confiantConfig.assetUrl}),Promise.resolve()}}({assetUrl:"https://cdn.confiant-integrations.net/kRComxmfBXWH0rxGJnF5OUp_BVE/gpt_and_prebid/config.js"}),Tg=new class{constructor(e){this.script=e?document.querySelector(e):document.currentScript}getAttribute(e,t){return this.script&&this.script.getAttribute(e)||t}getAdTagConfig(){try{var e=this.getAttribute("data-ad-tag-config",JSON.stringify(Ou));try{return JSON.parse(e)}catch(t){return console.error("error parsing ad tag config",e,t),Ou}}catch(e){return console.error("error loading ad tag config",e),Ou}}}('[data-ref="moli-ad-tag"]'),Cg=Tg.getAdTagConfig();Fe.processQueue();var Pg=(e=>{var t=e,r=t.moli&&[...t.moli.que]||[],i=yu(e);return t.moli=i,r.forEach((e=>e(i))),i})(window);Pg.setAdUnitPathVariables({vertical:Cg.vertical.name}),Pg.registerModule(gg),Pg.registerModule(kg),Pg.registerModule(ku),Pg.registerModule(Og);var xg=(e=>{var t=(()=>{if(e.vertical)switch(e.vertical.platform){case"gf":return"66a5e026-9dae-48eb-95f5-7049b2d3013b";case"ff":return"39d57d0f-840c-4dae-a21e-546fba3a3932";case"gef":return"08307bf0-83bc-465e-9812-7735279515c5";case"af":return"647e0066-dab7-4ca5-82e5-f1ac6b1566f4";case"mf":return"3f22915f-91d6-4347-a5fd-0394b58ebffa";case"rf":return"021a0770-8df4-4ade-b8d6-1206c5a4043e";case"sf":return"48b46d44-9b83-4b0f-b6db-0d49d0a7e64f";case"cf":return"fba5b543-d43c-43d3-8a27-3720ddadb2df";case"tf":return null}return null})();return t?new Tu({tagId:t}):null})(Cg);xg&&Pg.registerModule(xg),Pg.registerModule(Fu),Pg.registerModule(Hu),Pg.registerModule(tg),Pg.registerModule(Wu),Pg.registerModule(ug),Cg.features.emetriq&&Pg.registerModule(yg),Cg.features.viewability&&Pg.registerModule(_g),Pg.refreshAdSlot([Pu,xu]),Pg.configure(((e,t,r,i)=>{var n=[];return"gef"!==e.vertical.platform&&n.push(zc.Criteo),-1!==r.indexOf(zc.AppNexus)?n.push(zc.AppNexus):n.push(zc.AppNexusAst),{slots:Kp(e),labelSizeConfig:cp,targeting:{keyValues:{pbnv:e.features["GD-5131-native-ortb"]?"3":"2"},labels:[zc.Adagio,zc.DSPX,zc.IndexExchange,zc.JustPremium,zc.PubMatic,zc.Orbidder,zc.SmartAdServer,zc.Teads,zc.Rubicon,zc.Yieldlab,zc.Visx,"a9",...n]},consent:{disableLegitimateInterest:!0},prebid:ep(e,r,i),a9:{timeout:2250,pubID:"3569",cmpTimeout:500,enableFloorPrices:!0,floorPriceCurrency:"USD",slotNamePathDepth:3,supportedSizes:[[970,90],[300,75],[320,75],[300,300],[120,600],[250,250],[468,60],[800,250],[300,50],[320,100],[728,90],[160,600],[320,50],[970,250],[300,250],[336,280],[300,600]],schainNode:{asi:"aps.amazon.com",sid:"3569",hp:1}},buckets:{enabled:!0},schain:{supplyChainStartNode:{asi:"highfivve.com",sid:"2001",hp:1}}}})(Cg,0,Ju,Pg.version))},631:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var _src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(13),_src_utils_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(240),_src_utils_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(265),_src_adloader_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(680),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(905),_src_config_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(808),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(449),_src_polyfill_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(582),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(559),_src_native_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(120),_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(462),_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(143),GVLID=91,ADAPTER_VERSION=35,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=(0,_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__.df)({bidderCode:BIDDER_CODE}),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=135,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.Mk,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5],getUserSyncs:function(e,t,r,i){if(canFastBid(_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.fastBidVersion")))return[];var n=(0,_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__.nH)(),a="criteoPrebidAdapter";if(e.iframeEnabled&&(0,_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__.h)(r)){var o=[];o.push("origin=".concat(a)),o.push("topUrl=".concat(n.domain)),r&&(r.gdprApplies&&o.push("gdpr=".concat(1==r.gdprApplies?1:0)),r.consentString&&o.push("gdpr_consent=".concat(r.consentString))),i&&o.push("us_privacy=".concat(i));var s=Math.random().toString(),d={bundle:readFromAllStorages(BUNDLE_COOKIE_NAME),cw:storage.cookiesAreEnabled(),lsw:storage.localStorageIsEnabled(),optoutCookie:readFromAllStorages(OPTOUT_COOKIE_NAME),origin:a,requestId:s,tld:n.domain,topUrl:n.domain,version:"7.45.0".replace(/\./g,"_")};window.addEventListener("message",(function e(t){if(t.data&&"https://gum.criteo.com"==t.origin&&t.data.requestId===s){this.removeEventListener("message",e),t.stopImmediatePropagation();var r=t.data;r.optout?(deleteFromAllStorages(BUNDLE_COOKIE_NAME),saveOnAllStorages(OPTOUT_COOKIE_NAME,!0,OPTOUT_RETENTION_TIME_HOUR)):r.bundle&&saveOnAllStorages(BUNDLE_COOKIE_NAME,r.bundle,GUID_RETENTION_TIME_HOUR)}}),!0);var c=JSON.stringify(d).replace(/"/g,"%22");return[{type:"iframe",url:"https://gum.criteo.com/syncframe?".concat(o.join("&"),"#").concat(c)}]}return[]},isBidRequestValid:e=>!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e)),buildRequests:(e,t)=>{var r,i,n,a;e=(0,_src_native_js__WEBPACK_IMPORTED_MODULE_6__.lY)(e);var o=t.ortb2||{};Object.assign(t,{publisherExt:null===(r=o.site)||void 0===r?void 0:r.ext,userExt:null===(i=o.user)||void 0===i?void 0:i.ext,ceh:_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.ceh"),coppa:_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("coppa")});var s=_src_config_js__WEBPACK_IMPORTED_MODULE_3__.vc.getConfig("criteo.fastBidVersion"),d=canFastBid(s);if(!publisherTagAvailable()&&d){window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid();var c=getFastBidUrl(s);setTimeout((()=>{(0,_src_adloader_js__WEBPACK_IMPORTED_MODULE_7__.B)(c,BIDDER_CODE)}),t.timeout)}if(publisherTagAvailable()){var l=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"7.45.0");n=l.buildCdbUrl(),a=l.buildCdbRequest()}else{var u=buildContext(e,t);n=buildCdbUrl(u),a=buildCdbRequest(u,e,t)}if(a)return{method:"POST",url:n,data:a,bidRequests:e}},interpretResponse:(e,t)=>{var r=e.body||e;if(publisherTagAvailable()){var i=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(i)return i.interpretResponse(r,t)}var n=[];return r&&r.slots&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.kJ)(r.slots)&&r.slots.forEach((i=>{var a,o,s,d,c=(0,_src_polyfill_js__WEBPACK_IMPORTED_MODULE_9__.sE)(t.bidRequests,(e=>e.adUnitCode===i.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===i.zoneid))),l=c.bidId,u={requestId:l,cpm:i.cpm,currency:i.currency,netRevenue:!0,ttl:i.ttl||60,creativeId:i.creativecode,width:i.width,height:i.height,dealId:i.dealCode};if(null!==(a=r.ext)&&void 0!==a&&null!==(o=a.paf)&&void 0!==o&&o.transmission&&null!==(s=i.ext)&&void 0!==s&&null!==(d=s.paf)&&void 0!==d&&d.content_id){var p={content_id:i.ext.paf.content_id,transmission:e.ext.paf.transmission};u.meta=Object.assign({},u.meta,{paf:p})}i.adomain&&(u.meta=Object.assign({},u.meta,{advertiserDomains:[i.adomain].flat()})),i.native?c.params.nativeCallback?u.ad=createNativeAd(l,i.native,c.params.nativeCallback):(u.native=createPrebidNativeAd(i.native),u.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5):i.video?(u.vastUrl=i.displayurl,u.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX):u.ad=i.creative,n.push(u)})),n},onTimeout:e=>{if(publisherTagAvailable()&&Array.isArray(e)){var t=[];e.forEach((e=>{-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())}))}},onBidWon:e=>{publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:e=>{publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}};function readFromAllStorages(e){var t=storage.getCookie(e),r=storage.getDataFromLocalStorage(e);return t||r||void 0}function saveOnAllStorages(e,t,r){var i=new Date;i.setTime(i.getTime()+60*r*60*1e3);var n="expires=".concat(i.toUTCString());storage.setCookie(e,t,n),storage.setDataInLocalStorage(e,t)}function deleteFromAllStorages(e){storage.setCookie(e,"",0),storage.removeDataFromLocalStorage(e)}function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var r,i="";t&&t.refererInfo&&(i=t.refererInfo.page);var n=(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.en)(null==t||null===(r=t.refererInfo)||void 0===r?void 0:r.topmostLocation).search,a={url:i,debug:"1"===n.pbt_debug,noLog:"1"===n.pbt_nolog,amp:!1};return e.forEach((e=>{"amp"===e.params.integrationMode&&(a.amp=!0)})),a}function buildCdbUrl(e){var t=CDB_ENDPOINT;t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("7.45.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),storage.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0",e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1");var r=readFromAllStorages(BUNDLE_COOKIE_NAME);return r&&(t+="&bundle=".concat(r)),readFromAllStorages(OPTOUT_COOKIE_NAME)&&(t+="&optout=1"),t}function checkNativeSendId(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}function buildCdbRequest(e,t,r){var i,n,a,o,s,d,c,l,u={publisher:{url:e.url,ext:r.publisherExt},regs:{coppa:!0===r.coppa?1:!1===r.coppa?0:void 0,gpp:null===(i=r.ortb2)||void 0===i||null===(n=i.regs)||void 0===n?void 0:n.gpp,gpp_sid:null===(a=r.ortb2)||void 0===a||null===(o=a.regs)||void 0===o?void 0:o.gpp_sid},slots:t.map((e=>{c=e.params.networkId||c,l=e.schain||l;var t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};if(e.params.zoneId&&(t.zoneid=e.params.zoneId),(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"ortb2Imp.ext")&&(t.ext=e.ortb2Imp.ext),e.params.ext&&(t.ext=Object.assign({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),(e.params.nativeCallback||hasNativeMediaType(e))&&(t.native=!0,checkNativeSendId(e)||(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.yN)(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)")),hasBannerMediaType(e)?t.sizes=parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.banner.sizes"),parseSize):t.sizes=[],hasVideoMediaType(e)){var r={playersizes:parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api,skip:e.mediaTypes.video.skip,placement:e.mediaTypes.video.placement,minduration:e.mediaTypes.video.minduration,playbackmethod:e.mediaTypes.video.playbackmethod,startdelay:e.mediaTypes.video.startdelay},i=e.params.video;void 0!==i&&(r.skip=r.skip||i.skip||0,r.placement=r.placement||i.placement,r.minduration=r.minduration||i.minduration,r.playbackmethod=r.playbackmethod||i.playbackmethod,r.startdelay=r.startdelay||i.startdelay||0),t.video=r}return enrichSlotWithFloors(t,e),t}))};return c&&(u.publisher.networkid=c),l&&(u.source={ext:{schain:l}}),u.user=(null===(s=r.ortb2)||void 0===s?void 0:s.user)||{},u.site=(null===(d=r.ortb2)||void 0===d?void 0:d.site)||{},r&&r.ceh&&(u.user.ceh=r.ceh),r&&r.gdprConsent&&(u.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(u.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),u.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(u.gdprConsent.consentData=r.gdprConsent.consentString)),r&&r.uspConsent&&(u.user.uspIab=r.uspConsent),u}function parseSizes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return null==e?[]:Array.isArray(e[0])?e.map((e=>t(e))):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.video")}function hasBannerMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.banner")}function hasNativeMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.native")}function hasValidVideoMediaType(e){var t=!0;if(["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach((function(r){void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"mediaTypes.video."+r)&&void 0===(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e,"params.video."+r)&&(t=!1,(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.H)("Criteo Bid Adapter: mediaTypes.video."+r+" is required"))})),t){var r=e.mediaTypes.video.placement||e.params.video.placement;if("instream"==e.mediaTypes.video.context&&1===r)return!0;if("outstream"==e.mediaTypes.video.context&&1!==r)return!0}return!1}function createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map((e=>e.url))}}function createNativeAd(e,t,r){var i="criteo_prebid_native_slots";return window[i]=window[i]||{},window[i][e]={callback:r,payload:t},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(i,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(e,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function pickAvailableGetFloorFunc(e){if(e.getFloor)return e.getFloor;if(e.params.bidFloor&&e.params.bidFloorCur)try{var t=parseFloat(e.params.bidFloor);return()=>({currency:e.params.bidFloorCur,floor:t})}catch(e){}}function enrichSlotWithFloors(e,t){try{var r,i,n,a={},o=pickAvailableGetFloorFunc(t);if(o)null!==(r=t.mediaTypes)&&void 0!==r&&r.banner&&(a.banner={},parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t,"mediaTypes.banner.sizes")).forEach((e=>a.banner[parseSize(e).toString()]=o.call(t,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.Mk})))),null!==(i=t.mediaTypes)&&void 0!==i&&i.video&&(a.video={},parseSizes((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t,"mediaTypes.video.playerSize")).forEach((e=>a.video[parseSize(e).toString()]=o.call(t,{size:e,mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX})))),null!==(n=t.mediaTypes)&&void 0!==n&&n.native&&(a.native={},a.native["*"]=o.call(t,{size:"*",mediaType:_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5})),Object.keys(a).length>0&&(e.ext||(e.ext={}),Object.assign(e.ext,{floors:a}))}catch(e){(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.H)("Could not parse floors from Prebid: "+e)}}function canFastBid(e){return e!==FAST_BID_VERSION_NONE}function getFastBidUrl(e){var t;return e===FAST_BID_VERSION_LATEST?t="":e?(String(e).split(".")[0]<102&&(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.yN)("Specifying a Fastbid version which is not supporting version selection."),t="."+e):t="."+FAST_BID_VERSION_CURRENT,PUBLISHER_TAG_URL_TEMPLATE.replace(FAST_BID_VERSION_PLACEHOLDER,t)}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){var firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.yN)("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{var publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);(0,criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__.T)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.PN)("Using Criteo FastBid"),eval(publisherTag)):((0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.yN)("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(e){}}(0,_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_11__.dX)(spec),(0,_src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_12__.z)("criteoBidAdapter")},912:(e,t,r)=>{"use strict";r.d(t,{Th:()=>c,Pd:()=>l,_U:()=>u});var i=r(680),n=r(240),a=r(265),o=r(7),s=(0,r(13).R)(),d="outstream";function c(e){var{url:t,config:r,id:a,callback:o,loaded:s,adUnitCode:c,renderNow:l}=e;this.url=t,this.config=r,this.handlers={},this.id=a,this.renderNow=l,this.loaded=s,this.cmd=[],this.push=e=>{"function"==typeof e?this.loaded?e.call():this.cmd.push(e):(0,n.H)("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||(()=>{this.loaded=!0,this.process()}),this.render=function(){var e=arguments,r=()=>{this._render?this._render.apply(this,e):(0,n.yN)("No render function was provided, please use .setRender on the renderer")};p(c)?((0,n.yN)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(c)),r()):l?r():(this.cmd.unshift(r),(0,i.B)(t,d,this.callback,this.documentContext))}.bind(this)}function l(e){return!(!e||!e.url&&!e.renderNow)}function u(e,t,r){var i=null;e.config&&e.config.documentResolver&&(i=e.config.documentResolver(t,document,r)),i||(i=document),e.documentContext=i,e.render(t,e.documentContext)}function p(e){var t=s.adUnits,r=(0,o.sE)(t,(t=>t.code===e));if(!r)return!1;var i=(0,a.Z)(r,"renderer"),n=!!(i&&i.url&&i.render),d=(0,a.Z)(r,"mediaTypes.video.renderer"),c=!!(d&&d.url&&d.render);return!!(n&&!0!==i.backupOnly||c&&!0!==d.backupOnly)}c.install=function(e){var{url:t,config:r,id:i,callback:n,loaded:a,adUnitCode:o,renderNow:s}=e;return new c({url:t,config:r,id:i,callback:n,loaded:a,adUnitCode:o,renderNow:s})},c.prototype.getConfig=function(){return this.config},c.prototype.setRender=function(e){this._render=e},c.prototype.setEventHandlers=function(e){this.handlers=e},c.prototype.handleVideoEvent=function(e){var{id:t,eventName:r}=e;"function"==typeof this.handlers[r]&&this.handlers[r](),(0,n.ji)("Prebid Renderer event for id ".concat(t," type ").concat(r))},c.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,n.H)("Error processing Renderer command: ",e)}}},807:(e,t,r)=>{"use strict";r.d(t,{ic:()=>i,UL:()=>n,y2:()=>a,XG:()=>o,_U:()=>s});var i="core",n="bidder",a="userId",o="rtd",s="analytics"},419:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var i=r(265),n={};function a(e,t,r){var i=function(e,t){var r=n[e]=n[e]||{bidders:{}};return t?r.bidders[t]=r.bidders[t]||{}:r}(e,r);return i[t]=(i[t]||0)+1,i[t]}var o={incrementRequestsCounter:function(e){return a(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return a(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return a(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,i.Z)(n,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return(0,i.Z)(n,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return(0,i.Z)(n,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},521:(e,t,r)=>{"use strict";function i(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}r.d(t,{Z:()=>i})},554:(e,t,r)=>{"use strict";r.d(t,{VP:()=>z,ZP:()=>W,rp:()=>B,uV:()=>V,TJ:()=>q,nX:()=>M});var i=r(142),n=r(240),a=r(265),o=r(808),s=r(7),d=r(449),c=[];function l(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function u(){var{labels:e=[],labelAll:t=!1,activeLabels:r=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c,u=p(l);(0,n.PO)(i)||(i=o?{banner:{sizes:o}}:{});var g=(0,a.Z)(i,"banner.sizes");u.shouldFilter&&g&&((i=(0,n.I8)(i)).banner.sizes=g.filter((e=>u.sizesSupported[e])));var f={active:!i.hasOwnProperty(d.Mk)||(0,a.Z)(i,"banner.sizes.length")>0&&(0===e.length||!t&&(e.some((e=>u.labels[e]))||e.some((e=>(0,s.q9)(r,e))))||t&&e.reduce(((e,t)=>e?u.labels[t]||(0,s.q9)(r,t):e),!0)),mediaTypes:i};return g&&g.length!==i.banner.sizes.length&&(f.filterResults={before:g,after:i.banner.sizes}),f}function p(e){return e.reduce(((e,t)=>{if("object"==typeof t&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){var r=!1;try{r=(0,n.Zy)().matchMedia(t.mediaQuery).matches}catch(e){(0,n.yN)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),r=matchMedia(t.mediaQuery).matches}r&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((r=>(t[r]||[]).forEach((t=>e[r][t]=!0)))))}else(0,n.yN)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}o.vc.getConfig("sizeConfig",(e=>function(e){c=e}(e.sizeConfig)));var g=r(120),f=r(905),m=r(447),v=r(955),h=r(419),b=r(462),y=r(556),_=r(782),w=r(999),I=r(946),S=r(181),E=r(807);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k={CLIENT:"client",SERVER:"server"},T={},C=T.bidderRegistry={},P=T.aliasRegistry={},x=[];o.vc.getConfig("s2sConfig",(e=>{e&&e.s2sConfig&&(x=(0,n.kJ)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var R={},D=(0,v.z3)("sync",(function(e){var{bidderCode:t,auctionId:r,bidderRequestId:i,adUnits:o,src:s,metrics:d}=e;return o.reduce(((e,o)=>{var c=o.bids.filter((e=>e.bidder===t));return null==t&&0===c.length&&null!=o.s2sBid&&c.push({bidder:null}),e.push(c.reduce(((e,t)=>{var c=null==(t=Object.assign({},t,{ortb2Imp:(0,n.Ee)({},o.ortb2Imp,t.ortb2Imp)},(0,n.iG)(o,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?o.mediaTypes:t.mediaTypes;return(0,n.FS)(c)?t=Object.assign({},t,{mediaTypes:c}):(0,n.H)("mediaTypes is not correctly configured for adunit ".concat(o.code)),e.push(Object.assign({},t,{adUnitCode:o.code,transactionId:o.transactionId,sizes:(0,a.Z)(c,"banner.sizes")||(0,a.Z)(c,"video.playerSize")||[],bidId:t.bid_id||(0,n._d)(),bidderRequestId:i,auctionId:r,src:s,metrics:d,bidRequestsCount:h.f.getRequestsCounter(o.code),bidderRequestsCount:h.f.getBidderRequestsCounter(o.code,t.bidder),bidderWinsCount:h.f.getBidderWinsCounter(o.code,t.bidder)})),e}),[])),e}),[]).reduce(n.xH,[]).filter((e=>""!==e))}),"getBids"),j=(0,v.z3)("sync",(function(e,t){var{getS2SBidders:r=V}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==t)return e;var i=r(t);return e.filter((e=>i.has(e.bidder)))}),"filterBidsForAdUnit");function N(e,t){var r=(0,n.I8)(e),i=!1;return r.forEach((e=>{var r=e.bids.filter((e=>{var r;return"pbsBidAdapter"===e.module&&(null===(r=e.params)||void 0===r?void 0:r.configName)===t.configName}));1===r.length?(e.s2sBid=r[0],i=!0,e.ortb2Imp=(0,n.Ee)({},e.s2sBid.ortb2Imp,e.ortb2Imp)):r.length>1&&(0,n.yN)('Multiple "module" bids for the same s2s configuration; all will be ignored',r),e.bids=j(e.bids,t).map((e=>(e.bid_id=(0,n._d)(),e)))})),{adUnits:r=r.filter((e=>0!==e.bids.length||null!=e.s2sBid)),hasModuleBids:i}}function U(e){var t=(0,n.I8)(e);return t.forEach((e=>{e.bids=j(e.bids,null)})),t.filter((e=>0!==e.bids.length))}var B=new y.iK,M=new y.LO,q=new y.$e,z={getCoppa:function(){return!!o.vc.getConfig("coppa")}},L=(0,v.z3)("sync",((e,t)=>function(e,t){return e.reduce(((e,r)=>{var{active:i,mediaTypes:a,filterResults:o}=u(l(r,t),r.mediaTypes,r.sizes);return i?(o&&(0,n.PN)('Size mapping filtered adUnit "'.concat(r.code,'" banner sizes from '),o.before,"to ",o.after),r.mediaTypes=a,r.bids=r.bids.reduce(((e,i)=>{var{active:a,mediaTypes:o,filterResults:s}=u(l(i,t),r.mediaTypes);return a?(s&&((0,n.PN)('Size mapping filtered adUnit "'.concat(r.code,'" bidder "').concat(i.bidder,'" banner sizes from '),s.before,"to ",s.after),i.mediaTypes=o),e.push(i)):(0,n.PN)('Size mapping deactivated adUnit "'.concat(r.code,'" bidder "').concat(i.bidder,'"')),e}),[]),e.push(r)):(0,n.PN)('Size mapping disabled adUnit "'.concat(r.code,'"')),e}),[])}(e,t)),"setupAdUnitMediaTypes");function V(e){(0,n.kJ)(e)||(e=[e]);var t=new Set([null]);return e.filter((e=>e&&e.enabled)).flatMap((e=>e.bidders)).forEach((e=>t.add(e))),t}var F=(0,v.z3)("sync",(function(e,t){var{getS2SBidders:r=V}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r(t);return(0,n.pP)(e).reduce(((e,t)=>(e[i.has(t)?k.SERVER:k.CLIENT].push(t),e)),{[k.CLIENT]:[],[k.SERVER]:[]})}),"partitionBidders");function H(e,t){var r=C[e],i=(null==r?void 0:r.getSpec)&&r.getSpec();if(i&&i[t]&&"function"==typeof i[t])return[i,i[t]]}function Z(e,t,r,i){try{(0,n.PN)("Invoking ".concat(e,".").concat(t));for(var a=arguments.length,s=new Array(a>4?a-4:0),d=4;d<a;d++)s[d-4]=arguments[d];o.vc.runWithBidder(e,i.bind(r,...s))}catch(r){(0,n.yN)("Error calling ".concat(t," of ").concat(e))}}function G(e,t,r){var i=H(e,t);null!=i&&Z(e,t,...i,r)}function K(e){for(var t=new Set;P.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=P[e];return e}T.makeBidRequests=(0,v.z3)("sync",(function(e,t,r,i,a){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6?arguments[6]:void 0;c=(0,I.Bf)(c),_.j8(w.EVENTS.BEFORE_REQUEST_BIDS,e),(0,g.Fb)(e),e=L(e,a);var{[k.CLIENT]:l,[k.SERVER]:u}=F(e,x);o.vc.getConfig("bidderSequence")===o.FD&&(l=(0,n.TV)(l));var p=(0,b.nH)(),f=[],m=d.global||{},v=d.bidder||{};function h(e){var t=Object.freeze((0,n.Ee)({},m,v[e.bidderCode]));return e.ortb2=t,e.bids.forEach((e=>e.ortb2=t)),e}x.forEach((i=>{if(i&&i.enabled){var{adUnits:a,hasModuleBids:o}=N(e,i),d=(0,n.DO)();(0===u.length&&o?[null]:u).forEach((e=>{var o=(0,n._d)(),s=c.fork(),l=h({bidderCode:e,auctionId:r,bidderRequestId:o,uniquePbsTid:d,bids:D({bidderCode:e,auctionId:r,bidderRequestId:o,adUnits:(0,n.I8)(a),src:w.S2S.SRC,metrics:s}),auctionStart:t,timeout:i.timeout,src:w.S2S.SRC,refererInfo:p,metrics:s});0!==l.bids.length&&f.push(l)})),a.forEach((e=>{var t=e.bids.filter((e=>(0,s.sE)(f,(t=>(0,s.sE)(t.bids,(t=>t.bidId===e.bid_id))))));e.bids=t})),f.forEach((e=>{void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=a.filter((e=>e.bids.length>0||null!=e.s2sBid)))}))}}));var y=U(e);return l.forEach((e=>{var o=(0,n._d)(),s=c.fork(),d=h({bidderCode:e,auctionId:r,bidderRequestId:o,bids:D({bidderCode:e,auctionId:r,bidderRequestId:o,adUnits:(0,n.I8)(y),labels:a,src:"client",metrics:s}),auctionStart:t,timeout:i,refererInfo:p,metrics:s}),l=C[e];l||(0,n.H)("Trying to make a request for bidder that does not exist: ".concat(e)),l&&d.bids&&0!==d.bids.length&&f.push(d)})),f.forEach((e=>{B.getConsentData()&&(e.gdprConsent=B.getConsentData()),M.getConsentData()&&(e.uspConsent=M.getConsentData()),q.getConsentData()&&(e.gppConsent=q.getConsentData())})),f}),"makeBidRequests"),T.callBids=function(e,t,r,i,a,s,d){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(t.length){var[l,u]=t.reduce(((e,t)=>(e[Number(void 0!==t.src&&t.src===w.S2S.SRC)].push(t),e)),[[],[]]),p=[];u.forEach((e=>{for(var t=-1,r=0;r<p.length;++r)if(e.uniquePbsTid===p[r].uniquePbsTid){t=r;break}t<=-1&&p.push(e)}));var g=0;x.forEach((e=>{if(e&&p[g]&&V(e).has(p[g].bidderCode)){var t=(0,m.O)(s,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0),o=e.bidders,d=C[e.adapter],l=p[g].uniquePbsTid,f=p[g].adUnitsS2SCopy,v=u.filter((e=>e.uniquePbsTid===l));if(d){var h={ad_units:f,s2sConfig:e,ortb2Fragments:c};if(h.ad_units.length){var b=v.map((e=>(e.start=(0,n.AB)(),i.bind(e)))),y=(0,n.pP)(h.ad_units).filter((e=>o.includes(e)));(0,n.ji)("CALLING S2S HEADER BIDDERS ==== ".concat(y.length>0?y.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),v.forEach((e=>{_.j8(w.EVENTS.BID_REQUESTED,O(O({},e),{},{tid:e.auctionId}))})),d.callBids(h,u,r,(()=>b.forEach((e=>e()))),t)}}else(0,n.H)("missing "+e.adapter);g++}})),l.forEach((e=>{e.start=(0,n.AB)();var t=C[e.bidderCode];o.vc.runWithBidder(e.bidderCode,(()=>{(0,n.ji)("CALLING BIDDER"),_.j8(w.EVENTS.BID_REQUESTED,e)}));var c=(0,m.O)(s,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0),l=i.bind(e);try{o.vc.runWithBidder(e.bidderCode,n.ak.call(t.callBids,t,e,r,l,c,d,o.vc.callbackWithBidder(e.bidderCode)))}catch(t){(0,n.H)("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),l()}}))}else(0,n.yN)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},T.videoAdapters=[],T.registerBidAdapter=function(e,t){var r,{supportedMediaTypes:i=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&t?"function"==typeof e.callBids?(C[t]=e,y.qh.register(E.UL,t,null===(r=e.getSpec)||void 0===r?void 0:r.call(e).gvlid),(0,s.q9)(i,"video")&&T.videoAdapters.push(t),(0,s.q9)(i,"native")&&g.Sg.push(t)):(0,n.H)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,n.H)("bidAdapter or bidderCode not specified")},T.aliasBidAdapter=function(e,t,r){if(void 0===C[t]){var i=C[e];if(void 0===i){var a=[];x.forEach((r=>{if(r.bidders&&r.bidders.length){var i=r&&r.bidders;r&&(0,s.q9)(i,t)?P[t]=e:a.push(e)}})),a.forEach((e=>{(0,n.H)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var o,d=function(e){var t=[];return(0,s.q9)(T.videoAdapters,e)&&t.push("video"),(0,s.q9)(g.Sg,e)&&t.push("native"),t}(e);if(i.constructor.prototype!=Object.prototype)(o=new i.constructor).setBidderCode(t);else{var c=i.getSpec(),l=r&&r.gvlid,u=r&&r.skipPbsAliasing;o=(0,f.PZ)(Object.assign({},c,{code:t,gvlid:l,skipPbsAliasing:u})),P[t]=e}T.registerBidAdapter(o,t,{supportedMediaTypes:d})}catch(t){(0,n.H)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,n.ji)('alias name "'+t+'" has been already specified.')},T.registerAnalyticsAdapter=function(e){var{adapter:t,code:r,gvlid:i}=e;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,R[r]={adapter:t,gvlid:i},y.qh.register(E._U,r,i)):(0,n.H)('Prebid Error: Analytics adaptor error for analytics "'.concat(r,'"\n        analytics adapter must implement an enableAnalytics() function')):(0,n.H)("Prebid Error: analyticsAdapter or analyticsCode not specified")},T.enableAnalytics=function(e){(0,n.kJ)(e)||(e=[e]),(0,n.yi)(e,(e=>{var t=R[e.provider];t&&t.adapter?t.adapter.enableAnalytics(e):(0,n.H)("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))}))},T.getBidAdapter=function(e){return C[e]},T.getAnalyticsAdapter=function(e){return R[e]},T.callTimedOutBidders=function(e,t,r){t=t.map((t=>(t.params=(0,n.S0)(e,t.adUnitCode,t.bidder),t.timeout=r,t))),t=(0,n.vM)(t,"bidder"),Object.keys(t).forEach((e=>{G(e,"onTimeout",t[e])}))},T.callBidWonBidder=function(e,t,r){t.params=(0,n.S0)(r,t.adUnitCode,t.bidder),h.f.incrementBidderWinsCounter(t.adUnitCode,t.bidder),G(e,"onBidWon",t)},T.callSetTargetingBidder=function(e,t){G(e,"onSetTargeting",t)},T.callBidViewableBidder=function(e,t){G(e,"onBidViewable",t)},T.callBidderError=function(e,t,r){G(e,"onBidderError",{error:t,bidderRequest:r})},T.callDataDeletionRequest=(0,v.z3)("sync",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i="onDataDeletionRequest";Object.keys(C).filter((e=>!P.hasOwnProperty(e))).forEach((e=>{var r=H(e,i);if(null!=r){var n=S.K.getBidsRequested().filter((t=>K(t.bidderCode)===e));Z(e,i,...r,n,...t)}})),Object.entries(R).forEach((e=>{var r,[a,o]=e,s=null==o||null===(r=o.adapter)||void 0===r?void 0:r[i];if("function"==typeof s)try{s.apply(o.adapter,t)}catch(e){(0,n.H)("error calling ".concat(i," of ").concat(a),e)}}))}));const W=T},905:(e,t,r)=>{"use strict";r.d(t,{dX:()=>E,PZ:()=>A,Ks:()=>k,BF:()=>T,Q1:()=>C,JY:()=>x});var i=r(521),n=r(554),a=r(808),o=r(979),s=r(980),d=r(120),c=r(54),l=r(999),u=r(782),p=r(7),g=r(447),f=r(240),m=r(265),v=r(449),h=r(955),b=r(559),y=r(181),_=r(844),w=r(946),I=(0,b.eA)("bidderFactory"),S=["cpm","ttl","creativeId","netRevenue","currency"];function E(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function r(e){var r=A(e);n.ZP.registerBidAdapter(r,e.code,t)}r(e),Array.isArray(e.aliases)&&e.aliases.forEach((t=>{var i,a,o=t;(0,f.PO)(t)&&(o=t.code,i=t.gvlid,a=t.skipPbsAliasing),n.ZP.aliasRegistry[o]=e.code,r(Object.assign({},e,{code:o,gvlid:i,skipPbsAliasing:a}))}))}function A(e){return Object.assign(new i.Z(e.code),{getSpec:function(){return Object.freeze(Object.assign({},e))},registerSyncs:t,callBids:function(i,s,d,c,p,g){if(Array.isArray(i.bids)){var m={},v=[],h=R(i).measureTime("validate",(()=>i.bids.filter(r)));if(0!==h.length){var b={};h.forEach((e=>{b[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),O(e,h,i,c,g,{onRequest:e=>u.j8(l.EVENTS.BEFORE_BIDDER_HTTP,i,e),onResponse:t=>{p(e.code),v.push(t)},onFledgeAuctionConfigs:e=>{e.forEach((e=>{var t=b[e.bidId];t?T(t.adUnitCode,e.config):(0,f.yN)("Received fledge auction configuration for an unknown bidId",e)}))},onError:(t,r)=>{p(e.code),n.ZP.callBidderError(e.code,r,i),u.j8(l.EVENTS.BIDDER_ERROR,{error:r,bidderRequest:i}),(0,f.H)("Server call for ".concat(e.code," failed: ").concat(t," ").concat(r.status,". Continuing without bids."))},onBid:t=>{var r,i,n,a,d=b[t.requestId];if(d){if(t.adapterCode=d.bidder,r=t.bidderCode,i=d.bidder,n=_.S.get(i,"allowAlternateBidderCodes")||!1,a=_.S.get(i,"allowedAlternateBidderCodes"),r&&i&&i!==r&&(a=(0,f.kJ)(a)?a.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(f.tT):a,!n||(0,f.kJ)(a)&&"*"!==a[0]&&!a.includes(r)))return(0,f.yN)("".concat(t.bidderCode," is not a registered partner or known bidder of ").concat(d.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.")),void s.reject(d.adUnitCode,t,l.REJECTION_REASON.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[d.bidder]);var c=Object.assign((0,o.m)(l.STATUS.GOOD,d),t);!function(e,t){var r=(0,w.Bf)(t.metrics);r.checkpoint("addBidResponse"),m[e]=!0,r.measureTime("addBidResponse.validate",(()=>x(e,t)))?s(e,t):s.reject(e,t,l.REJECTION_REASON.INVALID)}(d.adUnitCode,c)}else(0,f.yN)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring.")),s.reject(null,t,l.REJECTION_REASON.INVALID_REQUEST_ID)},onCompletion:y})}else y()}function y(){d(),a.vc.runWithBidder(e.code,(()=>{u.j8(l.EVENTS.BIDDER_DONE,i),t(v,i.gdprConsent,i.uspConsent,i.gppConsent)}))}}});function t(t,r,i,n){k(e,t,r,i,n)}function r(t){return!!e.isBidRequestValid(t)||((0,f.yN)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}var O=(0,h.z3)("sync",(function(e,t,r,i,n,a){var{onRequest:o,onResponse:s,onFledgeAuctionConfigs:d,onError:c,onBid:l,onCompletion:u}=a,p=R(r);u=p.startTiming("total").stopBefore(u);var g=p.measureTime("buildRequests",(()=>e.buildRequests(t,r)));if(g&&0!==g.length){Array.isArray(g)||(g=[g]);var m=(0,f.yx)(u,g.length);g.forEach((t=>{var r=p.fork();function a(e){null!=e&&(e.metrics=r.fork().renameWith()),l(e)}var u=n((function(i,n){h();try{i=JSON.parse(i)}catch(e){}i={body:i,headers:{get:n.getResponseHeader.bind(n)}},s(i);try{i=r.measureTime("interpretResponse",(()=>e.interpretResponse(i,t)))}catch(t){return(0,f.H)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void m()}var o;i&&(0,f.kJ)(i.fledgeAuctionConfigs)?(d(i.fledgeAuctionConfigs),o=i.bids):o=i,o&&((0,f.kJ)(o)?o.forEach(a):a(o)),m()})),g=n((function(e,t){h(),c(e,t),m()}));o(t);var v,h=r.startTiming("net");switch(t.method){case"GET":i("".concat(t.url).concat((v=t.data)?"?".concat("object"==typeof v?(0,f.Re)(v):v):""),{success:u,error:g},void 0,Object.assign({method:"GET",withCredentials:!0},t.options));break;case"POST":i(t.url,{success:u,error:g},"string"==typeof t.data?t.data:JSON.stringify(t.data),Object.assign({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:(0,f.yN)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),m()}}))}else u()}),"processBidderRequests"),k=(0,h.z3)("async",(function(e,t,r,i,o){var d=a.vc.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(d||!n.ZP.aliasRegistry[e.code])){var c=a.vc.getConfig("userSync.filterSettings"),l=e.getUserSyncs({iframeEnabled:!(!c||!c.iframe&&!c.all),pixelEnabled:!(!c||!c.image&&!c.all)},t,r,i,o);l&&(Array.isArray(l)||(l=[l]),l.forEach((t=>{s.k_.registerSync(t.type,e.code,t.url)})),s.k_.bidderDone(e.code))}}),"registerSyncs"),T=(0,h.z3)("sync",((e,t)=>{}),"addComponentAuction");function C(e,t){var r=n.ZP.getBidAdapter(e);if(r.getSpec().getMappingFileInfo){var i=r.getSpec().getMappingFileInfo(),a=i.localStorageKey?i.localStorageKey:r.getBidderCode(),o=I.getDataFromLocalStorage(a);if(o){try{o=JSON.parse(o)}catch(t){(0,f.H)("Failed to parse ".concat(e," mapping data stored in local storage"))}return o.mapping[t]?o.mapping[t]:null}}}function P(e,t){var{index:r=y.K.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var i=r.getBidRequest(t),n=r.getMediaTypes(t),a=i&&i.sizes||n&&n.banner&&n.banner.sizes,o=(0,f.sF)(a);if(1===o.length){var[s,d]=o[0].split("x");return t.width=parseInt(s,10),t.height=parseInt(d,10),!0}return!1}function x(e,t){var{index:r=y.K.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function i(){var e=Object.keys(t);return S.every((r=>(0,p.q9)(e,r)&&!(0,p.q9)([void 0,null],t[r])))}function n(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?i()?"native"!==t.mediaType||(0,d.r4)(t,{index:r})?"video"!==t.mediaType||(0,c.Dn)(t,{index:r})?!("banner"===t.mediaType&&!P(e,t,{index:r})&&((0,f.H)(n("Banner bids require a width and height")),1)):((0,f.H)(n("Video bid does not have required vastUrl or renderer property")),!1):((0,f.H)(n("Native bid missing some required properties.")),!1):((0,f.H)(n("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1):((0,f.yN)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,f.yN)("No adUnitCode was supplied to addBidResponse."),!1)}function R(e){return(0,w.Bf)(e.metrics).renameWith((t=>["adapter.client.".concat(t),"adapters.client.".concat(e.bidderCode,".").concat(t)]))}(0,h.v5)("checkAdUnitSetup").before((function(e,t){if(!a.vc.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((e=>(0,m.Z)(e,"mediaTypes.video.context")===v.Oh)).map((e=>e.bids.map((e=>e.bidder)))).reduce(f.xH,[]).filter(f.tT).forEach((e=>{var t=n.ZP.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var r=t.getSpec().getMappingFileInfo(),i=r.refreshInDays?r.refreshInDays:1,a=r.localStorageKey?r.localStorageKey:t.getSpec().code,o=I.getDataFromLocalStorage(a);try{(!(o=o?JSON.parse(o):void 0)||(0,f.AB)()>o.lastUpdated+24*i*60*60*1e3)&&(0,g.h)(r.url,{success:t=>{try{t=JSON.parse(t);var r={lastUpdated:(0,f.AB)(),mapping:t.mapping};I.setDataInLocalStorage(a,JSON.stringify(r))}catch(t){(0,f.H)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:()=>{(0,f.H)("Failed to load ".concat(e," bidder translation file"))}})}catch(t){(0,f.H)("Failed to parse ".concat(e," bidder translation mapping file"))}}})),e.call(this,t)}))},680:(e,t,r)=>{"use strict";r.d(t,{B:()=>s});var i=r(7),n=r(240),a=new WeakMap,o=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant","arcspan"];function s(e,t,r,s,d){if(t&&e){if((0,i.q9)(o,t)){s||(s=document);var c=p(s,e);if(c)return r&&"function"==typeof r&&(c.loaded?r():c.callbacks.push(r)),c.tag;var l=a.get(s)||{},u={loaded:!1,tag:null,callbacks:[]};return l[e]=u,a.set(s,l),r&&"function"==typeof r&&u.callbacks.push(r),(0,n.yN)("module ".concat(t," is loading external JavaScript")),function(t,r,i,a){i||(i=document);var o=i.createElement("script");o.type="text/javascript",o.async=!0;var s=p(i,e);return s&&(s.tag=o),o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,r())}:o.onload=function(){r()},o.src=t,a&&(0,n.D9)(o,a),(0,n.jC)(o,i),o}(e,(function(){u.loaded=!0;try{for(var e=0;e<u.callbacks.length;e++)u.callbacks[e]()}catch(e){(0,n.H)("Error executing callback","adloader.js:loadExternalScript",e)}}),s,d)}(0,n.H)("".concat(t," not whitelisted for loading external JavaScript"))}else(0,n.H)("cannot load external script without url and moduleCode");function p(e,t){var r=a.get(e);return r&&r[t]?r[t]:null}}},447:(e,t,r)=>{"use strict";r.d(t,{h:()=>a,O:()=>o});var i=r(808),n=r(240),a=o();function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,{request:t,done:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a,o,s){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var c,l=d.method||(s?"POST":"GET"),u=document.createElement("a");u.href=a;var p="object"==typeof o&&null!==o?o:{success:function(){(0,n.ji)("xhr success")},error:function(e){(0,n.H)("xhr error",null,e)}};if("function"==typeof o&&(p.success=o),(c=new window.XMLHttpRequest).onreadystatechange=function(){if(4===c.readyState){"function"==typeof r&&r(u.origin);var e=c.status;e>=200&&e<300||304===e?p.success(c.responseText,c):p.error(c.statusText,c)}},i.vc.getConfig("disableAjaxTimeout")||(c.ontimeout=function(){(0,n.H)("  xhr timeout after ",c.timeout,"ms")}),"GET"===l&&s){var g=(0,n.en)(a,d);Object.assign(g.search,s),a=(0,n.Q2)(g)}c.open(l,a,!0),i.vc.getConfig("disableAjaxTimeout")||(c.timeout=e),d.withCredentials&&(c.withCredentials=!0),(0,n.yi)(d.customHeaders,((e,t)=>{c.setRequestHeader(t,e)})),d.preflight&&c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-Type",d.contentType||"text/plain"),"function"==typeof t&&t(u.origin),"POST"===l&&s?c.send(s):c.send()}catch(e){(0,n.H)("xhr construction",e),"object"==typeof o&&null!==o&&o.error(e)}}}},181:(e,t,r)=>{"use strict";r.d(t,{K:()=>ee});var i=r(240),n=r(265),a=r(261),o=r(120),s=r(447),d=r(808);function c(e,t){var r=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}function l(e){var{index:t=ee.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.vastXml?e.vastXml:c(e.vastUrl,e.vastImpUrl),i=t.getAuction(e),n=Number(e.ttl)+15,a={type:"xml",value:r,ttlseconds:n};return d.vc.getConfig("cache.vasttrack")&&(a.bidder=e.bidder,a.bidid=e.requestId,a.aid=e.auctionId),null!=i&&(a.timestamp=i.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(a.key=e.customCacheKey),a}function u(e){return{success:function(t){var r;try{r=JSON.parse(t).responses}catch(t){return void e(t,[])}r?e(null,r):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,r){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(r))),[])}}}var p=r(912),g=r(980),f=r(955),m=r(7),v=r(54),h=r(449),b=r(844),y=r(782),_=r(554),w=r(999),I=r(935),S=r(946),E=r(979),A=r(160),O=r(13),{syncUsers:k}=g.k_,T="completed";y.on(w.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){var t=(0,A.O)(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));var C={},P={},x=[],R=(0,O.R)();function D(e){var{adUnits:t,adUnitCodes:r,callback:n,cbTimeout:a,labels:o,auctionId:s,ortb2Fragments:c,metrics:l}=e;l=(0,S.Bf)(l);var u,p,g,f,v=t,b=o,A=r,O=s||(0,i.DO)(),D=a,B=new Set,z=[],L=n,F=[],H=[],Z=[],W=[],J=[];function X(){return{auctionId:O,timestamp:u,auctionEnd:p,auctionStatus:f,adUnits:v,adUnitCodes:A,labels:b,bidderRequests:F,noBids:Z,bidsReceived:H,bidsRejected:z,winningBids:W,timeout:D,metrics:l,seatNonBids:J}}function Y(e,r){if(r&&clearTimeout(g),void 0===p){var n=[];e&&((0,i.ji)("Auction ".concat(O," timedOut")),a=B,(n=F.map((e=>(e.bids||[]).filter((e=>!a.has(e.bidder))))).reduce(i.xH,[])).length&&y.j8(w.EVENTS.BID_TIMEOUT,n)),f=T,p=Date.now(),l.checkpoint("auctionEnd"),l.timeBetween("requestBids","auctionEnd","requestBids.total"),l.timeBetween("callBids","auctionEnd","requestBids.callBids"),y.j8(w.EVENTS.AUCTION_END,X()),U(v,(function(){try{if(null!=L){var r=A,a=H.filter(i.ak.call(i.IK,this,r)).reduce(Q,{});L.apply(R,[a,e,O]),L=null}}catch(e){(0,i.H)("Error executing bidsBackHandler",null,e)}finally{n.length&&_.ZP.callTimedOutBidders(t,n,D);var o=d.vc.getConfig("userSync")||{};o.enableOverride||k(o.syncDelay)}}))}var a}function $(){d.vc.resetBidder(),(0,i.PN)("Bids Received for Auction with id: ".concat(O),H),f=T,Y(!1,!0)}function te(e){B.add(e)}function re(e){e.forEach((e=>{var t;t=e,F=F.concat(t)}));var t={},r={bidRequests:e,run:()=>{var r,o;r=Y.bind(null,!0),o=setTimeout(r,D),g=o,f="inProgress",y.j8(w.EVENTS.AUCTION_INIT,X());var s=function(e,t){var{index:r=ee.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=0,a=!1,o=new Set,s={},c={};function l(e,t){null==c[e]&&(c[e]=I.Z.resolve()),c[e]=c[e].then((()=>I.Z.resolve(t).catch((()=>{}))))}function u(e,r){var i=e.timeout;(null==i||i>t.getTimeout())&&(i=t.getTimeout());var n=t.getAuctionStart()+i-Date.now(),a=c[e.bidderRequestId],o=c[""];(null!=a||null!=o)&&n>0?I.Z.race([I.Z.timeout(n),I.Z.resolve(o).then((()=>a))]).then(r):r()}function p(){n--,a&&0===n&&e()}function g(e,t,r){return s[t.requestId]=!0,G(t,e),n++,r(p)}function f(e,r){g(e,r,(e=>{var i=K(r);i.mediaType===h.pX?q(t,i,e):(null!=i.native&&"object"==typeof i.native&&V(i),M(t,i),e())}))}function v(e,r,n){return g(e,r,(e=>{var a,o=(0,E.m)(w.STATUS.NO_BID,null===(a=r.getIdentifiers)||void 0===a?void 0:a.call(r));return Object.assign(o,Object.fromEntries(Object.entries(r).filter((e=>{var[t]=e;return!o.hasOwnProperty(t)&&!["ad","adUrl","vastXml","vastUrl","native"].includes(t)})))),o.status=w.BID_STATUS.BID_REJECTED,o.cpm=0,r.rejectionReason=n,(0,i.yN)("Bid from ".concat(r.bidder||"unknown bidder"," was rejected: ").concat(n),r),y.j8(w.EVENTS.BID_REJECTED,r),t.addBidRejected(r),e(),o}))}function b(){var r=t.getBidRequests(),c=d.vc.getConfig("auctionOptions");if(o.add(this),c&&!(0,i.xb)(c)){var l=c.secondaryBidders;l&&!r.every((e=>(0,m.q9)(l,e.bidderCode)))&&(r=r.filter((e=>!(0,m.q9)(l,e.bidderCode))))}a=r.every((e=>o.has(e))),this.bids.forEach((e=>{s[e.bidId]||(t.addNoBid(e),y.j8(w.EVENTS.NO_BID,e))})),a&&0===n&&e()}return{addBidResponse:function(){function e(e,t){var i,n=r.getBidderRequest(t);l(n&&n.bidderRequestId||"",j.call({dispatch:f},e,t,(r=>(null==i&&(i=v(e,t,r)),i))))}return e.reject=v,e}(),adapterDone:function(){u(this,b.bind(this))}}}($,this);_.ZP.callBids(v,e,s.addBidResponse,s.adapterDone,{request(e,r){a(C,r),a(t,e),P[e]||(P[e]={SRA:!0,origin:r}),t[e]>1&&(P[e].SRA=!1)},done(e){C[e]--,x[0]&&n(x[0])&&x.shift()}},D,te,c)}};function n(e){var t=!0,r=d.vc.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((e=>{var i=1,n=void 0!==e.src&&e.src===w.S2S.SRC?"s2s":e.bidderCode;return P[n]&&(!1===P[n].SRA&&(i=Math.min(e.bids.length,r)),C[P[n].origin]+i>r&&(t=!1)),!t})),t&&e.run(),t}function a(e,t){void 0===e[t]?e[t]=1:e[t]++}n(r)||((0,i.yN)("queueing auction due to limited endpoint capacity"),x.push(r))}return y.on(w.EVENTS.SEAT_NON_BID,(e=>{var t;e.auctionId===O&&(t=e.seatnonbid,J=J.concat(t))})),{addBidReceived:function(e){H=H.concat(e)},addBidRejected:function(e){z=z.concat(e)},addNoBid:function(e){Z=Z.concat(e)},executeCallback:Y,callBids:function(){f="started",u=Date.now();var e=l.measureTime("requestBids.makeRequests",(()=>_.ZP.makeBidRequests(v,u,O,D,b,c,l)));(0,i.PN)("Bids Requested for Auction with id: ".concat(O),e),l.checkpoint("callBids"),e.length<1?((0,i.yN)("No valid bid requests returned for auction"),$()):N.call({dispatch:re,context:this},e)},addWinningBid:function(e){W=W.concat(e),_.ZP.callBidWonBidder(e.adapterCode||e.bidder,e,t)},setBidTargeting:function(e){_.ZP.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:()=>W,getAuctionStart:()=>u,getTimeout:()=>D,getAuctionId:()=>O,getAuctionStatus:()=>f,getAdUnits:()=>v,getAdUnitCodes:()=>A,getBidRequests:()=>F,getBidsReceived:()=>H,getNoBids:()=>Z,getNonBids:()=>J,getFPD:()=>c,getMetrics:()=>l}}var j=(0,f.z3)("sync",(function(e,t,r){this.dispatch.call(null,e,t)}),"addBidResponse"),N=(0,f.z3)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),U=(0,f.z3)("async",(function(e,t){t&&t()}),"bidsBackCallback");function B(e,t){t.timeToRespond>e.getTimeout()+d.vc.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function M(e,t){var r,i,n;r=t,n=!0===b.S.get(r.bidderCode,"allowZeroCpmBids")?r.cpm>=0:r.cpm>0,r.bidderCode&&(n||r.dealId)&&(i=function(e,t){var{index:r=ee.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return{};var i=r.getBidRequest(t),n={},a=X(t.mediaType,e);return Y(n,a,t,i),e&&b.S.getOwn(e,w.JSON_MAPPING.ADSERVER_TARGETING)&&(Y(n,b.S.ownSettingsFor(e),t,i),t.sendStandardTargeting=b.S.get(e,"sendStandardTargeting")),t.native&&(n=Object.assign({},n,(0,o.Ur)(t))),n}(r.bidderCode,r)),r.adserverTargeting=Object.assign(r.adserverTargeting||{},i),(0,S.Bf)(t.metrics).timeSince("addBidResponse","addBidResponse.total"),y.j8(w.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),B(e,t)}function q(e,t,r){var{index:a=ee.index}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=!0,s=(0,n.Z)(a.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),c=s&&(0,n.Z)(s,"context"),l=s&&(0,n.Z)(s,"useCacheKey");d.vc.getConfig("cache.url")&&(l||c!==v.gZ)&&(!t.videoCacheKey||d.vc.getConfig("cache.ignoreBidderCacheKey")?(o=!1,Z(e,t,r,s)):t.vastUrl||((0,i.H)("videoCacheKey specified but not required vastUrl for video bid"),o=!1)),o&&(M(e,t),r())}var z,L,V=e=>{var t,r,i=null===(t=ee.index.getAdUnit(e))||void 0===t?void 0:t.nativeOrtbRequest,n=null===(r=e.native)||void 0===r?void 0:r.ortb;if(i&&n){var a=(0,o.zq)(n,i);Object.assign(e.native,a)}},F=e=>{!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.O,i={puts:e.map(l)};r(d.vc.getConfig("cache.timeout"))(d.vc.getConfig("cache.url"),u(t),JSON.stringify(i),{contentType:"text/plain",withCredentials:!0})}(e.map((e=>e.bidResponse)),(function(t,r){r.forEach(((r,n)=>{var a,{auctionInstance:o,bidResponse:s,afterBidAdded:c}=e[n];t?((0,i.yN)("Failed to save to the video cache: ".concat(t,". Video bid must be discarded.")),B(o,s)):""===r.uuid?((0,i.yN)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),B(o,s)):(s.videoCacheKey=r.uuid,s.vastUrl||(s.vastUrl=(a=s.videoCacheKey,"".concat(d.vc.getConfig("cache.url"),"?uuid=").concat(a))),M(o,s),c())}))}))};d.vc.getConfig("cache",(e=>{z="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,L="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,r=[[]],i=!1,n=e=>e();return function(a,o,s){var d=L>0?e:n;r[r.length-1].length>=z&&r.push([]),r[r.length-1].push({auctionInstance:a,bidResponse:o,afterBidAdded:s}),i||(i=!0,d((()=>{r.forEach(t),r=[[]],i=!1}),L))}}(),Z=(0,f.z3)("async",(function(e,t,r,i){H(e,t,r)}),"callPrebidCache");function G(e,t){var{index:r=ee.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.getBidderRequest(e),a=r.getAdUnit(e),o=n&&n.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||(0,i.AB)(),requestTimestamp:e.requestTimestamp||o,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=(null==a?void 0:a.ttlBuffer)&&(e.ttlBuffer=a.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}function K(e){var t,{index:r=ee.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y.j8(w.EVENTS.BID_ADJUSTMENT,e);var i=(null===(t=r.getBidRequest(e))||void 0===t?void 0:t.renderer)||r.getAdUnit(e).renderer,n=e.mediaType,o=r.getMediaTypes(e),s=o&&o[n],c=s&&s.renderer,l=null;c&&c.url&&c.render&&(!0!==c.backupOnly||!e.renderer)?l=c:i&&i.url&&i.render&&(!0!==i.backupOnly||!e.renderer)&&(l=i),l&&(e.renderer=p.Th.install({url:l.url,config:l.options}),e.renderer.setRender(l.render));var u=W(e.mediaType,o,d.vc.getConfig("mediaTypePriceGranularity")),g=(0,a.D)(e.cpm,"object"==typeof u?u:d.vc.getConfig("customPriceBucket"),d.vc.getConfig("currency.granularityMultiplier"));return e.pbLg=g.low,e.pbMg=g.med,e.pbHg=g.high,e.pbAg=g.auto,e.pbDg=g.dense,e.pbCg=g.custom,e}function W(e,t,r){if(e&&r){if(e===h.pX){var i=(0,n.Z)(t,"".concat(h.pX,".context"),"instream");if(r["".concat(h.pX,"-").concat(i)])return r["".concat(h.pX,"-").concat(i)]}return r[e]}}function J(e,t){return{key:e,val:"function"==typeof t?function(e,r){return t(e,r)}:function(e){return(0,i.NA)(e,t)}}}function X(e,t){var r=w.TARGETING_KEYS,a=Object.assign({},b.S.settingsFor(null));if(a[w.JSON_MAPPING.ADSERVER_TARGETING]||(a[w.JSON_MAPPING.ADSERVER_TARGETING]=function(){var e,t=w.TARGETING_KEYS;return[J(t.BIDDER,"bidderCode"),J(t.AD_ID,"adId"),J(t.PRICE_BUCKET,(t=>{var r=e||function(e){var{index:t=ee.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=W(e.mediaType,t.getMediaTypes(e),d.vc.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&r?"string"==typeof r?r:"custom":d.vc.getConfig("priceGranularity")}(t);return r===w.GRANULARITY_OPTIONS.AUTO?t.pbAg:r===w.GRANULARITY_OPTIONS.DENSE?t.pbDg:r===w.GRANULARITY_OPTIONS.LOW?t.pbLg:r===w.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:r===w.GRANULARITY_OPTIONS.HIGH?t.pbHg:r===w.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0})),J(t.SIZE,"size"),J(t.DEAL,"dealId"),J(t.SOURCE,"source"),J(t.FORMAT,"mediaType"),J(t.ADOMAIN,(e=>e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:"")),J(t.ACAT,(e=>e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:""))]}()),"video"===e){var o=a[w.JSON_MAPPING.ADSERVER_TARGETING].slice();if(a[w.JSON_MAPPING.ADSERVER_TARGETING]=o,[r.UUID,r.CACHE_ID].forEach((e=>{void 0===(0,m.sE)(o,(t=>t.key===e))&&o.push(J(e,"videoCacheKey"))})),d.vc.getConfig("cache.url")&&(!t||!1!==b.S.get(t,"sendStandardTargeting"))){var s=(0,i.en)(d.vc.getConfig("cache.url"));void 0===(0,m.sE)(o,(e=>e.key===r.CACHE_HOST))&&o.push(J(r.CACHE_HOST,(function(e){return(0,n.Z)(e,"adserverTargeting.".concat(r.CACHE_HOST))?e.adserverTargeting[r.CACHE_HOST]:s.hostname})))}}return a}function Y(e,t,r,n){var a=t[w.JSON_MAPPING.ADSERVER_TARGETING];return r.size=r.getSize(),(0,i.yi)(a,(function(a){var o=a.key,s=a.val;if(e[o]&&(0,i.yN)("The key: "+o+" is being overwritten"),(0,i.LQ)(s))try{s=s(r,n)}catch(e){(0,i.H)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==w.TARGETING_KEYS.DEAL&&o!==w.TARGETING_KEYS.ACAT||!(0,i.jH)(s)&&null!=s?e[o]=s:(0,i.PN)("suppressing empty key '"+o+"' from adserver targeting")})),e}function Q(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function $(e){Object.assign(this,{getAuction(t){var{auctionId:r}=t;if(null!=r)return e().find((e=>e.getAuctionId()===r))},getAdUnit(t){var{transactionId:r}=t;if(null!=r)return e().flatMap((e=>e.getAdUnits())).find((e=>e.transactionId===r))},getMediaTypes(e){var{transactionId:t,requestId:r}=e;if(null!=r){var i=this.getBidRequest({requestId:r});if(null!=i&&(null==t||i.transactionId===t))return i.mediaTypes}else if(null!=t){var n=this.getAdUnit({transactionId:t});if(null!=n)return n.mediaTypes}},getBidderRequest(t){var{requestId:r,bidderRequestId:i}=t;if(null!=r||null!=i){var n=e().flatMap((e=>e.getBidRequests()));return null!=i&&(n=n.filter((e=>e.bidderRequestId===i))),null==r?n[0]:n.find((e=>e.bids&&null!=e.bids.find((e=>e.bidId===r))))}},getBidRequest(t){var{requestId:r}=t;if(null!=r)return e().flatMap((e=>e.getBidRequests())).flatMap((e=>e.bids)).find((e=>e&&e.bidId===r))}})}var ee=function(){var e=[],t={addWinningBid:function(t){var r=(0,S.Bf)(t.metrics);r.checkpoint("bidWon"),r.timeBetween("auctionEnd","bidWon","render.pending"),r.timeBetween("requestBids","bidWon","render.e2e");var n=(0,m.sE)(e,(e=>e.getAuctionId()===t.auctionId));n?(t.status=w.BID_STATUS.RENDERED,n.addWinningBid(t)):(0,i.yN)("Auction not found when adding winning bid")},getAllWinningBids:function(){return e.map((e=>e.getWinningBids())).reduce(i.xH,[])},getBidsRequested:function(){return e.map((e=>e.getBidRequests())).reduce(i.xH,[])},getNoBids:function(){return e.map((e=>e.getNoBids())).reduce(i.xH,[])},getBidsReceived:function(){return e.map((e=>{if(e.getAuctionStatus()===T)return e.getBidsReceived()})).reduce(i.xH,[]).filter((e=>e))},getAllBidsForAdUnitCode:function(t){return e.map((e=>e.getBidsReceived())).reduce(i.xH,[]).filter((e=>e&&e.adUnitCode===t))},getAdUnits:function(){return e.map((e=>e.getAdUnits())).reduce(i.xH,[])},getAdUnitCodes:function(){return e.map((e=>e.getAdUnitCodes())).reduce(i.xH,[]).filter(i.tT)},createAuction:function(t){var r=D(t);return function(t){e.push(t)}(r),r},findBidByAdId:function(t){return(0,m.sE)(e.map((e=>e.getBidsReceived())).reduce(i.xH,[]),(e=>e.adId===t))},getStandardBidderAdServerTargeting:function(){return X()[w.JSON_MAPPING.ADSERVER_TARGETING]},setStatusForBids:function(r,i){var n=t.findBidByAdId(r);if(n&&(n.status=i),n&&i===w.BID_STATUS.BID_TARGETING_SET){var a=(0,m.sE)(e,(e=>e.getAuctionId()===n.auctionId));a&&a.setBidTargeting(n)}},getLastAuctionId:function(){return e.length&&e[e.length-1].getAuctionId()},clearAllAuctions:function(){e.length=0}};return t.index=new $((()=>e)),t}()},844:(e,t,r)=>{"use strict";r.d(t,{S:()=>l});var i=r(265),n=r(240),a=r(13),o=r(999);function s(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var d=new WeakSet;function c(e){return null==e?this.defaultScope:e}var l=new class{constructor(e,t){var r,i;(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(r=this,i=d),i.add(r),this.getSettings=e,this.defaultScope=t}get(e,t){var r=this.getOwn(e,t);return void 0===r&&(r=this.getOwn(null,t)),r}getOwn(e,t){return e=s(this,d,c).call(this,e),(0,i.Z)(this.getSettings(),"".concat(e,".").concat(t))}getScopes(){return Object.keys(this.getSettings()).filter((e=>e!==this.defaultScope))}settingsFor(e){return(0,n.Ee)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}ownSettingsFor(e){return e=s(this,d,c).call(this,e),this.getSettings()[e]||{}}}((()=>(0,a.R)().bidderSettings||{}),o.JSON_MAPPING.BD_SETTING_STANDARD)},979:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var i=r(240);function n(e){var{src:t="client",bidder:r="",bidId:n,transactionId:a,auctionId:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t,d=e||0;function c(){switch(d){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}this.bidderCode=r,this.width=0,this.height=0,this.statusMessage=c(),this.adId=(0,i._d)(),this.requestId=n,this.transactionId=a,this.auctionId=o,this.mediaType="banner",this.source=s,this.getStatusCode=function(){return d},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function a(e,t){return new n(e,t)}},808:(e,t,r)=>{"use strict";r.d(t,{FD:()=>u,vc:()=>v});var i=r(142),n=r(261),a=r(7),o=r(240),s=r(265),d=r(999);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}var l="TRUE"===(0,o.rD)(d.DEBUG_MODE).toUpperCase(),u="random",p={};p[u]=!0,p.fixed=!0;var g=u,f={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},m="*",v=function(){var e,t,r,d=[],u=null;function v(){e={};var i={_debug:l,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:null,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){(0,o.yN)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),this._publisherDomain=e},_priceGranularity:f.MEDIUM,set priceGranularity(e){d(e)&&("string"==typeof e?this._priceGranularity=s(e)?e:f.MEDIUM:(0,o.PO)(e)&&(this._customPriceBucket=e,this._priceGranularity=f.CUSTOM,(0,o.ji)("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){this._mediaTypePriceGranularity=Object.keys(e).reduce(((t,r)=>(d(e[r])?"string"==typeof e?t[r]=s(e[r])?e[r]:this._priceGranularity:(0,o.PO)(e)&&(t[r]=e[r],(0,o.ji)("Using custom price granularity for ".concat(r))):(0,o.yN)("Invalid price granularity for media type: ".concat(r)),t)),{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:g,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){p[e]?this._bidderSequence=e:(0,o.yN)("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){(function(e){if(!(0,o.PO)(e))return(0,o.yN)("Auction Options must be an object"),!1;for(var t of Object.keys(e)){if("secondaryBidders"!==t&&"suppressStaleRender"!==t)return(0,o.yN)("Auction Options given an incorrect param: ".concat(t)),!1;if("secondaryBidders"===t){if(!(0,o.kJ)(e[t]))return(0,o.yN)("Auction Options ".concat(t," must be of type Array")),!1;if(!e[t].every(o.d8))return(0,o.yN)("Auction Options ".concat(t," must be only string")),!1}else if("suppressStaleRender"===t&&!(0,o.jn)(e[t]))return(0,o.yN)("Auction Options ".concat(t," must be of type boolean")),!1}return!0})(e)&&(this._auctionOptions=e)}};function s(e){return(0,a.sE)(Object.keys(f),(t=>e===f[t]))}function d(e){if(!e)return(0,o.H)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)s(e)||(0,o.yN)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,o.PO)(e)&&!(0,n.t)(e))return(0,o.H)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&E(Object.keys(t).reduce(((e,r)=>(t[r]!==i[r]&&(e[r]=i[r]||{}),e)),{})),t=i,r={}}function h(){if(u&&r&&(0,o.PO)(r[u])){var e=r[u],i=new Set(Object.keys(t).concat(Object.keys(e)));return(0,a.Oc)(i).reduce(((r,i)=>(void 0===e[i]?r[i]=t[i]:void 0===t[i]?r[i]=e[i]:(0,o.PO)(e[i])?r[i]=(0,o.Ee)({},t[i],e[i]):r[i]=e[i],r)),{})}return Object.assign({},t)}var[b,y]=[h,function(){var e=h();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((e=>function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var t=arguments.length<=0?void 0:arguments[0];return t?(0,s.Z)(e(),t):h()}return S(...arguments)})),[_,w]=[y,b].map((e=>function(){var t=e(...arguments);return t&&"object"==typeof t&&(t=(0,o.I8)(t)),t}));function I(r){if((0,o.PO)(r)){var i=Object.keys(r),n={};i.forEach((i=>{var a=r[i];(0,o.PO)(e[i])&&(0,o.PO)(a)&&(a=Object.assign({},e[i],a));try{n[i]=t[i]=a}catch(e){(0,o.yN)("Cannot set config for property ".concat(i," : "),e)}})),E(n)}else(0,o.H)("setConfig options must be an object")}function S(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t;if("string"!=typeof e&&(i=e,e=m,r=t||{}),"function"==typeof i){var n={topic:e,callback:i};return d.push(n),r.init&&i(e===m?y():{[e]:y(e)}),function(){d.splice(d.indexOf(n),1)}}(0,o.H)("listener must be a function")}function E(e){var t=Object.keys(e);d.filter((e=>(0,a.q9)(t,e.topic))).forEach((t=>{t.callback({[t.topic]:e[t.topic]})})),d.filter((e=>e.topic===m)).forEach((t=>t.callback(e)))}function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{i(e),e.bidders.forEach((i=>{r[i]||(r[i]={}),Object.keys(e.config).forEach((n=>{var a=e.config[n];if((0,o.PO)(a)){var s=t?o.Ee:Object.assign;r[i][n]=s({},r[i][n]||{},a)}else r[i][n]=a}))}))}catch(e){(0,o.H)(e)}function i(e){if(!(0,o.PO)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,o.PO)(e.config))throw"setBidderConfig bidder options must contain a config object"}}function O(e,t){u=e;try{return t()}finally{k()}}function k(){u=null}return v(),{getCurrentBidder:function(){return u},resetBidder:k,getConfig:y,getAnyConfig:b,readConfig:_,readAnyConfig:w,setConfig:I,mergeConfig:function(e){if((0,o.PO)(e)){var t=(0,o.Ee)(h(),e);return I(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t)),t}(0,o.H)("mergeConfig input must be an object")},setDefaults:function(r){(0,o.PO)(e)?(Object.assign(e,r),Object.assign(t,r)):(0,o.H)("defaults must be an object")},resetConfig:v,runWithBidder:O,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return O(e,o.ak.call(t,this,...i))}(0,o.yN)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:A,getBidderConfig:function(){return r},mergeBidderConfig:function(e){return A(e,!0)}}}()},556:(e,t,r)=>{"use strict";r.d(t,{$P:()=>u,LO:()=>y,iK:()=>_,$e:()=>w,qh:()=>A});var i=r(142),n=r(183),a=r(271),o=r(240),s=r(935);function d(e,t,r){c(e,t),t.set(e,r)}function c(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var u=Object.freeze({}),p=new WeakMap,g=new WeakMap,f=new WeakMap,m=new WeakMap,v=new WeakSet;class h{constructor(){var e;c(this,e=v),e.add(this),d(this,p,{writable:!0,value:void 0}),d(this,g,{writable:!0,value:void 0}),d(this,f,{writable:!0,value:void 0}),d(this,m,{writable:!0,value:void 0}),(0,i.Z)(this,"generatedTime",void 0),this.reset()}reset(){(0,a.Z)(this,f,(0,s.P)()),(0,a.Z)(this,p,!1),(0,a.Z)(this,g,null),(0,a.Z)(this,m,!1),this.generatedTime=null}enable(){(0,a.Z)(this,p,!0)}get enabled(){return(0,n.Z)(this,p)}get ready(){return(0,n.Z)(this,m)}get promise(){return(0,n.Z)(this,m)?s.Z.resolve((0,n.Z)(this,g)):((0,n.Z)(this,p)||l(this,v,b).call(this,null),(0,n.Z)(this,f).promise)}setConsentData(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.AB)();this.generatedTime=t,l(this,v,b).call(this,e)}getConsentData(){return(0,n.Z)(this,g)}}function b(e){(0,a.Z)(this,m,!0),(0,a.Z)(this,g,e),(0,n.Z)(this,f).resolve(e)}class y extends h{getConsentMeta(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}}class _ extends h{getConsentMeta(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,o.d8)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}}class w extends h{getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}}var I,S,E,A=(I={},S={},E={},{register(e,t,r){r&&((I[t]=I[t]||{})[e]=r,S.hasOwnProperty(t)?S[t]!==r&&(S[t]=E):S[t]=r)},get(e){var t={modules:I[e]||{}};return S.hasOwnProperty(e)&&S[e]!==E&&(t.gvlid=S[e]),t}})},261:(e,t,r)=>{"use strict";r.d(t,{D:()=>u,t:()=>g});var i=r(7),n=r(240),a=r(808),o={buckets:[{max:5,increment:.5}]},s={buckets:[{max:20,increment:.1}]},d={buckets:[{max:20,increment:.01}]},c={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},l={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=parseFloat(e);return isNaN(i)&&(i=""),{low:""===i?"":p(e,o,r),med:""===i?"":p(e,s,r),high:""===i?"":p(e,d,r),auto:""===i?"":p(e,l,r),dense:""===i?"":p(e,c,r),custom:""===i?"":p(e,t,r)}}function p(e,t,r){var o="";if(!g(t))return o;var s=t.buckets.reduce(((e,t)=>e.max>t.max?e:t),{max:0}),d=0,c=(0,i.sE)(t.buckets,(t=>{if(e>s.max*r){var i=t.precision;void 0===i&&(i=2),o=(t.max*r).toFixed(i)}else{if(e<=t.max*r&&e>=d*r)return t.min=d,t;d=t.max}}));return c&&(o=function(e,t,r){var i=void 0!==t.precision?t.precision:2,o=t.increment*r,s=t.min*r,d=Math.floor,c=a.vc.getConfig("cpmRoundingFunction");"function"==typeof c&&(d=c);var l,u,p=Math.pow(10,i+2),g=(e*p-s*p)/(o*p);try{l=d(g)*o+s}catch(e){u=!0}return(u||"number"!=typeof l)&&((0,n.yN)("Invalid rounding function passed in config"),l=Math.floor(g)*o+s),(l=Number(l.toFixed(10))).toFixed(i)}(e,c,r)),o}function g(e){if((0,n.xb)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((e=>{e.max&&e.increment||(t=!1)})),t}},782:(e,t,r)=>{"use strict";r.d(t,{on:()=>u,S1:()=>p,vw:()=>f,j8:()=>m});var i=r(240),n=r(999),a=Array.prototype.slice,o=Array.prototype.push,s=i.HA(n.EVENTS,(function(e){return e})),d=n.EVENT_ID_PATHS,c=[],l=function(){var e={},t={};function r(t,r){i.ji("Emitting event for: "+t);var n=r[0]||{},a=n[d[t]],s=e[t]||{que:[]},l=i.HA(s,(function(e,t){return t})),u=[];c.push({eventType:t,args:n,id:a,elapsedTime:i.bd()}),a&&i.r3(l,a)&&o.apply(u,s[a].que),o.apply(u,s.que),i.yi(u,(function(e){if(e)try{e.apply(null,r)}catch(e){i.H("Error executing handler:","events.js",e)}}))}return t.on=function(t,r,n){if(function(e){return i.r3(s,e)}(t)){var a=e[t]||{que:[]};n?(a[n]=a[n]||{que:[]},a[n].que.push(r)):a.que.push(r),e[t]=a}else i.H("Wrong event name : "+t+" Valid event names :"+s)},t.emit=function(e){var t=a.call(arguments,1);r(e,t)},t.off=function(t,r,n){var a=e[t];i.xb(a)||i.xb(a.que)&&i.xb(a[n])||n&&(i.xb(a[n])||i.xb(a[n].que))||(n?i.yi(a[n].que,(function(e){var t=a[n].que;e===r&&t.splice(t.indexOf(e),1)})):i.yi(a.que,(function(e){var t=a.que;e===r&&t.splice(t.indexOf(e),1)})),e[t]=a)},t.get=function(){return e},t.addEvents=function(e){s=s.concat(e)},t.getEvents=function(){var e=[];return i.yi(c,(function(t){var r=Object.assign({},t);e.push(r)})),e},t}();i.u2(l.emit.bind(l));var{on:u,off:p,get:g,getEvents:f,emit:m,addEvents:v}=l},955:(e,t,r)=>{"use strict";r.d(t,{z3:()=>o,Cd:()=>d,v5:()=>c,bA:()=>u,Bx:()=>p,IF:()=>g});var i=r(432),n=r.n(i),a=r(935),o=n()({ready:n().SYNC|n().ASYNC|n().QUEUE}),s=(0,a.P)();o.ready=(()=>{var e=o.ready;return function(){try{return e.apply(o,arguments)}finally{s.resolve()}}})();var d=s.promise,c=o.get,l={};function u(e,t){var{postInstallAllowed:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o("async",(function(i){i.forEach((e=>t(...e))),r&&(l[e]=t)}),e)([])}function p(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var n=l[e];if(n)return n(...r);c(e).before(((e,t)=>{t.push(r),e(t)}))}function g(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((t=>[t,{get:()=>e[t]}])))),t}},449:(e,t,r)=>{"use strict";r.d(t,{B5:()=>i,pX:()=>n,Mk:()=>a,Oh:()=>o});var i="native",n="video",a="banner",o="adpod"},120:(e,t,r)=>{"use strict";r.d(t,{Sg:()=>p,xc:()=>g,Fb:()=>E,r4:()=>O,e6:()=>T,Ur:()=>C,eK:()=>x,JL:()=>R,lY:()=>U,zq:()=>q});var i=r(142),n=r(265),a=r(240),o=r(7),s=r(181),d=r(999),c=r(449);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=[],g=Object.keys(d.NATIVE_KEYS).map((e=>d.NATIVE_KEYS[e])),f={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},{NATIVE_ASSET_TYPES:m,NATIVE_IMAGE_TYPES:v,PREBID_NATIVE_DATA_KEYS_TO_ORTB:h,NATIVE_KEYS_THAT_ARE_NOT_ASSETS:b,NATIVE_KEYS:y}=d,_=z(h),w=z(m),I={img:1,js:2,1:"img",2:"js"};function S(e){if(e&&e.type&&(!(!(t=e.type)||!(0,o.q9)(Object.keys(f),t))||((0,a.H)("".concat(t," nativeParam is not supported")),!1))&&(e=f[e.type]),!e||!e.ortb||A(e.ortb))return e;var t}function E(e){e.forEach((e=>{var t=e.nativeParams||(0,n.Z)(e,"mediaTypes.native");t&&(e.nativeParams=S(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(e||(0,a.PO)(e)){var t={ver:"1.2",assets:[]};for(var r in e)if(!b.includes(r))if(y.hasOwnProperty(r)){var i=e[r],n=0;i.required&&(0,a.jn)(i.required)&&(n=Number(i.required));var o={id:t.assets.length,required:n};if(r in h)o.data={type:m[h[r]]},i.len&&(o.data.len=i.len);else if("icon"===r||"image"===r){if(o.img={type:"icon"===r?v.ICON:v.MAIN},i.aspect_ratios)if((0,a.kJ)(i.aspect_ratios))if(i.aspect_ratios.length){var{min_width:s,min_height:d}=i.aspect_ratios[0];(0,a.U)(s)&&(0,a.U)(d)?(o.img.wmin=s,o.img.hmin=d):(0,a.H)("image.aspect_ratios min_width or min_height are invalid: ",s,d);var c=i.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>"".concat(e.ratio_width,":").concat(e.ratio_height)));c.length>0&&(o.img.ext={aspectratios:c})}else(0,a.H)("image.aspect_ratios was passed, but it's empty:",i.aspect_ratios);else(0,a.H)("image.aspect_ratios was passed, but it's not a an array:",i.aspect_ratios);i.sizes&&(2===i.sizes.length&&(0,a.U)(i.sizes[0])&&(0,a.U)(i.sizes[1])?(o.img.w=i.sizes[0],o.img.h=i.sizes[1],delete o.img.hmin,delete o.img.wmin):(0,a.H)("image.sizes was passed, but its value is not an array of integers:",i.sizes))}else"title"===r?o.title={len:i.len||140}:"ext"===r&&(o.ext=i,delete o.required);t.assets.push(o)}else(0,a.H)("Unrecognized native asset code: ".concat(r,". Asset will be ignored."));return t}(0,a.H)("Native assets object is empty or not an object: ",e)}(e.nativeParams))}))}function A(e){var t=e.assets;if(!Array.isArray(t)||0===t.length)return(0,a.H)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;var r=t.map((e=>e.id));return t.length!==new Set(r).size||r.some((e=>e!==parseInt(e,10)))?((0,a.H)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?((0,a.H)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((e=>function(e){if(!(0,a.PO)(e))return(0,a.H)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!(0,a.hj)(e.img.w)&&!(0,a.hj)(e.img.wmin))return(0,a.H)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,a.hj)(e.img.h)&&!(0,a.hj)(e.img.hmin))return(0,a.H)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!(0,a.hj)(e.title.len))return(0,a.H)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!(0,a.hj)(e.data.type))return(0,a.H)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&(0,a.hj)(e.video.minduration)&&(0,a.hj)(e.video.maxduration)))return(0,a.H)("video asset is not properly configured"),!1;return!0}(e)))}function O(e){var t,{index:r=s.K.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.getAdUnit(e);if(!i)return!1;var n=i.nativeOrtbRequest,a=(null===(t=e.native)||void 0===t?void 0:t.ortb)||M(e.native,n);return k(a,n)}function k(e,t){if(!(0,n.Z)(e,"link.url"))return(0,a.H)("native response doesn't have 'link' property. Ortb response: ",e),!1;var r=t.assets.filter((e=>1===e.required)).map((e=>e.id)),i=e.assets.map((e=>e.id)),s=r.every((e=>(0,o.q9)(i,e)));return s||(0,a.H)("didn't receive a bid with all required assets. Required ids: ".concat(r,", but received ids in response: ").concat(i)),s}function T(e,t){var r=t.native.ortb||B(t.native);return"click"===e.action?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{fetchURL:r=a.hq}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){var i,n=(e.assets||[]).filter((e=>e.link)).reduce(((e,t)=>(e[t.id]=t.link,e)),{}),o=(null===(i=e.link)||void 0===i?void 0:i.clicktrackers)||[],s=n[t],d=o;s&&(d=s.clicktrackers||[]),d.forEach((e=>r(e)))}else{var c;((null===(c=e.link)||void 0===c?void 0:c.clicktrackers)||[]).forEach((e=>r(e)))}}(r,null==e?void 0:e.assetId):function(e){var{runMarkup:t=(e=>(0,a.$8)(e)),fetchURL:r=a.hq}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e.eventtrackers||[]).filter((e=>1===e.event)),{img:n,js:o}=i.reduce(((e,t)=>(I.hasOwnProperty(t.method)&&e[I[t.method]].push(t.url),e)),{img:[],js:[]});e.imptrackers&&(n=n.concat(e.imptrackers)),n.forEach((e=>r(e))),o=o.map((e=>'<script async src="'.concat(e,'"><\/script>'))),e.jstracker&&(o=o.concat([e.jstracker])),o.length&&t(o.join("\n"))}(r),e.action}function C(e){var{index:t=s.K.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},i=t.getAdUnit(e);(0,n.Z)(i,"nativeParams.rendererUrl")?e.native.rendererUrl=D(i.nativeParams.rendererUrl):(0,n.Z)(i,"nativeParams.adTemplate")&&(e.native.adTemplate=D(i.nativeParams.adTemplate));var a=!1!==(0,n.Z)(i,"nativeParams.sendTargetingKeys"),o=j(i),d=u(u({},e.native),e.native.ext);return delete d.ext,Object.keys(d).forEach((t=>{var s=o[t],d=D(e.native[t])||D((0,n.Z)(e,"native.ext.".concat(t)));if("adTemplate"!==t&&s&&d){var c=(0,n.Z)(i,"nativeParams.".concat(t,".sendId"));"boolean"!=typeof c&&(c=(0,n.Z)(i,"nativeParams.ext.".concat(t,".sendId"))),c&&(d="".concat(s,":").concat(e.adId));var l=(0,n.Z)(i,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof l&&(l=(0,n.Z)(i,"nativeParams.ext.".concat(t,".sendTargetingKeys"))),("boolean"==typeof l?l:a)&&(r[s]=d)}})),r}function P(e,t,r){var i,n,{index:a=s.K.index}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={message:"assetResponse",adId:e.adId},c=a.getAdUnit(t),l=t.native;return t.native.ortb?o.ortb=t.native.ortb:null!==(i=c.mediaTypes)&&void 0!==i&&null!==(n=i.native)&&void 0!==n&&n.ortb&&(o.ortb=M(t.native,c.nativeOrtbRequest)),o.assets=[],(null==r?Object.keys(l):r).forEach((function(e){if("adTemplate"===e&&l[e])o.adTemplate=D(l[e]);else if("rendererUrl"===e&&l[e])o.rendererUrl=D(l[e]);else if("ext"===e)Object.keys(l[e]).forEach((t=>{if(l[e][t]){var r=D(l[e][t]);o.assets.push({key:t,value:r})}}));else if(l[e]&&d.NATIVE_KEYS.hasOwnProperty(e)){var t=D(l[e]);o.assets.push({key:e,value:t})}})),o}function x(e,t){var r=e.assets.map((e=>(0,a.V9)(d.NATIVE_KEYS,e)));return P(e,t,r)}function R(e,t){return P(e,t,null)}function D(e){return(null==e?void 0:e.url)||e}function j(e){var t={};return(0,n.Z)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((e=>{t[e]="hb_native_".concat(e)})),u(u({},d.NATIVE_KEYS),t)}function N(e){if(A(e)){var t={},r=function(e){if(e.title){var r={required:!!e.required&&Boolean(e.required),len:e.title.len};t.title=r}else if(e.img){var i={required:!!e.required&&Boolean(e.required)};e.img.w&&e.img.h?i.sizes=[e.img.w,e.img.h]:e.img.wmin&&e.img.hmin&&(i.aspect_ratios={min_width:e.img.wmin,min_height:e.img.hmin,ratio_width:e.img.wmin,ratio_height:e.img.hmin}),e.img.type===v.MAIN?t.image=i:t.icon=i}else if(e.data){var n=Object.keys(m).find((t=>m[t]===e.data.type)),a=Object.keys(h).find((e=>h[e]===n));t[a]={required:!!e.required&&Boolean(e.required)},e.data.len&&(t[a].len=e.data.len)}};for(var i of e.assets)r(i);return t}}function U(e){if(!e||!(0,a.kJ)(e))return e;if(!e.some((e=>{var t;return null===(t=((null==e?void 0:e.mediaTypes)||{})[c.B5])||void 0===t?void 0:t.ortb})))return e;var t=(0,a.I8)(e);for(var r of t)r.mediaTypes&&r.mediaTypes[c.B5]&&r.mediaTypes[c.B5].ortb&&(r.mediaTypes[c.B5]=Object.assign((0,a.ei)(r.mediaTypes[c.B5],b),N(r.mediaTypes[c.B5].ortb)),r.nativeParams=S(r.mediaTypes[c.B5]));return t}function B(e){var t={link:{},eventtrackers:[]};return Object.entries(e).forEach((e=>{var[r,i]=e;switch(r){case"clickUrl":t.link.url=i;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(i)?i:[i];break;case"impressionTrackers":(Array.isArray(i)?i:[i]).forEach((e=>{t.eventtrackers.push({event:1,method:I.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(i)?i.join(""):i}})),t}function M(e,t){var r=u(u({},B(e)),{},{assets:[]});function i(e,i){var n=t.assets.find(e);null!=n&&(i(n=(0,a.I8)(n)),r.assets.push(n))}return Object.keys(e).filter((t=>!!e[t])).forEach((t=>{var r=D(e[t]);switch(t){case"title":i((e=>null!=e.title),(e=>{e.title={text:r}}));break;case"image":case"icon":var n="image"===t?v.MAIN:v.ICON;i((e=>null!=e.img&&e.img.type===n),(e=>{e.img={url:r}}));break;default:t in h&&i((e=>null!=e.data&&e.data.type===m[h[t]]),(e=>{e.data={value:r}}))}})),r}function q(e,t){var r={},i=(null==t?void 0:t.assets)||[];r.clickUrl=e.link.url,r.privacyLink=e.privacy;var n=function(e){var t=i.find((t=>e.id===t.id));e.title?r.title=e.title.text:e.img?r[t.img.type===v.MAIN?"image":"icon"]={url:e.img.url,width:e.img.w,height:e.img.h}:e.data&&(r[_[w[t.data.type]]]=e.data.value)};for(var a of(null==e?void 0:e.assets)||[])n(a);r.impressionTrackers=[];var o=[];for(var s of(null!=t&&t.imptrackers&&r.impressionTrackers.push(...t.imptrackers),(null==e?void 0:e.eventtrackers)||[]))1===s.event&&s.method===I.img&&r.impressionTrackers.push(s.url),1===s.event&&s.method===I.js&&o.push(s.url);return o=o.map((e=>'<script async src="'.concat(e,'"><\/script>'))),null!=e&&e.jstracker&&o.push(e.jstracker),o.length&&(r.javascriptTrackers=o.join("\n")),r}function z(e){var t={};for(var r in e)t[e[r]]=r;return t}},7:(e,t,r)=>{"use strict";function i(e,t,r){return e&&e.includes(t,r)||!1}function n(){return Array.from.apply(Array,arguments)}function a(e,t,r){return e&&e.find(t,r)}r.d(t,{q9:()=>i,Oc:()=>n,sE:()=>a})},13:(e,t,r)=>{"use strict";r.d(t,{R:()=>a,z:()=>o});var i=window,n=i.pbjs=i.pbjs||{};function a(){return n}function o(e){n.installedModules.push(e)}n.cmd=n.cmd||[],n.que=n.que||[],i===window&&(i._pbjsGlobals=i._pbjsGlobals||[],i._pbjsGlobals.push("pbjs"))},462:(e,t,r)=>{"use strict";r.d(t,{hh:()=>o,nH:()=>c});var i=r(808),n=r(240);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;var r=t.location.protocol;try{r=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?r+e:"".concat(r,"//").concat(e)}function o(e){var{noLeadingWww:t=!1,noPort:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e=new URL(a(e))}catch(e){return}return e=r?e.hostname:e.host,t&&e.startsWith("www.")&&(e=e.substring(4)),e}function s(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}var d,c=function(e){var t,r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return n.top!==n?e:function(){var a=s(n.document),o=n.location.href;return t===a&&o===r||(t=a,r=o,i=e()),i}}((d=window,function(){var e,t,r,c,l=[],u=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(d),p=i.vc.getConfig("maxNestedIframes"),g=!1,f=0,m=!1,v=!1,h=!1;do{var b=e,y=v,_=void 0,w=!1,I=null;v=!1,e=e?e.parent:d;try{_=e.location.href||null}catch(e){w=!0}if(w)if(y){var S=b.context;try{t=I=S.sourceUrl,h=!0,m=!0,e===d.top&&(g=!0),S.canonicalUrl&&(r=S.canonicalUrl)}catch(e){}}else{(0,n.yN)("Trying to access cross domain iframe. Continuing without referrer and location");try{var E=b.document.referrer;E&&(I=E,e===d.top&&(g=!0))}catch(e){}!I&&u&&u[f-1]&&(I=u[f-1],e===d.top&&(h=!0)),I&&!m&&(t=I)}else{if(_&&(t=I=_,m=!1,e===d.top)){g=!0;var A=s(e.document);A&&(r=A)}e.context&&e.context.sourceUrl&&(v=!0)}l.push(I),f++}while(e!==d.top&&f<p);l.reverse();try{c=d.top.document.referrer}catch(e){}var O=g||h?t:null,k=i.vc.getConfig("pageUrl")||r||null,T=i.vc.getConfig("pageUrl")||O||a(k,d);return O&&O.indexOf("?")>-1&&-1===T.indexOf("?")&&(T="".concat(T).concat(O.substring(O.indexOf("?")))),{reachedTop:g,isAmp:m,numIframes:f-1,stack:l,topmostLocation:t||null,location:O,canonicalUrl:k,page:T,domain:o(T)||null,ref:c||null,legacy:{reachedTop:g,isAmp:m,numIframes:f-1,stack:l,referer:t||null,canonicalUrl:k}}}))},559:(e,t,r)=>{"use strict";r.d(t,{Dp:()=>s,c$:()=>d,Ld:()=>c,S6:()=>u,df:()=>p,eA:()=>g});var i=r(955),n=r(240),a=r(844),o=r(807),s="html5",d="cookie",c=[];function l(){var{moduleName:e,moduleType:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{bidderSettings:r=a.S}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function i(i){if(t!==o.UL)return!0;var n=r.get(e,"storageAllowed");return n&&!0!==n?Array.isArray(n)?n.some((e=>e===i)):n===i:!!n}function l(r,a){var o;return i(a)?(u(t,e,{hasEnforcementHook:!1},(function(e){if(e&&e.hasEnforcementHook)o=r(e);else{var t={hasEnforcementHook:!1,valid:(0,n.wn)()};o=r(t)}})),o):((0,n.PN)("bidderSettings denied access to device storage for bidder '".concat(e,"'")),r({valid:!1}))}function p(e,t,r){if(!r||"function"!=typeof r)return l(e,t);c.push((function(){var i=l(e,t);r(i)}))}var g=function(e,t,r,i,n,a){return p((function(a){if(a&&a.valid){var o=n&&""!==n?" ;domain=".concat(encodeURIComponent(n)):"",s=r&&""!==r?" ;expires=".concat(r):"",d=null!=i&&"none"==i.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(s,"; path=/").concat(o).concat(i?"; SameSite=".concat(i):"").concat(d)}}),d,a)},f=function(e,t){return p((function(t){if(t&&t.valid){var r=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return r?decodeURIComponent(r[2]):null}return null}),d,t)},m=function(e){return p((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}),s,e)},v=function(e){return p((function(e){return!(!e||!e.valid)&&(0,n.IG)()}),d,e)},h=function(e,t,r){return p((function(r){r&&r.valid&&_()&&window.localStorage.setItem(e,t)}),s,r)},b=function(e,t){return p((function(t){return t&&t.valid&&_()?window.localStorage.getItem(e):null}),s,t)},y=function(e,t){return p((function(t){t&&t.valid&&_()&&window.localStorage.removeItem(e)}),s,t)},_=function(e){return p((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,n.H)("Local storage api disabled")}return!1}),s,e)},w=function(e,t){return p((function(t){if(t&&t.valid){var r=[];if((0,n.wn)())for(var i=document.cookie.split(";");i.length;){var a=i.pop(),o=a.indexOf("=");o=o<0?a.length:o,decodeURIComponent(a.slice(0,o).replace(/^\s+/,"")).indexOf(e)>=0&&r.push(decodeURIComponent(a.slice(o+1)))}return r}}),d,t)};return{setCookie:g,getCookie:f,localStorageIsEnabled:m,cookiesAreEnabled:v,setDataInLocalStorage:h,getDataFromLocalStorage:b,removeDataFromLocalStorage:y,hasLocalStorage:_,findSimilarCookies:w}}var u=(0,i.z3)("async",(function(e,t,r,i){i(r)}),"validateStorageEnforcement");function p(){var{moduleType:e,moduleName:t,bidderCode:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function i(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return r?((e&&e!==o.UL||t)&&i(),e=o.UL,t=r):t&&e||i(),l({moduleType:e,moduleName:t})}function g(e){return l({moduleName:e,moduleType:o.ic})}},980:(e,t,r)=>{"use strict";r.d(t,{k_:()=>d});var i=r(240),n=r(808),a=r(7),o=r(559);n.vc.setDefaults({userSync:(0,i.I8)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var s=(0,o.eA)("usersync"),d=function(e){var t={},r={image:[],iframe:[]},o=new Set,s={},d={image:!0,iframe:!1},c=e.config;function l(){if(c.syncEnabled&&e.browserSupportsCookies){try{d.iframe&&u(r.iframe,(e=>{var[t,n]=e;(0,i.ji)("Invoking iframe user sync for bidder: ".concat(t)),(0,i.Vs)(n),function(e,t){e.image=e.image.filter((e=>e[0]!==t))}(r,t)})),d.image&&u(r.image,(e=>{var[t,r]=e;(0,i.ji)("Invoking image pixel user sync for bidder: ".concat(t)),(0,i.hq)(r)}))}catch(e){return(0,i.H)("Error firing user syncs",e)}r={image:[],iframe:[]}}}function u(e,t){(0,i.TV)(e).forEach(t)}return n.vc.getConfig("userSync",(e=>{if(e.userSync){var t=e.userSync.filterSettings;(0,i.PO)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}c=Object.assign(c,e.userSync)})),t.registerSync=(e,n,a)=>o.has(n)?(0,i.ji)('already fired syncs for "'.concat(n,'", ignoring registerSync call')):c.syncEnabled&&(0,i.kJ)(r[e])?n?0!==c.syncsPerBidder&&Number(s[n])>=c.syncsPerBidder?(0,i.yN)('Number of user syncs exceeded for "'.concat(n,'"')):t.canBidderRegisterSync(e,n)?(r[e].push([n,a]),void(s=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(s,n))):(0,i.yN)('Bidder "'.concat(n,'" not permitted to register their "').concat(e,'" userSync pixels.')):(0,i.yN)("Bidder is required for registering sync"):(0,i.yN)('User sync type "'.concat(e,'" not supported')),t.bidderDone=o.add.bind(o),t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(l,Number(e));l()},t.triggerUserSyncs=()=>{c.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=(e,t)=>!c.filterSettings||!function(e,t){var r=c.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,i.yN)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var r=e.all?e.all:e[t],n=e.all?"all":t;if(!r)return!1;var a=r.filter,o=r.bidders;return a&&"include"!==a&&"exclude"!==a?((0,i.yN)('UserSync "filterSettings.'.concat(n,".filter\" setting '").concat(a,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===o||Array.isArray(o)&&o.length>0&&o.every((e=>(0,i.d8)(e)&&"*"!==e)))||((0,i.yN)('Detected an invalid setup in userSync "filterSettings.'.concat(n,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(r,e)){d[e]=!0;var n=r.all?r.all:r[e],o="*"===n.bidders?[t]:n.bidders,s={include:(e,t)=>!(0,a.q9)(e,t),exclude:(e,t)=>(0,a.q9)(e,t)};return s[n.filter||"include"](o,t)}return!d[e]}(e,t),t}(Object.defineProperties({config:n.vc.getConfig("userSync")},{browserSupportsCookies:{get:function(){return!(0,i.fr)()&&s.cookiesAreEnabled()}}}))},240:(e,t,r)=>{"use strict";r.d(t,{u2:()=>b,EE:()=>I,ak:()=>A,_d:()=>k,DO:()=>T,An:()=>C,Re:()=>P,Ob:()=>x,sF:()=>R,s:()=>D,Zy:()=>j,e7:()=>N,ji:()=>B,PN:()=>M,yN:()=>q,H:()=>z,qp:()=>L,eB:()=>F,$u:()=>H,rD:()=>Z,LQ:()=>K,d8:()=>W,kJ:()=>J,hj:()=>X,PO:()=>Y,jn:()=>Q,xb:()=>$,jH:()=>ee,yi:()=>te,r3:()=>re,HA:()=>ie,RI:()=>ne,jC:()=>ae,hq:()=>se,R_:()=>de,$8:()=>ce,Vs:()=>le,SG:()=>ue,tT:()=>ge,xH:()=>fe,zE:()=>me,NA:()=>ve,V9:()=>he,pP:()=>be,T9:()=>ye,X4:()=>_e,ZH:()=>we,K$:()=>Ie,TV:()=>Ee,IK:()=>Ae,I8:()=>Oe,yL:()=>ke,fr:()=>Te,ew:()=>Ce,x_:()=>Pe,AB:()=>xe,bd:()=>Re,wn:()=>De,IG:()=>je,yx:()=>Ne,vM:()=>Ue,iG:()=>Be,FS:()=>Me,S0:()=>qe,oV:()=>ze,zV:()=>Ve,ky:()=>Fe,or:()=>He,U:()=>Ze,G2:()=>Ge,fz:()=>Ke,ei:()=>We,Bq:()=>Je,uh:()=>Xe,HC:()=>Ye,hl:()=>Qe,yo:()=>$e,XV:()=>et,d5:()=>tt,Yp:()=>it,en:()=>nt,Q2:()=>at,Ee:()=>st,_R:()=>dt,W$:()=>ct,dj:()=>lt,HP:()=>ut,D9:()=>pt});var i,n=r(808),a=r(79),o=r.n(a),s=r(7),d=r(999),c=r(935),l=r(13),u=Object.prototype.toString,p=Boolean(window.console),g=Boolean(p&&window.console.log),f=Boolean(p&&window.console.info),m=Boolean(p&&window.console.warn),v=Boolean(p&&window.console.error),h=(0,l.R)();function b(e){i=e}function y(){null!=i&&i(...arguments)}var _={checkCookieSupport:je,createTrackPixelIframeHtml:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),r&&(r='sandbox="'.concat(r,'"')),"<iframe ".concat(r,' id="').concat(k(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""},getWindowSelf:N,getWindowTop:j,getWindowLocation:U,insertUserSyncIframe:le,insertElement:ae,isFn:K,triggerPixel:se,logError:z,logWarn:q,logMessage:B,logInfo:M,parseQS:rt,formatQS:it,deepEqual:ot},w={};function I(){return w}var S,E={},A=function(e,t){return t}.bind(null,1,E)()===E?Function.prototype.bind:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,r.concat(Array.prototype.slice.call(arguments)))}},O=(S=0,function(){return++S});function k(){return O()+Math.random().toString(16).substr(2)}function T(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,T)}function C(e,t){return t&&t[e]?t[e]:""}function P(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t.replace(/&$/,"")}function x(e){return e&&Object.getOwnPropertyNames(e).length>0?(t=e,Object.keys(t)).map((t=>"".concat(t,"=").concat(encodeURIComponent(ve(e,t))))).join("&"):"";var t}function R(e){var t=[];if("string"==typeof e){var r=e.split(","),i=/^(\d)+x(\d)+$/i;if(r)for(var n in r)ne(r,n)&&r[n].match(i)&&t.push(r[n])}else if("object"==typeof e){var a=e.length;if(a>0)if(2===a&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(D(e));else for(var o=0;o<a;o++)t.push(D(e[o]))}return t}function D(e){if(function(e){return J(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}(e))return e[0]+"x"+e[1]}function j(){return window.top}function N(){return window.self}function U(){return window.location}function B(){F()&&g&&console.log.apply(console,V(arguments,"MESSAGE:"))}function M(){F()&&f&&console.info.apply(console,V(arguments,"INFO:"))}function q(){F()&&m&&console.warn.apply(console,V(arguments,"WARNING:")),y(d.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments})}function z(){F()&&v&&console.error.apply(console,V(arguments,"ERROR:")),y(d.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments})}function L(e){function t(t){return function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t(e,...i)}}return{logError:t(z),logWarn:t(q),logMessage:t(B),logInfo:t(M)}}function V(e,t){e=[].slice.call(e);var r=n.vc.getCurrentBidder();return t&&e.unshift(t),r&&e.unshift(i("#aaa")),e.unshift(i("#3b88c3")),e.unshift("%cPrebid"+(r?"%c".concat(r):"")),e;function i(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function F(){return!!n.vc.getConfig("debug")}function H(){var e=document.createElement("iframe");return e.id=k(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function Z(e){return rt(U().search)[e]||""}function G(e,t){return u.call(e)==="[object "+t+"]"}function K(e){return G(e,"Function")}function W(e){return G(e,"String")}function J(e){return G(e,"Array")}function X(e){return G(e,"Number")}function Y(e){return G(e,"Object")}function Q(e){return G(e,"Boolean")}function $(e){if(!e)return!0;if(J(e)||W(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function ee(e){return W(e)&&(!e||0===e.length)}function te(e,t){if(!$(e)){if(K(e.forEach))return e.forEach(t,this);var r=0,i=e.length;if(i>0)for(;r<i;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function re(e,t){if($(e))return!1;if(K(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}function ie(e,t){if($(e))return[];if(K(e.map))return e.map(t);var r=[];return te(e,(function(i,n){r.push(t(i,n,e))})),r}function ne(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function ae(e,t,r,i){var n;t=t||document,n=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((n=n.length?n:t.getElementsByTagName("body")).length){n=n[0];var a=i?null:n.firstChild;return n.insertBefore(e,a)}}catch(e){}}function oe(e,t){var r=null;return new c.Z((i=>{var n=function t(){e.removeEventListener("load",t),e.removeEventListener("error",t),null!=r&&window.clearTimeout(r),i()};e.addEventListener("load",n),e.addEventListener("error",n),null!=t&&(r=window.setTimeout(n,t))}))}function se(e,t,r){var i=new Image;t&&_.isFn(t)&&oe(i,r).then(t),i.src=e}function de(e){var{source:t,burl:r}=e;t===d.S2S.SRC&&r&&_.triggerPixel(r)}function ce(e){if(e){var t=document.createElement("iframe");t.id=k(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",_.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}}function le(e,t,r){var i=_.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),n=document.createElement("div");n.innerHTML=i;var a=n.firstChild;t&&_.isFn(t)&&oe(a,r).then(t),_.insertElement(a,document,"html",!0)}function ue(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+encodeURI(e)+'"></div>':""}function pe(e,t,r){return null==t?r:W(t)?t:X(t)?t.toString():void _.logWarn("Unsuported type for param: "+e+" required type: String")}function ge(e,t,r){return r.indexOf(e)===t}function fe(e,t){return e.concat(t)}function me(e,t){var r;if(e)return t.some((t=>{var i=(0,s.sE)(t.bids,(t=>["bidId","adId","bid_id"].some((r=>t[r]===e))));return i&&(r=i),i})),r}function ve(e,t){return e[t]}function he(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.adUnits;return e.map((e=>e.bids.map((e=>e.bidder)).reduce(fe,[]))).reduce(fe,[]).filter((e=>void 0!==e)).filter(ge)}function ye(){if(window.googletag&&K(window.googletag.pubads)&&K(window.googletag.pubads().getSlots))return!0}function _e(){if(window.apntag&&K(window.apntag.getTag))return!0}var we=Se("timeToRespond",((e,t)=>e>t)),Ie=Se("responseTimestamp",((e,t)=>e>t));function Se(e,t){return(r,i)=>r.cpm===i.cpm?t(r[e],i[e])?i:r:r.cpm<i.cpm?i:r}function Ee(e){for(var t=e.length;t>0;){var r=Math.floor(Math.random()*t),i=e[--t];e[t]=e[r],e[r]=i}return e}function Ae(e,t){return(0,s.q9)(e,t&&t.adUnitCode)}function Oe(e){return o()(e)}function ke(){try{return _.getWindowSelf()!==_.getWindowTop()}catch(e){return!0}}function Te(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Ce(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function Pe(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function xe(){return(new Date).getTime()}function Re(){return window.performance&&window.performance.now&&window.performance.now()||0}function De(){return!1!==n.vc.getConfig("deviceAccess")}function je(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Ne(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var r=0;return function(){++r===t&&e.apply(this,arguments)}}function Ue(e,t){return e.reduce((function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})}function Be(e,t){return t.filter((t=>e[t])).reduce(((t,r)=>Object.assign(t,{[r]:e[r]})),{})}function Me(e){var t=["banner","native","video"];return!!Object.keys(e).every((e=>(0,s.q9)(t,e)))&&(!e.video||!e.video.context||(0,s.q9)(["instream","outstream","adpod"],e.video.context))}function qe(e,t,r){return e.filter((e=>e.code===t)).map((e=>e.bids)).reduce(fe,[]).filter((e=>e.bidder===r)).map((e=>e.params||{}))}function ze(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}Se("responseTimestamp",((e,t)=>e<t));var Le=(e,t)=>e.getAdUnitPath()===t||e.getSlotElementId()===t;function Ve(e){return t=>Le(e,t)}function Fe(e){var t=function(e){var t;return ye()&&(t=(0,s.sE)(window.googletag.pubads().getSlots(),function(e){return t=>Le(t,e)}(e))),t}(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function He(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(r," ad unit\n    containing bidders that don't support ").concat(r,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}function Ze(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Ge(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function Ke(e){return Object.keys(e).reduce(((t,r)=>(void 0!==e[r]&&(t[r]=e[r]),t)),{})}function We(e,t){return"object"!=typeof e?{}:t.reduce(((r,i,n)=>{if("function"==typeof i)return r;var a=i,o=i.match(/^(.+?)\sas\s(.+?)$/i);o&&(i=o[1],a=o[2]);var s=e[i];return"function"==typeof t[n+1]&&(s=t[n+1](s,r)),void 0!==s&&(r[a]=s),r}),{})}function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",r=[];return te(e,((e,i)=>{if(J(e)){var n=[];te(e,(e=>{((e=pe(t+"."+i,e))||""===e)&&n.push(e)})),e=n}else{if(!W(e=pe(t+"."+i,e)))return;e=[e]}r.push({key:i,value:e})})),r}function Xe(e,t){return Object.keys(e).forEach((r=>{var i,n;t[r]&&(K(e[r])?t[r]=e[r](t[r]):t[r]=(i=e[r],n=t[r],"string"===i?n&&n.toString():"number"===i?Number(n):n),isNaN(t[r])&&delete t.key)})),t}function Ye(e,t){return J(e)&&(!t||e.length===t)&&e.every((e=>Ze(e)))}function Qe(e,t){for(var r=[],i=0;i<t;i++){var n=Y(e)?Oe(e):e;r.push(n)}return r}function $e(e,t){for(var r=[],i=0;i<Math.ceil(e.length/t);i++){var n=i*t,a=n+t;r.push(e.slice(n,a))}return r}function et(e){return Math.min(...e)}function tt(e){return Math.max(...e)}function rt(e){return e?e.replace(/^\?/,"").split("&").reduce(((e,t)=>{var[r,i]=t.split("=");return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(i)):e[r]=i||"",e}),{}):{}}function it(e){return Object.keys(e).map((t=>Array.isArray(e[t])?e[t].map((e=>"".concat(t,"[]=").concat(e))).join("&"):"".concat(t,"=").concat(e[t]))).join("&")}function nt(e,t){var r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);var i=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:i?r.search:_.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}}function at(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(_.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function ot(e,t){var{checkTypes:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||r&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e){if(!t.hasOwnProperty(i))return!1;if(!ot(e[i],t[i],{checkTypes:r}))return!1}return!0}function st(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(!r.length)return e;var n=r.shift();if(Y(e)&&Y(n)){var a=function(t){Y(n[t])?(e[t]||Object.assign(e,{[t]:{}}),st(e[t],n[t])):J(n[t])?e[t]?J(e[t])&&n[t].forEach((r=>{for(var i=1,n=0;n<e[t].length;n++)if(ot(e[t][n],r)){i=0;break}i&&e[t].push(r)})):Object.assign(e,{[t]:[...n[t]]}):Object.assign(e,{[t]:n[t]})};for(var o in n)a(o)}return st(e,...r)}function dt(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=function(e,t){if(K(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=(4290772992&e)*t|0),0|r},n=3735928559^r,a=1103547991^r,o=0;o<e.length;o++)n=i(n^(t=e.charCodeAt(o)),2654435761),a=i(a^t,1597334677);return n=i(n^n>>>16,2246822507)^i(a^a>>>13,3266489909),(4294967296*(2097151&(a=i(a^a>>>16,2246822507)^i(n^n>>>13,3266489909)))+(n>>>0)).toString()}function ct(e){return e?e.defaultView:null}function lt(e){try{return JSON.parse(e)}catch(e){}}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=new Map,i=function(){var i=t.apply(this,arguments);return r.has(i)||r.set(i,e.apply(this,arguments)),r.get(i)};return i.clear=r.clear.bind(r),i}function pt(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setAttribute(r,t[r])}},160:(e,t,r)=>{"use strict";r.d(t,{O:()=>o});var i=r(181),n=r(844),a=r(240);function o(e,t,r){var o,{index:s=i.K.index,bs:d=n.S}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=r||s.getBidRequest(t);var c=d.get((null==t?void 0:t.bidderCode)||(null===(o=r)||void 0===o?void 0:o.bidder),"bidCpmAdjustment");if(c&&"function"==typeof c)try{return c(e,Object.assign({},t),r)}catch(e){(0,a.H)("Error during bid adjustment",e)}return e}},143:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var i=r(265);function n(e){return null==e||!e.gdprApplies||!0===(0,i.Z)(e,"vendorData.purpose.consents.1")}},946:(e,t,r)=>{"use strict";r.d(t,{Bf:()=>g,V6:()=>m,g3:()=>h,A:()=>b});var i=r(808),n="performanceMetrics",a=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),o=new WeakMap;function s(){var{now:e=a,mkNode:t=l,mkTimer:r=c,mkRenamer:i=(e=>e),nodes:n=o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){return function a(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>({forEach(t){t(e)}});function d(e){return function(t){return o.dfWalk({visit(r,i){var n=i[e];if(n.hasOwnProperty(t))return n[t]}})}}s=i(s);var c=d("timestamps");function l(e,t){var r=s(e);o.dfWalk({follow:(e,t)=>t.propagate&&(!e||!e.stopPropagation),visit(e,i){r.forEach((r=>{null==e?i.metrics[r]=t:(i.groups.hasOwnProperty(r)||(i.groups[r]=[]),i.groups[r].push(t))}))}})}function u(t){o.timestamps[t]=e()}function p(t,r){var i=c(t),n=null!=i?e()-i:null;return null!=r&&l(r,n),n}function g(e,t,r){var i=c(e),n=c(t),a=null!=i&&null!=n?n-i:null;return null!=r&&l(r,a),a}function f(t){return r(e,(e=>l(t,e)))}function m(e,t){return f(e).stopAfter(t)()}function v(e,t,r){var i=f(e);return r(function(e){var t=i.stopBefore(e);return t.bail=e.bail&&i.stopBefore(e.bail),t.stopTiming=i,t.untimed=e,t}(t))}function h(){var e={};return o.dfWalk({visit(t,r){e=Object.assign({},!t||t.includeGroups?r.groups:null,r.metrics,e)}}),e}function b(){var{propagate:e=!0,stopPropagation:r=!1,includeGroups:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a(t([[o,{propagate:e,stopPropagation:r,includeGroups:i}]]),s)}function y(e){var{propagate:t=!0,stopPropagation:r=!1,includeGroups:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.get(e);null!=a&&a.addParent(o,{propagate:t,stopPropagation:r,includeGroups:i})}function _(e){return a(o,e)}function w(){return a(o.newSibling(),s)}var I={startTiming:f,measureTime:m,measureHookTime:v,checkpoint:u,timeSince:p,timeBetween:g,setMetric:l,getMetrics:h,fork:b,join:y,newMetrics:w,renameWith:_,toJSON:()=>h()};return n.set(I,o),I}(t([]))}}function d(e,t,r){return function(){t&&t();try{return e.apply(this,arguments)}finally{r&&r()}}}function c(e,t){var r=e(),i=!1;function n(){i||(t(e()-r),i=!0)}return n.stopBefore=e=>d(e,n),n.stopAfter=e=>d(e,null,n),n}function l(e){return{metrics:{},timestamps:{},groups:{},addParent(t,r){e.push([t,r])},newSibling:()=>l(e.slice()),dfWalk(){var t,{visit:r,follow:i=(()=>!0),visited:n=new Set,inEdge:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!n.has(this)){if(n.add(this),null!=(t=r(a,this)))return t;for(var[o,s]of e)if(i(a,s)&&null!=(t=o.dfWalk({visit:r,follow:i,visited:n,inEdge:s})))return t}}}}var u=(()=>{var e=function(){},t=()=>({}),r={forEach:e},i=()=>null;i.stopBefore=e=>e,i.stopAfter=e=>e;var n=Object.defineProperties({dfWalk:e,newSibling:()=>n,addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((e=>[e,{get:t}]))));return s({now:()=>0,mkNode:()=>n,mkRenamer:()=>()=>r,mkTimer:()=>i,nodes:{get:e,set:e}})()})(),p=!0;function g(e){return p&&e||u}i.vc.getConfig(n,(e=>{p=!!e[n]}));var f,m=(f=s(),function(){return p?f():u});function v(e,t){return function(r,i){return function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];var d=this;return g(t.apply(d,o)).measureHookTime(e+r,n,(function(e){return i.call(d,e,...o)}))}}}var h=v("requestBids.",(e=>e.metrics)),b=v("addBidResponse.",((e,t)=>t.metrics))},935:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u,P:()=>g});var i=r(183),n=r(271);function a(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function o(e,t,r){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),r}var s=0,d=1,c=new WeakMap,l=new WeakMap;class u{static timeout(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new u((t=>{0===e?t():setTimeout(t,e)}))}constructor(e){if(a(this,c,{writable:!0,value:void 0}),a(this,l,{writable:!0,value:void 0}),"function"!=typeof e)throw new Error("resolver not a function");var t=[],r=[],[i,o]=[s,d].map((e=>function(n){if(e===s&&"function"==typeof(null==n?void 0:n.then))n.then(i,o);else if(!t.length)for(t.push(e,n);r.length;)r.shift()()}));try{e(i,o)}catch(e){o(e)}(0,n.Z)(this,c,t),(0,n.Z)(this,l,r)}then(e,t){var r=(0,i.Z)(this,c);return new this.constructor(((n,a)=>{var o=()=>{var i=r[1],[o,d]=r[0]===s?[e,n]:[t,a];if("function"==typeof o){try{i=o(i)}catch(e){return void a(e)}d=n}d(i)};r.length?o():(0,i.Z)(this,l).push(o)}))}catch(e){return this.then(null,e)}finally(e){var t;return this.then((r=>(t=r,e())),(r=>(t=this.constructor.reject(r),e()))).then((()=>t))}static race(e){return new this(((t,r)=>{o(this,u,p).call(this,e,((e,i)=>e?t(i):r(i)))}))}static all(e){return new this(((t,r)=>{var i=[];o(this,u,p).call(this,e,((e,t,n)=>e?i[n]=t:r(t)),(()=>t(i)))}))}static allSettled(e){return new this((t=>{var r=[];o(this,u,p).call(this,e,((e,t,i)=>r[i]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}),(()=>t(r)))}))}static resolve(e){return new this((t=>t(e)))}static reject(e){return new this(((t,r)=>r(e)))}}function p(e,t,r){var i=e.length;function n(){t.apply(this,arguments),--i<=0&&r&&r()}0===e.length&&r?r():e.forEach(((e,t)=>this.resolve(e).then((e=>n(!0,e,t)),(e=>n(!1,e,t)))))}function g(){var e,t,{promiseFactory:r=(e=>new u(e))}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function i(e){return t=>e(t)}return{promise:r(((r,i)=>{e=r,t=i})),resolve:i(e),reject:i(t)}}},54:(e,t,r)=>{"use strict";r.d(t,{gZ:()=>d,LD:()=>c,Dn:()=>l});var i=r(265),n=r(240),a=r(808),o=r(955),s=r(181),d="outstream",c="instream";function l(e){var{index:t=s.K.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,i.Z)(t.getMediaTypes(e),"video"),n=r&&(0,i.Z)(r,"context"),a=r&&(0,i.Z)(r,"useCacheKey"),o=t.getAdUnit(e);return u(e,o,r,n,a)}var u=(0,o.z3)("sync",(function(e,t,r,i,o){return r&&(o||i!==d)?a.vc.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,n.H)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(i===d&&!o&&!(e.renderer||t&&t.renderer||r.renderer))}),"checkVideoBidSetup")},611:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){null!==e&&this.fromHexString(e)}return e.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,r="",i=this.t,n=this.DB-i*this.DB%4;if(i-- >0)for(n<this.DB&&(e=this[i]>>n)>0&&(t=!0,r=l(e));i>=0;)n<4?(e=(this[i]&(1<<n)-1)<<4-n,e|=this[--i]>>(n+=this.DB-4)):(e=this[i]>>(n-=4)&15,n<=0&&(n+=this.DB,--i)),e>0&&(t=!0),t&&(r+=l(e));return t?r:"0"},e.prototype.fromHexString=function(t){if(null!==t){this.t=0,this.s=0;for(var r=t.length,i=!1,n=0;--r>=0;){var a=c(t,r);a<0?"-"==t.charAt(r)&&(i=!0):(i=!1,0==n?this[this.t++]=a:n+4>this.DB?(this[this.t-1]|=(a&(1<<this.DB-n)-1)<<n,this[this.t++]=a>>this.DB-n):this[this.t-1]|=a<<n,(n+=4)>=this.DB&&(n-=this.DB))}this.clamp(),i&&e.ZERO.subTo(this,this)}},e.prototype.negate=function(){var t=n();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.mod=function(t){var r=n();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&t.subTo(r,r),r},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,i=this.DB-r,n=(1<<i)-1,a=Math.floor(e/this.DB),o=this.s<<r&this.DM,s=this.t-1;s>=0;--s)t[s+a+1]=this[s]>>i|o,o=(this[s]&n)<<r;for(s=a-1;s>=0;--s)t[s]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},e.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var i=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,i,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},e.prototype.multiplyTo=function(t,r){var i=this.abs(),n=t.abs(),a=i.t;for(r.t=a+n.t;--a>=0;)r[a]=0;for(a=0;a<n.t;++a)r[a+i.t]=i.am(0,n[a],r,a,0,i.t);r.s=0,r.clamp(),this.s!=t.s&&e.ZERO.subTo(r,r)},e.prototype.divRemTo=function(t,r,i){var o=t.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=r&&r.fromHexString("0"),void(null!=i&&this.copyTo(i));null==i&&(i=n());var d=n(),c=this.s,l=t.s,u=this.DB-a(o[o.t-1]);u>0?(o.lShiftTo(u,d),s.lShiftTo(u,i)):(o.copyTo(d),s.copyTo(i));var p=d.t,g=d[p-1];if(0!=g){var f=g*(1<<this.F1)+(p>1?d[p-2]>>this.F2:0),m=this.FV/f,v=(1<<this.F1)/f,h=1<<this.F2,b=i.t,y=b-p,_=null==r?n():r;for(d.dlShiftTo(y,_),i.compareTo(_)>=0&&(i[i.t++]=1,i.subTo(_,i)),e.ONE.dlShiftTo(p,_),_.subTo(d,d);d.t<p;)d[d.t++]=0;for(;--y>=0;){var w=i[--b]==g?this.DM:Math.floor(i[b]*m+(i[b-1]+h)*v);if((i[b]+=d.am(0,w,i,y,0,p))<w)for(d.dlShiftTo(y,_),i.subTo(_,i);i[b]<--w;)i.subTo(_,i)}null!=r&&(i.drShiftTo(p,r),c!=l&&e.ZERO.subTo(r,r)),i.t=p,i.clamp(),u>0&&i.rShiftTo(u,i),c<0&&e.ZERO.subTo(i,i)}}},e.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var i=e%this.DB,n=this.DB-i,a=(1<<i)-1;t[0]=this[r]>>i;for(var o=r+1;o<this.t;++o)t[o-r-1]|=(this[o]&a)<<n,t[o-r]=this[o]>>i;i>0&&(t[this.t-r-1]|=(this.s&a)<<n),t.t=this.t-r,t.clamp()}},e.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.subTo=function(e,t){for(var r=0,i=0,n=Math.min(e.t,this.t);r<n;)i+=this[r]-e[r],t[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i-=e[r],t[r++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[r++]=this.DV+i:i>0&&(t[r++]=i),t.t=r,t.clamp()},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new u(t):new p(t),this.exp(e,r)},e.prototype.exp=function(t,r){if(t>4294967295||t<1)return e.ONE;var i=n(),o=n(),s=r.convert(this),d=a(t)-1;for(s.copyTo(i);--d>=0;)if(r.sqrTo(i,o),(t&1<<d)>0)r.mulTo(o,s,i);else{var c=i;i=o,o=c}return r.revert(i)},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},e.prototype.am1=function(e,t,r,i,n,a){for(;--a>=0;){var o=t*this[e++]+r[i]+n;n=Math.floor(o/67108864),r[i++]=67108863&o}return n},e.prototype.am2=function(e,t,r,i,n,a){for(var o=32767&t,s=t>>15;--a>=0;){var d=32767&this[e],c=this[e++]>>15,l=s*d+c*o;n=((d=o*d+((32767&l)<<15)+r[i]+(1073741823&n))>>>30)+(l>>>15)+s*c+(n>>>30),r[i++]=1073741823&d}return n},e.prototype.am3=function(e,t,r,i,n,a){for(var o=16383&t,s=t>>14;--a>=0;){var d=16383&this[e],c=this[e++]>>14,l=s*d+c*o;n=((d=o*d+((16383&l)<<14)+r[i]+n)>>28)+(l>>14)+s*c,r[i++]=268435455&d}return n},e}();function n(){return new i(null)}function a(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}t.BigInteger=i,t.nbi=n,t.nbits=a;var o,s,d=[];for(o="0".charCodeAt(0),s=0;s<=9;++s)d[o++]=s;for(o="a".charCodeAt(0),s=10;s<36;++s)d[o++]=s;for(o="A".charCodeAt(0),s=10;s<36;++s)d[o++]=s;function c(e,t){var r=d[e.charCodeAt(t)];return null==r?-1:r}function l(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}t.intAt=c,t.int2char=l,t.b64toHex=function(e){var t,r="",i=0,n=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));a<0||(0==i?(r+=l(a>>2),n=3&a,i=1):1==i?(r+=l(n<<2|a>>4),n=15&a,i=2):2==i?(r+=l(n),r+=l(a>>2),n=3&a,i=3):(r+=l(n<<2|a>>4),r+=l(15&a),i=0))}return 1==i&&(r+=l(n<<2)),r},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var u=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),p=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=n();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(i.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=n();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],i=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function g(e){var t=n();return t.fromHexString(e.toString()),t}t.nbv=g,i.ZERO=g(0),i.ONE=g(1),"Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=i.prototype.am2,r=30):"Netscape"!=navigator.appName?(i.prototype.am=i.prototype.am1,r=26):(i.prototype.am=i.prototype.am3,r=28),i.prototype.DB=r,i.prototype.DM=(1<<r)-1,i.prototype.DV=1<<r,i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-r,i.prototype.F2=2*r-52},950:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.hash=function(t){t=e.utf8Encode(t||"");for(var r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],n=(t+=String.fromCharCode(128)).length/4+2,a=Math.ceil(n/16),o=new Array(a),s=0;s<a;s++){o[s]=new Array(16);for(var d=0;d<16;d++)o[s][d]=t.charCodeAt(64*s+4*d)<<24|t.charCodeAt(64*s+4*d+1)<<16|t.charCodeAt(64*s+4*d+2)<<8|t.charCodeAt(64*s+4*d+3)<<0}var c=8*(t.length-1)/Math.pow(2,32),l=8*(t.length-1)>>>0;for(o[a-1][14]=Math.floor(c),o[a-1][15]=l,s=0;s<a;s++){for(var u=new Array(64),p=0;p<16;p++)u[p]=o[s][p];for(p=16;p<64;p++)u[p]=e.q1(u[p-2])+u[p-7]+e.q0(u[p-15])+u[p-16]>>>0;var g=i[0],f=i[1],m=i[2],v=i[3],h=i[4],b=i[5],y=i[6],_=i[7];for(p=0;p<64;p++){var w=_+e.z1(h)+e.Ch(h,b,y)+r[p]+u[p],I=e.z0(g)+e.Maj(g,f,m);_=y,y=b,b=h,h=v+w>>>0,v=m,m=f,f=g,g=w+I>>>0}i[0]=i[0]+g>>>0,i[1]=i[1]+f>>>0,i[2]=i[2]+m>>>0,i[3]=i[3]+v>>>0,i[4]=i[4]+h>>>0,i[5]=i[5]+b>>>0,i[6]=i[6]+y>>>0,i[7]=i[7]+_>>>0}var S=new Array(i.length);for(_=0;_<i.length;_++)S[_]=("00000000"+i[_].toString(16)).slice(-8);return S.join("")},e.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce((function(e,t){return e+String.fromCharCode(t)}),"")}catch(t){return unescape(encodeURIComponent(e))}},e.ROTR=function(e,t){return t>>>e|t<<32-e},e.z0=function(t){return e.ROTR(2,t)^e.ROTR(13,t)^e.ROTR(22,t)},e.z1=function(t){return e.ROTR(6,t)^e.ROTR(11,t)^e.ROTR(25,t)},e.q0=function(t){return e.ROTR(7,t)^e.ROTR(18,t)^t>>>3},e.q1=function(t){return e.ROTR(17,t)^e.ROTR(19,t)^t>>>10},e.Ch=function(e,t,r){return e&t^~e&r},e.Maj=function(e,t,r){return e&t^e&r^t&r},e}();t.Sha256=r},582:(e,t,r)=>{"use strict";var i=r(611),n=r(950);t.T=function(e,t,r,a){var o=new i.BigInteger(i.b64toHex(t)),s=new i.BigInteger(i.b64toHex(r)),d=o.modPowInt(a,s);return i.removeExtraSymbols(d.toHexString())===n.Sha256.hash(e)}},265:(e,t,r)=>{"use strict";function i(e,t,r,i,n){for(t=t.split?t.split("."):t,i=0;i<t.length;i++)e=e?e[t[i]]:n;return e===n?r:e}r.d(t,{Z:()=>i})},432:e=>{o.SYNC=1,o.ASYNC=2,o.QUEUE=4;var t=Object.freeze({useProxy:!0,ready:0}),r=new WeakMap,i="2,1,0"===[1].reduce((function(e,t,r){return[e,t,r]}),2).toString()?Array.prototype.reduce:function(e,t){var r,i=Object(this),n=i.length>>>0,a=0;if(t)r=t;else{for(;a<n&&!(a in i);)a++;r=i[a++]}for(;a<n;)a in i&&(r=e(r,i[a],a,i)),a++;return r};function n(e,t){return Array.prototype.slice.call(e,t)}var a=Object.assign||function(e){return i.call(n(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(r){e[r]=t[r]})),e}),e)};function o(e){var s,d={},c=[];function l(e,t){return"function"==typeof e?f.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?f.apply(null,arguments):"object"==typeof e?u.apply(null,arguments):void 0}function u(e,t,r){var i=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),i=!1);var n={},a=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==a.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var i=t.split(":"),a=i[0],o=i[1]||"sync";if(!n[a]){var s=e[a];n[a]=e[a]=f(o,s,r?[r,a]:void 0)}})),e=Object.getPrototypeOf(e)}while(i&&e);return n}function p(e){var t=Array.isArray(e)?e:e.split(".");return i.call(t,(function(r,i,n){var a=r[i],o=!1;return a||(n===t.length-1?(s||c.push((function(){o||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),r[i]=g((function(e){r[i]=e,o=!0}))):r[i]={})}),d)}function g(e){var t=[],i=[],n=function(){},o={before:function(e,r){return d.call(this,t,"before",e,r)},after:function(e,t){return d.call(this,i,"after",e,t)},getHooks:function(e){var r=t.concat(i);"object"==typeof e&&(r=r.filter((function(t){return Object.keys(e).every((function(r){return t[r]===e[r]}))})));try{a(r,{remove:function(){return r.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return r},removeAll:function(){return this.getHooks().remove()}},s={install:function(r,a,o){this.type=r,n=o,o(t,i),e&&e(a)}};return r.set(o.after,s),o;function d(e,r,a,o){var s={hook:a,type:r,priority:o||10,remove:function(){var r=e.indexOf(s);-1!==r&&(e.splice(r,1),n(t,i))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),n(t,i),this}}function f(t,i,d){var l=i.after&&r.get(i.after);if(l){if(l.type!==t)throw"fun-hooks: recreated hookable with different type";return i}var u,f,m=d?p(d):g(),v={get:function(e,t){return m[t]||Reflect.get.apply(Reflect,arguments)}};return s||c.push(h),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?f=new Proxy(i,v):(f=function(){return v.apply?v.apply(i,this,n(arguments)):i.apply(this,arguments)},a(f,m)),r.get(f.after).install(t,f,(function(e,r){var i,a=[];function o(e){a.push(e.hook)}e.length||r.length?(e.forEach(o),i=a.push(void 0)-1,r.forEach(o),u=function(e,r,o){var s,d=0,c="async"===t&&"function"==typeof o[o.length-1]&&o.pop();function l(e){"sync"===t?s=e:c&&c.apply(null,arguments)}function u(e){if(a[d]){var i=n(arguments);return u.bail=l,i.unshift(u),a[d++].apply(r,i)}"sync"===t?s=e:c&&c.apply(null,arguments)}return a[i]=function(){var i=n(arguments,1);"async"===t&&c&&(delete u.bail,i.push(u));var a=e.apply(r,i);"sync"===t&&u(a)},u.apply(null,o),s}):u=void 0,h()})),f;function h(){!s&&("sync"!==t||e.ready&o.SYNC)&&("async"!==t||e.ready&o.ASYNC)?"sync"!==t&&e.ready&o.QUEUE?v.apply=function(){var e=arguments;c.push((function(){f.apply(e[1],e[2])}))}:v.apply=function(){throw"fun-hooks: hooked function not ready"}:v.apply=u}}return(e=a({},t,e)).ready?l.ready=function(){s=!0,function(e){for(var t;t=e.shift();)t()}(c)}:s=!0,l.get=p,l}e.exports=o},79:e=>{e.exports=function e(t){var r=Array.isArray(t)?[]:{};for(var i in t){var n=t[i];r[i]=n&&"object"==typeof n?e(n):n}return r}},83:(e,t,r)=>{"use strict";function i(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}r.d(t,{Z:()=>i})},183:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(83);function n(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,(0,i.Z)(e,t,"get"))}},271:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(83);function n(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,(0,i.Z)(e,t,"set"),r),r}},142:(e,t,r)=>{"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>i})},999:e=>{"use strict";e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"},"REJECTION_REASON":{"INVALID":"Bid has missing or invalid properties","INVALID_REQUEST_ID":"Invalid request ID","BIDDER_DISALLOWED":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","FLOOR_NOT_MET":"Bid does not meet price floor","CANNOT_CONVERT_CURRENCY":"Unable to convert currency"},"PREBID_NATIVE_DATA_KEYS_TO_ORTB":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"NATIVE_ASSET_TYPES":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"NATIVE_IMAGE_TYPES":{"ICON":1,"MAIN":3},"NATIVE_KEYS_THAT_ARE_NOT_ASSETS":["privacyLink","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}')}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);__webpack_require__.r(r);var i={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var n=2&t&&e;"object"==typeof n&&!~leafPrototypes.indexOf(n);n=getProto(n))Object.getOwnPropertyNames(n).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,__webpack_require__.d(r,i),r},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(366)})();